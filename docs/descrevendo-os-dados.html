<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 6 Descrevendo os dados | Introdução à Bioestatística usando o R</title>
  <meta name="description" content="Capítulo 6 Descrevendo os dados | Introdução à Bioestatística usando o R" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 6 Descrevendo os dados | Introdução à Bioestatística usando o R" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 6 Descrevendo os dados | Introdução à Bioestatística usando o R" />
  
  
  

<meta name="author" content="Petrônio Fagundes de Oliveira Filho" />


<meta name="date" content="2023-04-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="manipulando-os-dados-no-r-studio.html"/>
<link rel="next" href="introdução-à-teoria-das-probabilidades.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">bookR</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introdução</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#importância-da-bioestatística"><i class="fa fa-check"></i><b>1.1</b> Importância da Bioestatística</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#sec-historia"><i class="fa fa-check"></i><b>1.2</b> Pílulas históricas da Estatística</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#história-resumida-do-r"><i class="fa fa-check"></i><b>1.3</b> História resumida do R</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="natureza-dos-dados.html"><a href="natureza-dos-dados.html"><i class="fa fa-check"></i><b>2</b> Natureza dos Dados</a>
<ul>
<li class="chapter" data-level="2.1" data-path="natureza-dos-dados.html"><a href="natureza-dos-dados.html#variáveis-e-dados"><i class="fa fa-check"></i><b>2.1</b> Variáveis e Dados</a></li>
<li class="chapter" data-level="2.2" data-path="natureza-dos-dados.html"><a href="natureza-dos-dados.html#população-e-amostra"><i class="fa fa-check"></i><b>2.2</b> População e Amostra</a></li>
<li class="chapter" data-level="2.3" data-path="natureza-dos-dados.html"><a href="natureza-dos-dados.html#estimativas-e-parâmetros"><i class="fa fa-check"></i><b>2.3</b> Estimativas e Parâmetros</a></li>
<li class="chapter" data-level="2.4" data-path="natureza-dos-dados.html"><a href="natureza-dos-dados.html#escalas-de-medição"><i class="fa fa-check"></i><b>2.4</b> Escalas de medição</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="natureza-dos-dados.html"><a href="natureza-dos-dados.html#escala-nominal"><i class="fa fa-check"></i><b>2.4.1</b> Escala Nominal</a></li>
<li class="chapter" data-level="2.4.2" data-path="natureza-dos-dados.html"><a href="natureza-dos-dados.html#escala-ordinal"><i class="fa fa-check"></i><b>2.4.2</b> Escala Ordinal</a></li>
<li class="chapter" data-level="2.4.3" data-path="natureza-dos-dados.html"><a href="natureza-dos-dados.html#escala-intervalar"><i class="fa fa-check"></i><b>2.4.3</b> Escala Intervalar</a></li>
<li class="chapter" data-level="2.4.4" data-path="natureza-dos-dados.html"><a href="natureza-dos-dados.html#escala-de-razão"><i class="fa fa-check"></i><b>2.4.4</b> Escala de Razão</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="natureza-dos-dados.html"><a href="natureza-dos-dados.html#tipos-de-variáveis"><i class="fa fa-check"></i><b>2.5</b> Tipos de Variáveis</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="natureza-dos-dados.html"><a href="natureza-dos-dados.html#variáveis-numéricas"><i class="fa fa-check"></i><b>2.5.1</b> Variáveis Numéricas</a></li>
<li class="chapter" data-level="2.5.2" data-path="natureza-dos-dados.html"><a href="natureza-dos-dados.html#variáveis-categóricas"><i class="fa fa-check"></i><b>2.5.2</b> Variáveis Categóricas</a></li>
<li class="chapter" data-level="2.5.3" data-path="natureza-dos-dados.html"><a href="natureza-dos-dados.html#como-identificar-o-tipo-da-variável"><i class="fa fa-check"></i><b>2.5.3</b> Como identificar o tipo da variável?</a></li>
<li class="chapter" data-level="2.5.4" data-path="natureza-dos-dados.html"><a href="natureza-dos-dados.html#variáveis-dependentes-e-independentes"><i class="fa fa-check"></i><b>2.5.4</b> Variáveis Dependentes e Independentes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html"><i class="fa fa-check"></i><b>3</b> Produção dos Dados</a>
<ul>
<li class="chapter" data-level="3.1" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#processo-de-pesquisa"><i class="fa fa-check"></i><b>3.1</b> Processo de Pesquisa</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#questão-de-pesquisa"><i class="fa fa-check"></i><b>3.1.1</b> Questão de Pesquisa</a></li>
<li class="chapter" data-level="3.1.2" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#hipótese-de-pesquisa"><i class="fa fa-check"></i><b>3.1.2</b> Hipótese de Pesquisa</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#processo-de-amostragem"><i class="fa fa-check"></i><b>3.2</b> Processo de Amostragem</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#amostras-probabilística"><i class="fa fa-check"></i><b>3.2.1</b> Amostras probabilística</a></li>
<li class="chapter" data-level="3.2.2" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#amostras-não-probabilísticas"><i class="fa fa-check"></i><b>3.2.2</b> Amostras não probabilísticas</a></li>
<li class="chapter" data-level="3.2.3" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#tamanho-amostral"><i class="fa fa-check"></i><b>3.2.3</b> Tamanho amostral</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#principais-delineamentos-de-pesquisa"><i class="fa fa-check"></i><b>3.3</b> Principais Delineamentos de Pesquisa</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#elementos-básicos-de-um-delineamento-de-pesquisa"><i class="fa fa-check"></i><b>3.3.1</b> Elementos básicos de um delineamento de pesquisa</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#estudos-observacionais"><i class="fa fa-check"></i><b>3.4</b> Estudos Observacionais</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#relato-de-caso-ou-série-de-casos"><i class="fa fa-check"></i><b>3.4.1</b> Relato de Caso ou Série de casos</a></li>
<li class="chapter" data-level="3.4.2" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#estudos-transversais-ou-seccionais"><i class="fa fa-check"></i><b>3.4.2</b> Estudos Transversais ou Seccionais</a></li>
<li class="chapter" data-level="3.4.3" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#estudos-caso-controle"><i class="fa fa-check"></i><b>3.4.3</b> Estudos Caso-Controle</a></li>
<li class="chapter" data-level="3.4.4" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#estudos-de-coorte"><i class="fa fa-check"></i><b>3.4.4</b> Estudos de Coorte</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#ensaios-clínicos"><i class="fa fa-check"></i><b>3.5</b> Ensaios Clínicos</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#características-de-um-ensaio-clínico"><i class="fa fa-check"></i><b>3.5.1</b> Características de um ensaio clínico</a></li>
<li class="chapter" data-level="3.5.2" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#elementos-básicos-de-um-ensaio-clínico"><i class="fa fa-check"></i><b>3.5.2</b> Elementos básicos de um ensaio clínico</a></li>
<li class="chapter" data-level="3.5.3" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#ensaios-clínicos-de-equivalência-e-não-inferioridade"><i class="fa fa-check"></i><b>3.5.3</b> Ensaios clínicos de equivalência e não inferioridade</a></li>
<li class="chapter" data-level="3.5.4" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#outros-tipos-de-ensaios-clínicos"><i class="fa fa-check"></i><b>3.5.4</b> Outros tipos de ensaios clínicos</a></li>
<li class="chapter" data-level="3.5.5" data-path="produção-dos-dados.html"><a href="produção-dos-dados.html#fases-de-um-ensaio-clínico"><i class="fa fa-check"></i><b>3.5.5</b> Fases de um ensaio clínico</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html"><i class="fa fa-check"></i><b>4</b> Ambiente do R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#instalação-do-r-básico"><i class="fa fa-check"></i><b>4.1</b> Instalação do R básico</a></li>
<li class="chapter" data-level="4.2" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#rstudio"><i class="fa fa-check"></i><b>4.2</b> RStudio</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#instalação-do-r-studio"><i class="fa fa-check"></i><b>4.2.1</b> Instalação do R Studio</a></li>
<li class="chapter" data-level="4.2.2" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#iniciando-o-rstudio"><i class="fa fa-check"></i><b>4.2.2</b> Iniciando o RStudio</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#pacotes"><i class="fa fa-check"></i><b>4.3</b> Pacotes</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#repositório-de-pacotes"><i class="fa fa-check"></i><b>4.3.1</b> Repositório de pacotes</a></li>
<li class="chapter" data-level="4.3.2" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#instalação-de-um-novo-pacote"><i class="fa fa-check"></i><b>4.3.2</b> Instalação de um novo pacote</a></li>
<li class="chapter" data-level="4.3.3" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#atualização-dos-pacotes"><i class="fa fa-check"></i><b>4.3.3</b> Atualização dos pacotes</a></li>
<li class="chapter" data-level="4.3.4" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#instalando-e-carregando-mais-de-um-pacote"><i class="fa fa-check"></i><b>4.3.4</b> Instalando e carregando mais de um pacote</a></li>
<li class="chapter" data-level="4.3.5" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#citação-de-pacotes-em-publicações"><i class="fa fa-check"></i><b>4.3.5</b> Citação de pacotes em publicações</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#diretório-de-trabalho"><i class="fa fa-check"></i><b>4.4</b> Diretório de trabalho</a></li>
<li class="chapter" data-level="4.5" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#projeto"><i class="fa fa-check"></i><b>4.5</b> Projeto</a></li>
<li class="chapter" data-level="4.6" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#o-r-como-calculadora"><i class="fa fa-check"></i><b>4.6</b> O R como calculadora</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#operadores"><i class="fa fa-check"></i><b>4.6.1</b> Operadores</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#objetos"><i class="fa fa-check"></i><b>4.7</b> Objetos</a></li>
<li class="chapter" data-level="4.8" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#funções"><i class="fa fa-check"></i><b>4.8</b> Funções</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#criando-funções"><i class="fa fa-check"></i><b>4.8.1</b> Criando funções</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#classes"><i class="fa fa-check"></i><b>4.9</b> Classes</a></li>
<li class="chapter" data-level="4.10" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#sec-vetores"><i class="fa fa-check"></i><b>4.10</b> Vetores</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#tipos-de-vetores"><i class="fa fa-check"></i><b>4.10.1</b> Tipos de vetores</a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#sec-dataframes"><i class="fa fa-check"></i><b>4.11</b> Dataframes</a></li>
<li class="chapter" data-level="4.12" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#sec-fatores"><i class="fa fa-check"></i><b>4.12</b> Fatores</a>
<ul>
<li class="chapter" data-level="4.12.1" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#criando-fatores"><i class="fa fa-check"></i><b>4.12.1</b> Criando fatores</a></li>
<li class="chapter" data-level="4.12.2" data-path="ambiente-do-r.html"><a href="ambiente-do-r.html#salvando-o-dataframe-criado"><i class="fa fa-check"></i><b>4.12.2</b> Salvando o dataframe criado</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html"><i class="fa fa-check"></i><b>5</b> Manipulando os dados no R Studio</a>
<ul>
<li class="chapter" data-level="5.1" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#importando-dados-de-outros-softwares"><i class="fa fa-check"></i><b>5.1</b> Importando dados de outros <em>softwares</em></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#sec-csv"><i class="fa fa-check"></i><b>5.1.1</b> Importando dados de um arquivo CSV</a></li>
<li class="chapter" data-level="5.1.2" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#sec-xlsx"><i class="fa fa-check"></i><b>5.1.2</b> Importando um arquivo do Excel</a></li>
<li class="chapter" data-level="5.1.3" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#importando-arquivos-com-o-rstudio"><i class="fa fa-check"></i><b>5.1.3</b> Importando arquivos com o RStudio</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#sec-tibble"><i class="fa fa-check"></i><b>5.2</b> Tibble</a></li>
<li class="chapter" data-level="5.3" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#sec-mater"><i class="fa fa-check"></i><b>5.3</b> Pacote <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#função-select"><i class="fa fa-check"></i><b>5.3.1</b> Função <code>select()</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#função-filter"><i class="fa fa-check"></i><b>5.3.2</b> Função <code>filter()</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#função-mutate"><i class="fa fa-check"></i><b>5.3.3</b> Função <code>mutate()</code></a></li>
<li class="chapter" data-level="5.3.4" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#função-sample_n"><i class="fa fa-check"></i><b>5.3.4</b> Função <code>sample_n()</code></a></li>
<li class="chapter" data-level="5.3.5" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#função-slice"><i class="fa fa-check"></i><b>5.3.5</b> Função <code>slice()</code></a></li>
<li class="chapter" data-level="5.3.6" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#função-arrange"><i class="fa fa-check"></i><b>5.3.6</b> Função <code>arrange()</code></a></li>
<li class="chapter" data-level="5.3.7" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#função-count"><i class="fa fa-check"></i><b>5.3.7</b> Função <code>count()</code></a></li>
<li class="chapter" data-level="5.3.8" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#operador-pipe"><i class="fa fa-check"></i><b>5.3.8</b> Operador pipe %&gt;%</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#manipulação-de-datas"><i class="fa fa-check"></i><b>5.4</b> Manipulação de datas</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="manipulando-os-dados-no-r-studio.html"><a href="manipulando-os-dados-no-r-studio.html#operações-com-datas"><i class="fa fa-check"></i><b>5.4.1</b> Operações com datas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html"><i class="fa fa-check"></i><b>6</b> Descrevendo os dados</a>
<ul>
<li class="chapter" data-level="6.1" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#dados-brutos"><i class="fa fa-check"></i><b>6.1</b> Dados brutos</a></li>
<li class="chapter" data-level="6.2" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#medidas-resumidoras"><i class="fa fa-check"></i><b>6.2</b> Medidas resumidoras</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#medidas-de-tendência-central"><i class="fa fa-check"></i><b>6.2.1</b> Medidas de tendência central</a></li>
<li class="chapter" data-level="6.2.2" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#medidas-de-dispersão"><i class="fa fa-check"></i><b>6.2.2</b> Medidas de Dispersão</a></li>
<li class="chapter" data-level="6.2.3" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#escolha-da-medida-resumidora"><i class="fa fa-check"></i><b>6.2.3</b> Escolha da medida resumidora</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#tabelas"><i class="fa fa-check"></i><b>6.3</b> Tabelas</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#sec-freq"><i class="fa fa-check"></i><b>6.3.1</b> Tabelas de Frequência</a></li>
<li class="chapter" data-level="6.3.2" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#tabelas-de-contingência"><i class="fa fa-check"></i><b>6.3.2</b> Tabelas de contingência</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#gráficos"><i class="fa fa-check"></i><b>6.4</b> Gráficos</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#gráfico-de-setores"><i class="fa fa-check"></i><b>6.4.1</b> Gráfico de setores</a></li>
<li class="chapter" data-level="6.4.2" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#gráfico-de-barras"><i class="fa fa-check"></i><b>6.4.2</b> Gráfico de barras</a></li>
<li class="chapter" data-level="6.4.3" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#gráfico-de-barra-de-erro"><i class="fa fa-check"></i><b>6.4.3</b> Gráfico de barra de erro</a></li>
<li class="chapter" data-level="6.4.4" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#histograma"><i class="fa fa-check"></i><b>6.4.4</b> Histograma</a></li>
<li class="chapter" data-level="6.4.5" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#boxplot"><i class="fa fa-check"></i><b>6.4.5</b> Boxplot</a></li>
<li class="chapter" data-level="6.4.6" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#gráfico-de-dispersão"><i class="fa fa-check"></i><b>6.4.6</b> Gráfico de Dispersão</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#introdução-ao-ggplot2"><i class="fa fa-check"></i><b>6.5</b> Introdução ao <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#dados"><i class="fa fa-check"></i><b>6.5.1</b> Dados</a></li>
<li class="chapter" data-level="6.5.2" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#ggplot"><i class="fa fa-check"></i><b>6.5.2</b> <code>ggplot</code></a></li>
<li class="chapter" data-level="6.5.3" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#tipos-de-geoms"><i class="fa fa-check"></i><b>6.5.3</b> Tipos de <code>geoms</code></a></li>
<li class="chapter" data-level="6.5.4" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#modificando-argumentos-do-geom"><i class="fa fa-check"></i><b>6.5.4</b> Modificando argumentos do <code>geom</code></a></li>
<li class="chapter" data-level="6.5.5" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#reta-de-ajuste-em-um-gráfico-de-dispersão"><i class="fa fa-check"></i><b>6.5.5</b> Reta de ajuste em um gráfico de dispersão</a></li>
<li class="chapter" data-level="6.5.6" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#filtrando-dados-para-o-gráfico"><i class="fa fa-check"></i><b>6.5.6</b> Filtrando dados para o gráfico</a></li>
<li class="chapter" data-level="6.5.7" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#resumo-dos-dados-usando-o-geom"><i class="fa fa-check"></i><b>6.5.7</b> Resumo dos dados usando o geom</a></li>
<li class="chapter" data-level="6.5.8" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#incluindo-barras-de-erro"><i class="fa fa-check"></i><b>6.5.8</b> Incluindo barras de erro</a></li>
<li class="chapter" data-level="6.5.9" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#incluindo-mais-de-um-grupo-no-gráfico"><i class="fa fa-check"></i><b>6.5.9</b> Incluindo mais de um grupo no gráfico</a></li>
<li class="chapter" data-level="6.5.10" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#modificando-o-tema"><i class="fa fa-check"></i><b>6.5.10</b> Modificando o tema</a></li>
<li class="chapter" data-level="6.5.11" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#trabalhando-com-os-eixos"><i class="fa fa-check"></i><b>6.5.11</b> Trabalhando com os eixos</a></li>
<li class="chapter" data-level="6.5.12" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#modificação-das-cores"><i class="fa fa-check"></i><b>6.5.12</b> Modificação das cores</a></li>
<li class="chapter" data-level="6.5.13" data-path="descrevendo-os-dados.html"><a href="descrevendo-os-dados.html#exemplo-final-gráfico-de-barra-de-erro-com-colunas"><i class="fa fa-check"></i><b>6.5.13</b> Exemplo final: Gráfico de barra de erro com colunas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="introdução-à-teoria-das-probabilidades.html"><a href="introdução-à-teoria-das-probabilidades.html"><i class="fa fa-check"></i><b>7</b> Introdução à Teoria das Probabilidades</a>
<ul>
<li class="chapter" data-level="7.1" data-path="introdução-à-teoria-das-probabilidades.html"><a href="introdução-à-teoria-das-probabilidades.html#introdução-1"><i class="fa fa-check"></i><b>7.1</b> Introdução</a></li>
<li class="chapter" data-level="7.2" data-path="introdução-à-teoria-das-probabilidades.html"><a href="introdução-à-teoria-das-probabilidades.html#processo-aleatório"><i class="fa fa-check"></i><b>7.2</b> Processo aleatório</a></li>
<li class="chapter" data-level="7.3" data-path="introdução-à-teoria-das-probabilidades.html"><a href="introdução-à-teoria-das-probabilidades.html#definição-frequentista-de-probabilidade"><i class="fa fa-check"></i><b>7.3</b> Definição frequentista de probabilidade</a></li>
<li class="chapter" data-level="7.4" data-path="introdução-à-teoria-das-probabilidades.html"><a href="introdução-à-teoria-das-probabilidades.html#propriedades-das-probabilidades"><i class="fa fa-check"></i><b>7.4</b> Propriedades das probabilidades</a></li>
<li class="chapter" data-level="7.5" data-path="introdução-à-teoria-das-probabilidades.html"><a href="introdução-à-teoria-das-probabilidades.html#distribuição-de-probabilidades"><i class="fa fa-check"></i><b>7.5</b> Distribuição de Probabilidades</a></li>
<li class="chapter" data-level="7.6" data-path="introdução-à-teoria-das-probabilidades.html"><a href="introdução-à-teoria-das-probabilidades.html#distribuição-normal"><i class="fa fa-check"></i><b>7.6</b> Distribuição Normal</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="introdução-à-teoria-das-probabilidades.html"><a href="introdução-à-teoria-das-probabilidades.html#características-da-distribuição-normal"><i class="fa fa-check"></i><b>7.6.1</b> Características da distribuição normal</a></li>
<li class="chapter" data-level="7.6.2" data-path="introdução-à-teoria-das-probabilidades.html"><a href="introdução-à-teoria-das-probabilidades.html#sec-dnp"><i class="fa fa-check"></i><b>7.6.2</b> Distribuição normal padronizada</a></li>
<li class="chapter" data-level="7.6.3" data-path="introdução-à-teoria-das-probabilidades.html"><a href="introdução-à-teoria-das-probabilidades.html#regra-empírica-68-95-99.7"><i class="fa fa-check"></i><b>7.6.3</b> Regra Empírica 68-95-99.7</a></li>
<li class="chapter" data-level="7.6.4" data-path="introdução-à-teoria-das-probabilidades.html"><a href="introdução-à-teoria-das-probabilidades.html#exercitando-o-raciocínio-com-a-curva-normal"><i class="fa fa-check"></i><b>7.6.4</b> Exercitando o raciocínio com a curva normal</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="introdução-à-teoria-das-probabilidades.html"><a href="introdução-à-teoria-das-probabilidades.html#distribuição-binomial"><i class="fa fa-check"></i><b>7.7</b> Distribuição Binomial</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="introdução-à-teoria-das-probabilidades.html"><a href="introdução-à-teoria-das-probabilidades.html#média-e-desvio-padrão-da-distribuição-binomial"><i class="fa fa-check"></i><b>7.7.1</b> Média e desvio padrão da distribuição binomial</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="introdução-à-teoria-das-probabilidades.html"><a href="introdução-à-teoria-das-probabilidades.html#distribuição-de-poisson"><i class="fa fa-check"></i><b>7.8</b> Distribuição de Poisson</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="assimetria-e-curtose.html"><a href="assimetria-e-curtose.html"><i class="fa fa-check"></i><b>8</b> Assimetria e Curtose</a>
<ul>
<li class="chapter" data-level="8.1" data-path="assimetria-e-curtose.html"><a href="assimetria-e-curtose.html#assimetria"><i class="fa fa-check"></i><b>8.1</b> Assimetria</a></li>
<li class="chapter" data-level="8.2" data-path="assimetria-e-curtose.html"><a href="assimetria-e-curtose.html#curtose"><i class="fa fa-check"></i><b>8.2</b> Curtose</a></li>
<li class="chapter" data-level="8.3" data-path="assimetria-e-curtose.html"><a href="assimetria-e-curtose.html#testando-o-raciocínio"><i class="fa fa-check"></i><b>8.3</b> Testando o raciocínio</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="distribuições-amostrais.html"><a href="distribuições-amostrais.html"><i class="fa fa-check"></i><b>9</b> Distribuições Amostrais</a>
<ul>
<li class="chapter" data-level="9.1" data-path="distribuições-amostrais.html"><a href="distribuições-amostrais.html#pacotes-necessários-para-este-capítulo"><i class="fa fa-check"></i><b>9.1</b> Pacotes necessários para este capítulo</a></li>
<li class="chapter" data-level="9.2" data-path="distribuições-amostrais.html"><a href="distribuições-amostrais.html#distribuições-populacional-e-amostral"><i class="fa fa-check"></i><b>9.2</b> Distribuições populacional e amostral</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="distribuições-amostrais.html"><a href="distribuições-amostrais.html#distribuição-populacional"><i class="fa fa-check"></i><b>9.2.1</b> Distribuição populacional</a></li>
<li class="chapter" data-level="9.2.2" data-path="distribuições-amostrais.html"><a href="distribuições-amostrais.html#distribuição-amostral"><i class="fa fa-check"></i><b>9.2.2</b> Distribuição amostral</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="distribuições-amostrais.html"><a href="distribuições-amostrais.html#erros-amostrais-e-não-amostrais"><i class="fa fa-check"></i><b>9.3</b> Erros amostrais e não amostrais</a></li>
<li class="chapter" data-level="9.4" data-path="distribuições-amostrais.html"><a href="distribuições-amostrais.html#média-e-desvio-padrão-da-média"><i class="fa fa-check"></i><b>9.4</b> Média e desvio padrão da média</a></li>
<li class="chapter" data-level="9.5" data-path="distribuições-amostrais.html"><a href="distribuições-amostrais.html#teorema-do-limite-central"><i class="fa fa-check"></i><b>9.5</b> Teorema do Limite Central</a></li>
<li class="chapter" data-level="9.6" data-path="distribuições-amostrais.html"><a href="distribuições-amostrais.html#proporções-populacional-e-amostral"><i class="fa fa-check"></i><b>9.6</b> Proporções populacional e amostral</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="distribuições-amostrais.html"><a href="distribuições-amostrais.html#distribuição-amostral-da-proporção-amostral"><i class="fa fa-check"></i><b>9.6.1</b> Distribuição amostral da proporção amostral</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="estimação.html"><a href="estimação.html"><i class="fa fa-check"></i><b>10</b> Estimação</a>
<ul>
<li class="chapter" data-level="10.1" data-path="estimação.html"><a href="estimação.html#introdução-2"><i class="fa fa-check"></i><b>10.1</b> Introdução</a></li>
<li class="chapter" data-level="10.2" data-path="estimação.html"><a href="estimação.html#pacotes-necessários-para-este-capítulo-1"><i class="fa fa-check"></i><b>10.2</b> Pacotes necessários para este capítulo</a></li>
<li class="chapter" data-level="10.3" data-path="estimação.html"><a href="estimação.html#estimativa-pontual-e-intervalo-de-confiança"><i class="fa fa-check"></i><b>10.3</b> Estimativa Pontual e Intervalo de Confiança</a></li>
<li class="chapter" data-level="10.4" data-path="estimação.html"><a href="estimação.html#estimação-da-média-populacional-sigma-conhecido"><i class="fa fa-check"></i><b>10.4</b> Estimação da média populacional: <span class="math inline">\(\sigma\)</span> conhecido</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="estimação.html"><a href="estimação.html#interpretação-do-intervalo-de-confiança"><i class="fa fa-check"></i><b>10.4.1</b> Interpretação do intervalo de confiança</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="estimação.html"><a href="estimação.html#estimação-da-média-populacional-sigma-desconhecido"><i class="fa fa-check"></i><b>10.5</b> Estimação da média populacional: <span class="math inline">\(\sigma\)</span> desconhecido</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="estimação.html"><a href="estimação.html#distribuição-t"><i class="fa fa-check"></i><b>10.5.1</b> Distribuição <em>t</em></a></li>
<li class="chapter" data-level="10.5.2" data-path="estimação.html"><a href="estimação.html#cálculo-do-intervalo-de-confiança-com-sigma-desconhecido"><i class="fa fa-check"></i><b>10.5.2</b> Cálculo do intervalo de confiança com <span class="math inline">\(\sigma\)</span> desconhecido</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="estimação.html"><a href="estimação.html#intervalo-de-confiança-para-uma-proporção-populacional"><i class="fa fa-check"></i><b>10.6</b> Intervalo de Confiança para uma proporção populacional</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="estimação.html"><a href="estimação.html#dados-para-estimar-a-proporção-populacional"><i class="fa fa-check"></i><b>10.6.1</b> Dados para estimar a proporção populacional</a></li>
<li class="chapter" data-level="10.6.2" data-path="estimação.html"><a href="estimação.html#cálculo-da-estimativa-pontual-da-proporção"><i class="fa fa-check"></i><b>10.6.2</b> Cálculo da estimativa pontual da proporção</a></li>
<li class="chapter" data-level="10.6.3" data-path="estimação.html"><a href="estimação.html#cálculo-do-intervalo-de-confiança-para-a-proporção"><i class="fa fa-check"></i><b>10.6.3</b> Cálculo do intervalo de confiança para a proporção</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="teste-de-hipóteses.html"><a href="teste-de-hipóteses.html"><i class="fa fa-check"></i><b>11</b> Teste de Hipóteses</a>
<ul>
<li class="chapter" data-level="11.1" data-path="teste-de-hipóteses.html"><a href="teste-de-hipóteses.html#pacotes-necessários-para-este-capítulo-2"><i class="fa fa-check"></i><b>11.1</b> Pacotes necessários para este capítulo</a></li>
<li class="chapter" data-level="11.2" data-path="teste-de-hipóteses.html"><a href="teste-de-hipóteses.html#exemplo"><i class="fa fa-check"></i><b>11.2</b> Exemplo</a></li>
<li class="chapter" data-level="11.3" data-path="teste-de-hipóteses.html"><a href="teste-de-hipóteses.html#hipótese-nula-e-alternativa"><i class="fa fa-check"></i><b>11.3</b> Hipótese nula e alternativa</a></li>
<li class="chapter" data-level="11.4" data-path="teste-de-hipóteses.html"><a href="teste-de-hipóteses.html#escolha-do-teste-estatítico-e-regra-de-decisão"><i class="fa fa-check"></i><b>11.4</b> Escolha do teste estatítico e regra de decisão</a></li>
<li class="chapter" data-level="11.5" data-path="teste-de-hipóteses.html"><a href="teste-de-hipóteses.html#valor-p"><i class="fa fa-check"></i><b>11.5</b> Valor <em>P</em></a></li>
<li class="chapter" data-level="11.6" data-path="teste-de-hipóteses.html"><a href="teste-de-hipóteses.html#poder-do-teste"><i class="fa fa-check"></i><b>11.6</b> Poder do teste</a></li>
<li class="chapter" data-level="11.7" data-path="teste-de-hipóteses.html"><a href="teste-de-hipóteses.html#resumo-do-teste-de-hipóteses-passos-principais"><i class="fa fa-check"></i><b>11.7</b> Resumo do teste de hipóteses: Passos principais</a>
<ul>
<li class="chapter" data-level="11.7.1" data-path="teste-de-hipóteses.html"><a href="teste-de-hipóteses.html#primeiro-passo-dados"><i class="fa fa-check"></i><b>11.7.1</b> Primeiro Passo: Dados</a></li>
<li class="chapter" data-level="11.7.2" data-path="teste-de-hipóteses.html"><a href="teste-de-hipóteses.html#segundo-passo-estabelecer-as-hipóteses-estatísticas"><i class="fa fa-check"></i><b>11.7.2</b> Segundo Passo: Estabelecer as hipóteses estatísticas</a></li>
<li class="chapter" data-level="11.7.3" data-path="teste-de-hipóteses.html"><a href="teste-de-hipóteses.html#terceiro-passo-escolha-do-teste-estatístico-e-regra-de-decisão"><i class="fa fa-check"></i><b>11.7.3</b> Terceiro passo: Escolha do teste estatístico e regra de decisão</a></li>
<li class="chapter" data-level="11.7.4" data-path="teste-de-hipóteses.html"><a href="teste-de-hipóteses.html#quarto-passo-conclusão"><i class="fa fa-check"></i><b>11.7.4</b> Quarto passo: Conclusão</a></li>
<li class="chapter" data-level="11.7.5" data-path="teste-de-hipóteses.html"><a href="teste-de-hipóteses.html#quinto-passo-valor-p"><i class="fa fa-check"></i><b>11.7.5</b> Quinto passo: Valor <em>P</em></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="referências.html"><a href="referências.html"><i class="fa fa-check"></i>Referências</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introdução à Bioestatística usando o R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="descrevendo-os-dados" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Capítulo 6</span> Descrevendo os dados<a href="descrevendo-os-dados.html#descrevendo-os-dados" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Nos relatórios ou artigos científicos, a comunicação dos resultados é feita através da combinação de medidas resumidoras e visualização dos dados por meio de tabelas e gráficos.</p>
<div id="dados-brutos" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Dados brutos<a href="descrevendo-os-dados.html#dados-brutos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Habitualmente, costuma-se armazenar os dados em bancos de dados (<em>dataframes</em> ou <em>tibbles</em>). Entretanto, eles estão registrados de forma aleatória e não classificada. Ao se visualizar um dataframe, é difícil responder perguntas em relação a qualquer variável, principalmente, em grandes banco de dados. Eles se constituem uma lista, um rol de valores colocados na ordem em que foram obtidos. Parecem um jogo de quebra cabeça antes de serem organizados e resumidos! São denominados de <em>dados brutos</em> ou, também, de dados não agrupados.</p>
</div>
<div id="medidas-resumidoras" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Medidas resumidoras<a href="descrevendo-os-dados.html#medidas-resumidoras" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>As maneiras mais usadas para resumir o conjunto de dados são:</p>
<ul>
<li>Primeiro, um valor em torno do qual os dados têm uma tendência para se reunir ou se agrupar, denominado de <em>medida sumária de localização</em> ou <em>medida de tendência central</em>.</li>
<li>Em segundo lugar, um valor que mede o grau em que os dados se dispersam, denominado de <em>medida de dispersão ou variabilidade</em>.</li>
</ul>
<p>Para trabalhar nesta seção, serão necessários os seguintes pacotes:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="descrevendo-os-dados.html#cb233-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(dplyr, readxl)</span></code></pre></div>
<p>E o arquivo <code>dadosMater15.xlsx</code>, amostra de 15 recém-nascidos, que pode ser obtido <a href="https://github.com/petronioliveira/Arquivos/blob/main/dadosMater15.xlsx"><strong>aqui</strong></a> e baixado para o seu diretório de trabalho. Esta amostra é proveniente do banco de dados original (<code>dadosMater.xlsx</code>), veja seção <a href="manipulando-os-dados-no-r-studio.html#sec-mater">5.3</a>.</p>
<p>Agora, será criado um objeto, <code>mater15</code>, para receber os dados, a partir do diretório de trabalho, executando o seguinte código:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="descrevendo-os-dados.html#cb234-1" aria-hidden="true" tabindex="-1"></a>mater15 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Arquivos/dadosMater15.xlsx&quot;</span>)</span></code></pre></div>
<div id="medidas-de-tendência-central" class="section level3 hasAnchor" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Medidas de tendência central<a href="descrevendo-os-dados.html#medidas-de-tendência-central" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="média" class="section level4 hasAnchor" number="6.2.1.1">
<h4><span class="header-section-number">6.2.1.1</span> Média<a href="descrevendo-os-dados.html#média" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A média ( <span class="math inline">\(\overline{x}\)</span> ) é a mais usada medida de tendência central. Ela é calculada pela razão entre a soma de todas as observações de um conjunto de dados e o total de observações. A média é mais adequada para medidas numéricas simétricas.</p>
<p><span class="math display">\[
\overline{x}= \frac{\sum(x_1 + x_2 + x_3 + ... + x_n)}{n}
\]</span></p>
<p>Se no conjunto de dados houver algum valor ausente (<em>missing</em>), o comando mostra o resultado como NA (<em>not available</em>). Para corrigir isto, basta colocar o argumento <code>na.rm = TRUE</code> na função <code>mean()</code>. Assim, o R vai retornar a média, ignorando os valores ausentes. Recomenda-se sempre usar o argumento.</p>
<p>A média aritmética dos pesos dos recém-nascidos (<code>pesoRN</code>) do arquivo <code>dadosMater15.xlsx</code> é calculado por:</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="descrevendo-os-dados.html#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span> (mater15<span class="sc">$</span>pesoRN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 3238.067</code></pre>
</div>
<div id="mediana" class="section level4 hasAnchor" number="6.2.1.2">
<h4><span class="header-section-number">6.2.1.2</span> Mediana<a href="descrevendo-os-dados.html#mediana" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A mediana (Md) representa o valor central em uma série ordenada de valores. Assim, metade dos valores será igual ou menor que o valor mediano e a outra metade igual ou maior do que ele.<br />
No R, usa-se a função <code>median()</code> para calcular o valor da mediana. Vanos utilizar a variável <code>mater15$apgar1</code>. Como o Apgar é um escore, a medida resumidora mais adequada é a mediana.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="descrevendo-os-dados.html#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span> (mater15<span class="sc">$</span>apgar1, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
</div>
<div id="moda" class="section level4 hasAnchor" number="6.2.1.3">
<h4><span class="header-section-number">6.2.1.3</span> Moda<a href="descrevendo-os-dados.html#moda" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Moda (Mo) é o valor que ocorre com maior frequência em um conjunto de dados. Tem o menor nível de sofisticação. É usada primariamente para dados nominais porque há simplesmente contagem dos valores. Ao contrário das outras medidas de tendência central, a moda não informa nada sobre a ordem das variáveis ou variação dentro das variáveis.<br />
O R não tem uma função embutida padrão para calcular a moda. Portanto, há necessidade de ser criada uma função de usuário para calcular a moda.</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="descrevendo-os-dados.html#cb239-1" aria-hidden="true" tabindex="-1"></a>moda <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb239-2"><a href="descrevendo-os-dados.html#cb239-2" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> <span class="fu">table</span>(<span class="fu">as.vector</span>(x))</span>
<span id="cb239-3"><a href="descrevendo-os-dados.html#cb239-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(z)[z <span class="sc">==</span> <span class="fu">max</span>(z)]}</span></code></pre></div>
<p>Usando esta função pode-se calcular a moda para a variável <code>mater15$apgar1</code>.</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="descrevendo-os-dados.html#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="fu">moda</span> (mater15<span class="sc">$</span>apgar1) </span></code></pre></div>
<pre><code>## [1] &quot;8&quot;</code></pre>
</div>
<div id="quantil" class="section level4 hasAnchor" number="6.2.1.4">
<h4><span class="header-section-number">6.2.1.4</span> Quantil<a href="descrevendo-os-dados.html#quantil" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Uma medida de localização bastante utilizada são os <strong>quantis</strong> que são pontos estabelecidos em intervalos regulares que dividem a amostra em subconjuntos iguais. Se estes subconjuntos são em número de 100, são denominados de <strong>percentis</strong>; se são em número de 10, são os <strong>decis</strong> e em número de 4, são os <strong>quartis</strong>.
A função apropriada no R para obter o quantil é <code>quantile()</code>.</p>
<p>Para determinar os três quartis do peso dos recém-nascidos (<code>mater15$pexoRN</code>), usa-se:</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="descrevendo-os-dados.html#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span> (mater15<span class="sc">$</span>pesoRN, <span class="fu">c</span> (<span class="fl">0.25</span>, <span class="fl">0.50</span>, <span class="fl">0.75</span>))</span></code></pre></div>
<pre><code>##    25%    50%    75% 
## 2962.5 3245.0 3515.0</code></pre>
<p>Observe que o percentil 50º é igual a mediana. O percentil 75º é o ponto do conjunto de dados onde 75% dos recém-nascidos têm um peso inferior a 3515g e 25% está acima deste valor.</p>
</div>
<div id="média-aparada" class="section level4 hasAnchor" number="6.2.1.5">
<h4><span class="header-section-number">6.2.1.5</span> Média aparada<a href="descrevendo-os-dados.html#média-aparada" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>As médias aparadas são estimadores robustos da tendência central. Para calcular uma média aparada, é removida uma quantidade predeterminada de observações em cada lado de uma distribuição e realizada a média das observações restantes. Um exemplo de média aparada é a própria mediana.</p>
<p>A base R tem como calcular a média aparada acrescentando o argumento <code>trim =</code>, proporção a ser aparada. Se for aparado 20%, usa-se <code>trim = 0.2</code>. isto significa que serão removidos 20% dos dados dos dois extremos. No caso da amostra de 15 recém-nascidos, serão removidos três valores mais baixos e três valores mais altos, passando a mostra a ter 9 valores, e a média aparada será a média destes 9 valores.</p>
<p>O comando para obter a média aparada é:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="descrevendo-os-dados.html#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span> (mater15<span class="sc">$</span>pesoRN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">trim =</span> <span class="fl">0.20</span>)</span></code></pre></div>
<pre><code>## [1] 3253.889</code></pre>
</div>
</div>
<div id="medidas-de-dispersão" class="section level3 hasAnchor" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> Medidas de Dispersão<a href="descrevendo-os-dados.html#medidas-de-dispersão" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="amplitude" class="section level4 hasAnchor" number="6.2.2.1">
<h4><span class="header-section-number">6.2.2.1</span> Amplitude<a href="descrevendo-os-dados.html#amplitude" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A amplitude de um grupo de medições é definida como a diferença entre a maior observação e a menor.<br />
No conjunto de dados dos pesos dos recém-nascidos, a amplitude pode ser obtida, no R, com a função <code>range()</code>, que retorna o valor mínimo e o máximo.</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="descrevendo-os-dados.html#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span> (mater15<span class="sc">$</span>pesoRN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 2051 4070</code></pre>
</div>
<div id="intervalo-interquartil" class="section level4 hasAnchor" number="6.2.2.2">
<h4><span class="header-section-number">6.2.2.2</span> Intervalo Interquartil<a href="descrevendo-os-dados.html#intervalo-interquartil" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A intervalo interquartil (IIQ), também conhecido como amplitude interquartil (AIQ) é uma forma de média aparada. É simplesmente a diferença entre o terceiro e o primeiro quartil, ou seja, a diferença entre o percentil 75 e o percentil 25.
Considere a escolaridade (<code>anosEst</code>) das parturientes da amostra <code>dadosMater15.xlsx</code>. Os percentis 25 e 75 são obtidos por:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="descrevendo-os-dados.html#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span> (mater15<span class="sc">$</span>anosEst, <span class="fu">c</span>(<span class="fl">0.25</span>,<span class="fl">0.75</span>))</span></code></pre></div>
<pre><code>## 25% 75% 
##   6   8</code></pre>
<p>Também podeser usada a função <code>summary ()</code>:</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="descrevendo-os-dados.html#cb250-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mater15<span class="sc">$</span>anosEst)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##       4       6       7       7       8      11</code></pre>
<p>Portanto, o IIQ está entre 6 a 8 anos de estudo ou, 8 – 6 = 2 anos de estudos completos. Em outras palavras, 50% das mulheres desta amostra têm de 6 a 8 anos de estudo.</p>
<p>O <em>R</em> possui uma função específica para calcular o intervalo interquartil, denominada <code>IQR()</code> e incluída no pacote <code>stats</code>, pertencente ao <code>R</code> base. Ela possui os seguintes argumentos:</p>
<p><strong>x</strong> <span class="math inline">\(\longrightarrow\)</span> Representa o vetor numérico;
<strong>na.rm</strong> <span class="math inline">\(\longrightarrow\)</span> Este assume um valor lógico, TRUE ou FALSE, indicando se os valores ausentes devem ser removidos ou não;
<strong>type</strong> <span class="math inline">\(\longrightarrow\)</span> Representa um número inteiro selecionando um dos muitos algoritmos de quantil. Este é um parâmetro opcional.</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="descrevendo-os-dados.html#cb252-1" aria-hidden="true" tabindex="-1"></a><span class="fu">IQR</span>(mater15<span class="sc">$</span>anosEst, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
</div>
<div id="sec-variancia" class="section level4 hasAnchor" number="6.2.2.3">
<h4><span class="header-section-number">6.2.2.3</span> Variância e Desvio Padrão<a href="descrevendo-os-dados.html#sec-variancia" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A variância e o desvio padrão fornecem uma indicação de quão aglomerados em torno da média os dados de uma amostra estão. Estes tipos de medidas representam desvios (erros)da média. Quando se verifica o desvio de cada valor (x) em relação à média <span class="math inline">\(\overline{x}\)</span>, os desvios positivos se anulam com os negativos, resultando em uma soma igual a zero.</p>
<p>A consequência deste fato é que não é possível resumir os desvios numa única medida de variabilidade. Para se chegar a uma medida de variabilidade há necessidade de se eliminar os sinais, antes de somar todos os desvios em relação à média.</p>
<p>Uma maneira de se fazer isso é elevar todas as diferenças ao quadrado. Assim, se obtém o desvio em relação à média elevado ao quadrado. A soma destes valores é denominada de <em>Soma dos Quadrados (SQ) dos Desvios</em> ou <em>Soma dos Erros ao Quadrado</em>. Se o interesse é apenas saber o erro ou desvio médio, divide-se por <em>n</em> (tamanho da amostra). No entanto, em geral o interesse se concentra em usar o desvio ou erro na amostra para estimar o erro na população. Dessa maneira, divide-se a Soma dos Quadrados por <span class="math inline">\(n-1\)</span>. Essa medida é conhecida como variância (<span class="math inline">\(s^2\)</span>). O divisor, <span class="math inline">\(n – 1\)</span>, é denominado de <em>graus de liberdade</em> (gl) associados à variância.</p>
<p>Os graus de liberdade representam o número de desvios que estão livres para variar. É um conceito de difícil explicação. Suponha uma maternidade há 50 anos atrás, quando não havia alojamento conjunto. Nessa época era comum os recém-nascidos normais ficarem em um berçário. A cada horário de amamentação eles eram levados para os quartos de suas mães para mamar. Posteriormente, eram trazidos para o berçário e colocados nos berços até a próxima mamada. Suponha que, em um determinado momento, havia 15 bebês e que, no berçário, existiam 15 berços (postos) para colocá-los durante o intervalo das mamadas. Quando o primeiro recém-nascido chega, a enfermeira poderá escolher qualquer um dos berços para o colocar. Depois, quando o próximo recém-nascido chegar, ela terá 14 opções de escolha, pois um dos berços está ocupado. Ainda existe uma boa liberdade de escolha. No entanto, à medida que os recém-nascidos forem sendo trazidos para o berçário, chegará a um ponto em que 14 berços estarão ocupados. Agora, a enfermeira não terá liberdade de escolha, pois só resta um berço. Nesse exemplo existem 14 graus de liberdade. Para o último recém-nascido não houve liberdade de escolha <span class="citation">(66)</span>. Portanto, os graus de liberdade são iguais ao tamanho da amostra menos um (<span class="math inline">\(n-1\)</span>).</p>
<p>A variância é a razão entre a soma dos quadrados e as observações realizadas menos um.</p>
<p><span class="math display">\[
s^2= \frac{\sum(x_i - \overline{x})^2}{\overline{n-1}}
\]</span></p>
<p>No R existem as funções <code>sd()</code> e <code>var()</code>, também incluídas no R base, que facilmente calculam essas medidas de dispersão.</p>
<p>Usando a variável <code>mater15$pesoRN</code>, tem-se:</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="descrevendo-os-dados.html#cb254-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(mater15<span class="sc">$</span>pesoRN, <span class="at">na.rm =</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 273861.8</code></pre>
<p>O desvio padrão é a raiz quadrada da variância: <span class="math inline">\(s = \sqrt var\)</span></p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="descrevendo-os-dados.html#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span> (<span class="fu">var</span>(mater15<span class="sc">$</span>pesoRN))</span></code></pre></div>
<pre><code>## [1] 523.318</code></pre>
<p>Ou,</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="descrevendo-os-dados.html#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span> (mater15<span class="sc">$</span>pesoRN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 523.318</code></pre>
<p>A variância e desvio padrão são medidas de variabilidade. Representam quão bem a média representa os dados. Informa se ela está funcionando bem como modelo. Pequenos desvios padrão mostram que existe pouca variabilidade nos dados, que eles se aproximam da média. Quando existe um grande desvio padrão, a média não é muito precisa para representar os dados.</p>
<p>O desvio padrão, além de medir a precisão com que a média representa os dados, também informa sobre o formato dos dados e por isso é uma medida de dispersão. Em uma amostra onde desvio padrão é pequeno, os dados se agrupam próximo a média e o formato da distribuição fica mais pontiagudo (curva em azul, <a href="descrevendo-os-dados.html#fig:dispersao">6.1</a>). Nesse caso a média representa bem os dados. Em outra amostra, com a mesma média anterior, mas com os dados mais dispersos entorno da média, o desvio padrão é maior e o formato da distribuição fica achatado (curva verde, na Figura <a href="descrevendo-os-dados.html#fig:dispersao">6.1</a>). Nesse caso a média não é uma boa representação dos dados.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:dispersao"></span>
<img src="bookdownproj_files/figure-html/dispersao-1.png" alt="Dispersão dos dados em torno da média." width="672" />
<p class="caption">
Figure 6.1: Dispersão dos dados em torno da média.
</p>
</div>
</div>
<div id="coeficiente-de-variação" class="section level4 hasAnchor" number="6.2.2.4">
<h4><span class="header-section-number">6.2.2.4</span> Coeficiente de Variação<a href="descrevendo-os-dados.html#coeficiente-de-variação" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>O desvio padrão por si só tem limitações. Um desvio padrão de duas unidades pode ser considerado pequeno para um conjunto de valores cuja média é 100. Entretanto, se a média for 5, ele se torna muito grande. Além disso, o desvio padrão por ser expresso na mesma unidade dos dados, não permite aplicá-lo na comparação de dois ou mais conjunto de dados que têm unidades diferentes.
Para eliminar essas limitações, é possível caracterizar a dispersão ou variabilidade dos dados em termos relativos, usando uma medida denominada Coeficiente de Variação (CV), também conhecido como como <em>Desvio Padrão Relativo</em> ou <em>Coeficiente de Variação de Pearson</em>. É expresso, em geral como uma porcentagem, sendo definido como a razão do desvio padrão pela média:</p>
<p><span class="math display">\[
CV = \frac{s}{\overline{x}}
\]</span></p>
<p>Multiplicando o valor da equação por 100 tem-se o CV percentual. O R não possui uma função específica para calcular o CV.</p>
<p>Foi criada uma função específica para isso,já multiplicada por 100.</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="descrevendo-os-dados.html#cb260-1" aria-hidden="true" tabindex="-1"></a>coef_var <span class="ot">&lt;-</span> <span class="cf">function</span> (valores) {</span>
<span id="cb260-2"><a href="descrevendo-os-dados.html#cb260-2" aria-hidden="true" tabindex="-1"></a>  (<span class="fu">sd</span>(valores, <span class="at">na.rm=</span>T) <span class="sc">/</span> <span class="fu">mean</span>(valores, <span class="at">na.rm=</span>T))<span class="sc">*</span><span class="dv">100</span>}</span></code></pre></div>
<p>Portanto, o CV da variável <code>mater15$pesoRN</code> é igual a:</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="descrevendo-os-dados.html#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef_var</span> (mater15<span class="sc">$</span>pesoRN)</span></code></pre></div>
<pre><code>## [1] 16.16144</code></pre>
<p>Se usarmos outra variável do banco de dados, por exemplo, <code>mater15$idadeMae</code>, o CV será igual a:</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="descrevendo-os-dados.html#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef_var</span> (mater15<span class="sc">$</span>idadeMae)</span></code></pre></div>
<pre><code>## [1] 25.83343</code></pre>
<p>O peso do recem-nascido tem um CV = 16.2 e a idade materna um CV = 25.8, mostrando que esta tem uma maior variabilidade. Quanto menor o desvio padrão, menor o CV e, consequentemente, menor a variabilidade. Um CV <span class="math inline">\(\ge\)</span> 50%, sugere que a variável tem uma distribuição assimétrica.</p>
</div>
</div>
<div id="escolha-da-medida-resumidora" class="section level3 hasAnchor" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> Escolha da medida resumidora<a href="descrevendo-os-dados.html#escolha-da-medida-resumidora" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A seleção da medida de tendência central mais adequada depende de vários fatores, incluindo a natureza dos dados e do propósito da sumarização.</p>
<p>O tipo da variável tem substancial influência na escolha da medida de tendência central a ser usada. A moda é mais apropriada para dados nominais e seu uso com variáveis ordinais resulta em uma perda no poder em termos de informação que se poderia obter dos dados.</p>
<p>A mediana é mais adequada para variáveis ordinais, embora possa ser usada para variáveis contínuas, especialmente quando a distribuição dos dados é assimétrica. A mediana não deveria ser usada com dados nominais porque os postos assumidos não podem ser obtidos com dados de nível nominal.</p>
<p>Finalmente, a média somente deve ser usada com dados contínuos simétricos, se houver assimetria a mediana deve ser preferida.</p>
<p>As medidas de dispersão devem estar associadas a uma medida de tendência central. Elas caracterizam a variabilidade dos dados na amostra. Com dados ordinais usar a amplitude ou o intervalo interquartil. O desvio padrão não é apropriado em dados ordinais devido à natureza não numérica destes.</p>
<p>Com os dados numéricos deve-se usar o desvio padrão, que utiliza toda a informação nos dados, ou o intervalo interquartil (IIQ). Quando os dados forem simétricos, usar a média acompanhada do desvio padrão, caso contrário, usar a mediana e o IIQ. Não misturar e combinar medidas <span class="citation">(22)</span>.</p>
</div>
</div>
<div id="tabelas" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Tabelas<a href="descrevendo-os-dados.html#tabelas" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Existem muitas maneira de criar tabelas no R. Para mostrar como construir as tabelas, será feita a leitura do conjunto de dados (<code>dadosMater.xlsx</code>) mencionado acima (veja seção <a href="manipulando-os-dados-no-r-studio.html#sec-mater">5.3</a>:</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="descrevendo-os-dados.html#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb265-2"><a href="descrevendo-os-dados.html#cb265-2" aria-hidden="true" tabindex="-1"></a>mater <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Arquivos/dadosMater.xlsx&quot;</span>)</span></code></pre></div>
<div id="sec-freq" class="section level3 hasAnchor" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> Tabelas de Frequência<a href="descrevendo-os-dados.html#sec-freq" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Tabela de frequência para dados categóricos</strong></p>
<p>Uma maneira concisa que permite observar a variável e extrair informação sobre o seu comportamento, é a utilização de uma <em>tabela de frequência</em>. A tabela de frequência deve ser simples, clara e objetiva, ou seja, não deve ter um volume muito grande de informações. Deve ser autoexplicativa, não deve haver necessidade de ler o texto para entendê-la.</p>
<p>A tabela de frequência agrupa os dados por categorias ou classes, contabilizando o número ocorrências em cada categoria. O número de observações em uma determinada classe recebe o nome de <em>frequência absoluta</em> (<em>f</em>). Além da frequência absoluta, costuma aparecer a frequência relativa (<em>fr</em>) que representa a proporção da classe em relação ao número total de observações (<em>n</em>), calculada por <span class="math inline">\(fr = \frac{f}{n}\)</span>, a frequência percentual (<em>fp</em>), obtida pela multiplicação da frequência relativa por 100 e a frequência acumulada, que é a soma de todas as classes até a classe atual, podendo ser frequência acumulada absoluta (<em>F</em>), frequência acumulada relativa (<em>Fr</em>) ou frequência acumulada percentual (<em>Fp</em>).</p>
<p>Em uma tabela, os dados são apresentados em colunas verticais indicadoras e linhas horizontais. Nas linhas aparecem as categorias e nas colunas as frequências, constituindo o corpo da tabela. O cabeçalho indica a natureza do conteúdo de cada coluna. No cruzamento das colunas e das linhas, tem-se as caselas ou casas.</p>
<p>Existem algumas recomendações na construção de uma tabela de frequência <span class="citation">(67)</span>:</p>
<ul>
<li>deve ter um título na parte superior que responda as perguntas: “o que? quando? onde?” relativas ao fato estudado;</li>
<li>deve ter um rodapé, na parte inferior da tabela, onde se coloca notas necessárias e a fonte dos dados;</li>
<li>as colunas externas da tabela devem ser abertas, o emprego de linhas verticais para a separação das colunas no corpo da tabela é opcional;</li>
<li>Na parte superior e inferior, as tabelas devem, ser fechadas por linhas horizontais;</li>
<li>Nenhuma casela deve ficar vazia, apresentando um número ou um símbolo. Se não se dispuser do dado, colocar reticências … e a presença de um X representa que o dado foi omitido para evitar a identificação.</li>
</ul>
<p>Se os dados forem nominais, a ordenação das categorias é arbitrária, costuma-se colocar em primeiro lugar a maior frequência (Tabela <a href="descrevendo-os-dados.html#tab:droga">6.1</a>) , colocando-os em categorias ordenadas <span class="citation">(68)</span>.</p>
<table class=" lightable-classic" style="font-family: Cambria; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:droga">Table 6.1: </span>Distribuição de frequência de drogadição em parturientes do Hospital Geral de Caxias do Sul, RS, 2008.
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;">
Drogadição
</th>
<th style="text-align:right;font-weight: bold;">
f
</th>
<th style="text-align:right;font-weight: bold;">
fr
</th>
<th style="text-align:right;font-weight: bold;">
fp
</th>
<th style="text-align:right;font-weight: bold;">
Fp
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Não drogaditas
</td>
<td style="text-align:right;">
904
</td>
<td style="text-align:right;">
0,955
</td>
<td style="text-align:right;">
95,5
</td>
<td style="text-align:right;">
95.5
</td>
</tr>
<tr>
<td style="text-align:left;">
Medicamentos
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
0,024
</td>
<td style="text-align:right;">
2,4
</td>
<td style="text-align:right;">
97.9
</td>
</tr>
<tr>
<td style="text-align:left;">
Álcool
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
0,018
</td>
<td style="text-align:right;">
1,8
</td>
<td style="text-align:right;">
99.7
</td>
</tr>
<tr>
<td style="text-align:left;">
Crack
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0,002
</td>
<td style="text-align:right;">
0,2
</td>
<td style="text-align:right;">
99.9
</td>
</tr>
<tr>
<td style="text-align:left;">
Cocaína
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0,001
</td>
<td style="text-align:right;">
0,1
</td>
<td style="text-align:right;">
100
</td>
</tr>
<tr>
<td style="text-align:left;">
Total
</td>
<td style="text-align:right;">
947
</td>
<td style="text-align:right;">
1,000
</td>
<td style="text-align:right;">
100,0
</td>
<td style="text-align:right;">
</td>
</tr>
</tbody>
</table>
<p><strong>Construção da tabela de frequência</strong></p>
<p>Com frequência há necessidade se recodificar uma variável numérica para categórica. Por exemplo, que as gestantes são, classicamente, subdivididas em menores de 20 anos (adolescentes), 20 a 35 anos e maiores de 35 anos. No conjunto <code>dadosMater</code>, a variável <code>idadeMae</code> é uma variável numérica onde a mulher mais jovem tem 13 anos e mais velha tem 46. Não existe uma variável com a idade categorizada. Será feita uma transformação desta variável numérica em categórica com três níveis: &lt; 20 anos, 20 a 35 anos e &gt;35 anos.</p>
<p>Será usada a função <code>cut()</code> do pacote do R base. Esta função tem vários argumentos:</p>
<ul>
<li><strong>x</strong> <span class="math inline">\(\longrightarrow\)</span> vetor numérico</li>
<li><strong>breaks</strong> <span class="math inline">\(\longrightarrow\)</span> vetor numérico de dois ou mais pontos de corte exclusivos ou um único número (maior ou igual a 2) dando o número de intervalos nos quais <em>x</em> deve ser subdividido</li>
<li><strong>labels</strong> <span class="math inline">\(\longrightarrow\)</span> rótulos para os níveis das categorias resultante. Por padrão, os rótulos são construídos usando a notação de intervalo <span class="math inline">\((a, b]\)</span> (aberto à esquerda e fechado à direita).</li>
<li><strong>include.lowest</strong> <span class="math inline">\(\longrightarrow\)</span> valor lógico, se o menor valor será incluido, ou o maior, se <code>right = TRUE</code>. Padrão = <code>include.lowest=TRUE</code></li>
<li><strong>right</strong> <span class="math inline">\(\longrightarrow\)</span> valor lógico indicando se o intervalo deve ser fechado à direita e aberto a esquerda. Padrão =
<code>right = TRUE</code>.</li>
<li><strong>ordered_result</strong> <span class="math inline">\(\longrightarrow\)</span> valor lógico indicando se o resultado deve ser um fator ordenado.</li>
</ul>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="descrevendo-os-dados.html#cb266-1" aria-hidden="true" tabindex="-1"></a>mater<span class="sc">$</span>idadeCateg <span class="ot">&lt;-</span> <span class="fu">cut</span>(mater<span class="sc">$</span>idadeMae,</span>
<span id="cb266-2"><a href="descrevendo-os-dados.html#cb266-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">13</span>, <span class="dv">20</span>, <span class="dv">36</span>, <span class="dv">46</span>),</span>
<span id="cb266-3"><a href="descrevendo-os-dados.html#cb266-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;&lt;20a&quot;</span>, <span class="st">&quot;20-35a&quot;</span>, <span class="st">&quot;&gt;35a&quot;</span>),</span>
<span id="cb266-4"><a href="descrevendo-os-dados.html#cb266-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">include.lowest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb266-5"><a href="descrevendo-os-dados.html#cb266-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">right =</span> <span class="cn">FALSE</span>,</span>
<span id="cb266-6"><a href="descrevendo-os-dados.html#cb266-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">ordered_result =</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p>Neste exemplo, foi usado <code>right = FALSE</code>, em consequência, o intervalo 13 a 20, incluirá o 13 (menor idade) e excluirá o 20, o intervalo 20 a 36, incluirá o 20 e excluirá o 36 e o último intervalo incluirá o 36 e excluirá o 46, que é o valor mais alto. Em função disso, foi incluído mais um argumento <code>include.lowest=TRUE</code>, para incluir o valor 46.</p>
<p>Para se verificar como ficou a distribuição de frequência absoluta, constroi-se uma tabela, inicialmente com a função <code>table()</code>:</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="descrevendo-os-dados.html#cb267-1" aria-hidden="true" tabindex="-1"></a>f_abs <span class="ot">&lt;-</span> <span class="fu">table</span> (mater<span class="sc">$</span>idadeCateg)</span>
<span id="cb267-2"><a href="descrevendo-os-dados.html#cb267-2" aria-hidden="true" tabindex="-1"></a>f_abs</span></code></pre></div>
<pre><code>## 
##   &lt;20a 20-35a   &gt;35a 
##    219    992    157</code></pre>
<p>O cálculo das frequências relativas pode ser dada pela função <code>prop.table()</code>, usando a frequência absoluta e a função <code>round()</code> para arrerdondar os valores para 3 digitos:</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="descrevendo-os-dados.html#cb269-1" aria-hidden="true" tabindex="-1"></a>f_rel <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">prop.table</span>(f_abs), <span class="dv">3</span>)</span>
<span id="cb269-2"><a href="descrevendo-os-dados.html#cb269-2" aria-hidden="true" tabindex="-1"></a>f_rel</span></code></pre></div>
<pre><code>## 
##   &lt;20a 20-35a   &gt;35a 
##  0.160  0.725  0.115</code></pre>
<p>Multiplicando por 100 a f_rel, tem-se a frequência percentual:</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="descrevendo-os-dados.html#cb271-1" aria-hidden="true" tabindex="-1"></a>f_perc <span class="ot">&lt;-</span> <span class="fu">round</span>(f_rel<span class="sc">*</span><span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb271-2"><a href="descrevendo-os-dados.html#cb271-2" aria-hidden="true" tabindex="-1"></a>f_perc</span></code></pre></div>
<pre><code>## 
##   &lt;20a 20-35a   &gt;35a 
##   16.0   72.5   11.5</code></pre>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="descrevendo-os-dados.html#cb273-1" aria-hidden="true" tabindex="-1"></a>f_abs <span class="ot">&lt;-</span> <span class="fu">c</span> (f_abs, <span class="fu">sum</span>(f_abs))</span>
<span id="cb273-2"><a href="descrevendo-os-dados.html#cb273-2" aria-hidden="true" tabindex="-1"></a>f_rel <span class="ot">&lt;-</span> <span class="fu">c</span> (f_rel, <span class="fu">sum</span> (f_rel))</span>
<span id="cb273-3"><a href="descrevendo-os-dados.html#cb273-3" aria-hidden="true" tabindex="-1"></a>f_perc <span class="ot">&lt;-</span> <span class="fu">c</span> (f_perc, <span class="fu">sum</span> (f_perc))</span>
<span id="cb273-4"><a href="descrevendo-os-dados.html#cb273-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb273-5"><a href="descrevendo-os-dados.html#cb273-5" aria-hidden="true" tabindex="-1"></a>tab1 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(f_abs,</span>
<span id="cb273-6"><a href="descrevendo-os-dados.html#cb273-6" aria-hidden="true" tabindex="-1"></a>              f_rel ,</span>
<span id="cb273-7"><a href="descrevendo-os-dados.html#cb273-7" aria-hidden="true" tabindex="-1"></a>              f_perc)</span>
<span id="cb273-8"><a href="descrevendo-os-dados.html#cb273-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb273-9"><a href="descrevendo-os-dados.html#cb273-9" aria-hidden="true" tabindex="-1"></a>tab1 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(tab1)</span>
<span id="cb273-10"><a href="descrevendo-os-dados.html#cb273-10" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(tab1)[<span class="dv">4</span>] <span class="ot">&lt;-</span>  <span class="st">&quot;Total&quot;</span></span>
<span id="cb273-11"><a href="descrevendo-os-dados.html#cb273-11" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(tab1) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Frequência&quot;</span>, <span class="st">&quot;Freq.Relativa&quot;</span>, <span class="st">&quot;Freq.Percentual&quot;</span>)</span>
<span id="cb273-12"><a href="descrevendo-os-dados.html#cb273-12" aria-hidden="true" tabindex="-1"></a>tab1</span></code></pre></div>
<pre><code>##        Frequência Freq.Relativa Freq.Percentual
## &lt;20a          219         0.160            16.0
## 20-35a        992         0.725            72.5
## &gt;35a          157         0.115            11.5
## Total        1368         1.000           100.0</code></pre>
<p>A função <code>kable()</code> do <code>knitr</code><span class="citation">(69)</span> pode ser usada, retornando uma tabela muito simples e profissional (Tabela <a href="descrevendo-os-dados.html#tab:tisch">6.2</a>). Como a função somente trabalha com matrizes e dataframes, a tabela <code>tab1</code> deve ser um <code>data.frame</code>.</p>
<p>Para melhorar o aspecto da tabela, pode-se acrescentar funções do pacote <code>kableExtra</code> <span class="citation">(70)</span> com a sintax <code>pipe</code> ( %&gt;% ), como exemplo, <code>kable_styling()</code>.</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="descrevendo-os-dados.html#cb275-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(tab1,</span>
<span id="cb275-2"><a href="descrevendo-os-dados.html#cb275-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">booktabs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb275-3"><a href="descrevendo-os-dados.html#cb275-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">caption =</span> <span class="st">&quot;Distribuição das puérperas por faixa etária, Hospital Geral de Caxias do Sul, RS, 2008.&quot;</span>,</span>
<span id="cb275-4"><a href="descrevendo-os-dados.html#cb275-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">format.args =</span> <span class="fu">list</span>(<span class="at">decimal.mark =</span> <span class="st">&quot;,&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb275-5"><a href="descrevendo-os-dados.html#cb275-5" aria-hidden="true" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">&quot;Cambria&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb275-6"><a href="descrevendo-os-dados.html#cb275-6" aria-hidden="true" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<table class=" lightable-classic" style="font-family: Cambria; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:tisch">Table 6.2: </span>Distribuição das puérperas por faixa etária, Hospital Geral de Caxias do Sul, RS, 2008.
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;">
</th>
<th style="text-align:right;font-weight: bold;">
Frequência
</th>
<th style="text-align:right;font-weight: bold;">
Freq.Relativa
</th>
<th style="text-align:right;font-weight: bold;">
Freq.Percentual
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
&lt;20a
</td>
<td style="text-align:right;">
219
</td>
<td style="text-align:right;">
0,160
</td>
<td style="text-align:right;">
16,0
</td>
</tr>
<tr>
<td style="text-align:left;">
20-35a
</td>
<td style="text-align:right;">
992
</td>
<td style="text-align:right;">
0,725
</td>
<td style="text-align:right;">
72,5
</td>
</tr>
<tr>
<td style="text-align:left;">
&gt;35a
</td>
<td style="text-align:right;">
157
</td>
<td style="text-align:right;">
0,115
</td>
<td style="text-align:right;">
11,5
</td>
</tr>
<tr>
<td style="text-align:left;">
Total
</td>
<td style="text-align:right;">
1368
</td>
<td style="text-align:right;">
1,000
</td>
<td style="text-align:right;">
100,0
</td>
</tr>
</tbody>
</table>
<p><strong>Tabela de frequência para dados numéricos</strong></p>
<p>Como fazer a distribuição de frequência de uma variável contínua sem um critério pré-determinado para as classes?</p>
<p>Como exemplo, será usado, agora, o IMC pré-gestacional das parturientes do banco de dados <code>dadosMater.xlsx</code>). Esta variável não existe, tem-se apenas o peso e a altura e, portanto, com estes dados, ela pode ser criada:</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="descrevendo-os-dados.html#cb276-1" aria-hidden="true" tabindex="-1"></a>mater<span class="sc">$</span>imc <span class="ot">&lt;-</span> <span class="fu">round</span>(mater<span class="sc">$</span>peso<span class="sc">/</span>mater<span class="sc">$</span>altura<span class="sc">^</span><span class="dv">2</span>, <span class="dv">1</span>)</span></code></pre></div>
<p>Após, segue-se os seguintes passos:</p>
<ol style="list-style-type: decimal">
<li><em>Estabelecimento do número de classes (k)</em>:</li>
</ol>
<p>Antes, as classes foram estabelecidas de acordo com algum critério. Em geral, quando não há um padrão pré-determinado, o número de classes é estabelecido de acordo com o tamanho da amostra. Este número pode ser escolhido lembrando-se das oscilações que ocorrem nos dados e do interesse do pesquisador em mostrar seus dados. Não existe uma regra totalmente eficiente para determinar o número de classes. É importante ter bom senso, de maneira que seja possível ver como os valores se distribuem.</p>
<p>Para a maioria dos dados, é recomendado e 8 a 20 classes, isto é, 8 <span class="math inline">\(\le\)</span> k <span class="math inline">\(\le\)</span> 20. Com poucas classes, perde-se precisão e, com muitas classes, a tabela torna-se muito extensa. Baseado na regra de Sturges , é sugerido usar a recomendação da Figura <a href="descrevendo-os-dados.html#fig:sturges">6.2</a> <span class="citation">(71)</span>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:sturges"></span>
<img src="https://i.imgur.com/IXn5SNz.png" alt="Número de classes baseado em Sturges" width="70%" />
<p class="caption">
Figure 6.2: Número de classes baseado em Sturges
</p>
</div>
<p>Para a variável <code>imc</code>, como existem 1368 observações, deve-se usar ao redor de 10 classes. Executando a função <code>nclass.Sturges ()</code>, abaixo, o número de classes é igual a:</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="descrevendo-os-dados.html#cb277-1" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="fu">nclass.Sturges</span> (mater<span class="sc">$</span>imc)</span>
<span id="cb277-2"><a href="descrevendo-os-dados.html#cb277-2" aria-hidden="true" tabindex="-1"></a>k</span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><em>Amplitude e limites das classes</em>:</li>
</ol>
<p>A classe possui um limite inferior e um limite superior. O importante é que os limites dos intervalos sejam mutuamente exclusivos, isto cada valor deve ser representado em um único intervalo. Além disso, os intervalos devem ser exaustivos, isto é, devem conter todos os valores possíveis entre o valor mínimo e o máximo. O recomendado é que as classes sejam homogêneas, ou seja, tenham a mesma amplitude. A amplitude dos valores pode ser obtida com a função <code>range()</code>:</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="descrevendo-os-dados.html#cb279-1" aria-hidden="true" tabindex="-1"></a>amplitude <span class="ot">&lt;-</span> <span class="fu">range</span>(mater<span class="sc">$</span>imc) </span>
<span id="cb279-2"><a href="descrevendo-os-dados.html#cb279-2" aria-hidden="true" tabindex="-1"></a>amplitude </span></code></pre></div>
<pre><code>## [1] 11.8 48.7</code></pre>
<p>Usando esta amplitude dos dados, é possível ter a largura (amplitude) das classes (<code>h</code>), usando a diferença entre o mínimo e máximo e divdindo pelo número de clsasses (<code>k</code>):</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="descrevendo-os-dados.html#cb281-1" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">diff</span>(amplitude)<span class="sc">/</span>k, <span class="dv">0</span>)</span>
<span id="cb281-2"><a href="descrevendo-os-dados.html#cb281-2" aria-hidden="true" tabindex="-1"></a>h</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>A fórmula é apenas a diferença absoluta dos limites inferior e superior dividida pelo número de classes, arredondado com o a função round () com 1 dígito decimal.</p>
<p>A partir desses dados, é possível construir as classes. A primeira classe será o valor mínimo de 11,8, que pode ser arredondado para 11,8 até 14,8 (11,8 + 3) exclusive; a segunda classe será 14,8 até 17,8 (14,8 + 3) e assim por diante.</p>
<ol start="3" style="list-style-type: decimal">
<li><em>Construção da tabela</em>:</li>
</ol>
<p>Pode-se construir a tabela, usando a função <code>table()</code> e dentro desta a função <code>cut()</code> e dentro dela a função <code>seq(limite inferior, limite superior, l = número de classes)</code>.</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="descrevendo-os-dados.html#cb283-1" aria-hidden="true" tabindex="-1"></a>nutriCateg <span class="ot">&lt;-</span> <span class="fu">table</span>(<span class="fu">cut</span>(mater<span class="sc">$</span>imc,</span>
<span id="cb283-2"><a href="descrevendo-os-dados.html#cb283-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">rigth =</span> <span class="cn">TRUE</span>,</span>
<span id="cb283-3"><a href="descrevendo-os-dados.html#cb283-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">include.lowest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb283-4"><a href="descrevendo-os-dados.html#cb283-4" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">seq</span>(<span class="fl">11.8</span>, <span class="fl">48.7</span>, <span class="at">l =</span> k <span class="sc">+</span> <span class="dv">1</span>)))</span>
<span id="cb283-5"><a href="descrevendo-os-dados.html#cb283-5" aria-hidden="true" tabindex="-1"></a>nutriCateg</span></code></pre></div>
<pre><code>## 
## [11.8,14.9]   (14.9,18]     (18,21]   (21,24.1] (24.1,27.2] (27.2,30.3] 
##           2          46         258         480         237         176 
## (30.3,33.3] (33.3,36.4] (36.4,39.5] (39.5,42.6] (42.6,45.6] (45.6,48.7] 
##          87          39          22          12           5           4</code></pre>
<p>Preste atenção! Estes comandos que vão gerar a tabela têm o argumento <code>right = TRUE (padrão)</code>. Neste caso, ao contrário do comentado anteriormente, onde foi usado <code>right = FALSE</code>, os símbolos aparecem como (] (na tabela) e significa que o limite inferior da classe foi excluído (aberto à esquerda) e o superior foi incluído (fechado à direita). Aqui, também foi introduzido o argumento <code>include.lowest  = TRUE</code> para incluir o valor mínimo dos dados (11,8), e a representação gráfica fica [].</p>
<p>Olhando a saída do objeto <code>nutriCateg</code>, ela parece pouco esclarecedora e, no caso do IMC, talvez fosse melhor usar outro critério. Como por exemplo o que define o estado nutricional no 1° trimestre de gestação e classifica as gestantes em <em>baixo peso</em> (IMC <span class="math inline">\(&lt;\)</span> 18,5 kg/<span class="math inline">\(m^2\)</span>), <em>peso adequado</em> (18,5 <span class="math inline">\(\le\)</span> IMC <span class="math inline">\(\le\)</span> 24,9 kg/<span class="math inline">\(m^2\)</span>), <em>sobrepeso</em> (25,0 <span class="math inline">\(\le\)</span> IMC <span class="math inline">\(\le\)</span> 29,9 kg/<span class="math inline">\(m^2\)</span>) e <em>obesidade</em> (IMC <span class="math inline">\(\ge\)</span> 30 kg/<span class="math inline">\(m^2\)</span>). Assim, é recomendado um ganho de peso total adequado de 12,5 kg a 18 kg para as gestantes classificadas como baixo peso; de 11,5 kg a 16,0 kg para as classificadas como peso adequado; de 7,0 a 11,5 kg nas classificadas com sobrepeso; e de 5,0 a 9,0 kg nas obesas <span class="citation">(72)</span>. Desta forma, tem-se uma tabela que melhor define este grupo de mulheres quanto ao estado nutricional.</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="descrevendo-os-dados.html#cb285-1" aria-hidden="true" tabindex="-1"></a>mater<span class="sc">$</span>estNutri <span class="ot">&lt;-</span> <span class="fu">cut</span>(mater<span class="sc">$</span>imc,</span>
<span id="cb285-2"><a href="descrevendo-os-dados.html#cb285-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fl">11.8</span>, <span class="fl">18.5</span>, <span class="dv">25</span>, <span class="dv">30</span>, <span class="fl">48.7</span>),</span>
<span id="cb285-3"><a href="descrevendo-os-dados.html#cb285-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Baixo Peso&quot;</span>, <span class="st">&quot;Peso adequado&quot;</span>, </span>
<span id="cb285-4"><a href="descrevendo-os-dados.html#cb285-4" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">&quot;Sobrepeso&quot;</span>, <span class="st">&quot;Obesidade&quot;</span>),</span>
<span id="cb285-5"><a href="descrevendo-os-dados.html#cb285-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">include.lowest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb285-6"><a href="descrevendo-os-dados.html#cb285-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">right =</span> <span class="cn">FALSE</span>,</span>
<span id="cb285-7"><a href="descrevendo-os-dados.html#cb285-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">ordered_result =</span><span class="cn">TRUE</span>)</span>
<span id="cb285-8"><a href="descrevendo-os-dados.html#cb285-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-9"><a href="descrevendo-os-dados.html#cb285-9" aria-hidden="true" tabindex="-1"></a>f.abs <span class="ot">&lt;-</span> <span class="fu">table</span> (mater<span class="sc">$</span>estNutri)</span>
<span id="cb285-10"><a href="descrevendo-os-dados.html#cb285-10" aria-hidden="true" tabindex="-1"></a>f.rel <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">prop.table</span>(f.abs), <span class="dv">3</span>)</span>
<span id="cb285-11"><a href="descrevendo-os-dados.html#cb285-11" aria-hidden="true" tabindex="-1"></a>f.perc <span class="ot">&lt;-</span> <span class="fu">round</span>(f.rel<span class="sc">*</span><span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb285-12"><a href="descrevendo-os-dados.html#cb285-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-13"><a href="descrevendo-os-dados.html#cb285-13" aria-hidden="true" tabindex="-1"></a>f.abs <span class="ot">&lt;-</span> <span class="fu">c</span> (f.abs, <span class="fu">sum</span>(f.abs))</span>
<span id="cb285-14"><a href="descrevendo-os-dados.html#cb285-14" aria-hidden="true" tabindex="-1"></a>f.rel <span class="ot">&lt;-</span> <span class="fu">c</span> (f.rel, <span class="fu">sum</span> (f.rel))</span>
<span id="cb285-15"><a href="descrevendo-os-dados.html#cb285-15" aria-hidden="true" tabindex="-1"></a>f.perc <span class="ot">&lt;-</span> <span class="fu">c</span> (f.perc, <span class="fu">sum</span> (f.perc))</span>
<span id="cb285-16"><a href="descrevendo-os-dados.html#cb285-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-17"><a href="descrevendo-os-dados.html#cb285-17" aria-hidden="true" tabindex="-1"></a>tab2 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(f.abs,</span>
<span id="cb285-18"><a href="descrevendo-os-dados.html#cb285-18" aria-hidden="true" tabindex="-1"></a>              f.rel ,</span>
<span id="cb285-19"><a href="descrevendo-os-dados.html#cb285-19" aria-hidden="true" tabindex="-1"></a>              f.perc)</span>
<span id="cb285-20"><a href="descrevendo-os-dados.html#cb285-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-21"><a href="descrevendo-os-dados.html#cb285-21" aria-hidden="true" tabindex="-1"></a>tab2 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(tab2)</span>
<span id="cb285-22"><a href="descrevendo-os-dados.html#cb285-22" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(tab2)[<span class="dv">5</span>] <span class="ot">&lt;-</span>  <span class="st">&quot;Total&quot;</span></span>
<span id="cb285-23"><a href="descrevendo-os-dados.html#cb285-23" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(tab2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Frequência&quot;</span>, <span class="st">&quot;Freq.Relativa&quot;</span>, <span class="st">&quot;Freq.Percentual&quot;</span>)</span>
<span id="cb285-24"><a href="descrevendo-os-dados.html#cb285-24" aria-hidden="true" tabindex="-1"></a>tab2</span></code></pre></div>
<pre><code>##               Frequência Freq.Relativa Freq.Percentual
## Baixo Peso            67         0.049             4.9
## Peso adequado        791         0.578            57.8
## Sobrepeso            335         0.245            24.5
## Obesidade            175         0.128            12.8
## Total               1368         1.000           100.0</code></pre>
<p>Colocando em um formato mais científico, tem-se uma tabela (Tabela <a href="descrevendo-os-dados.html#tab:aripaka">6.3</a>) bem mais elegante sobre o estado nutricional pré-gestacional:</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="descrevendo-os-dados.html#cb287-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(tab2,</span>
<span id="cb287-2"><a href="descrevendo-os-dados.html#cb287-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">caption =</span> <span class="st">&quot;Estado nutricional pré-gestacional das parturientes, HGCS, 2008.&quot;</span>,</span>
<span id="cb287-3"><a href="descrevendo-os-dados.html#cb287-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">format.args =</span> <span class="fu">list</span>(<span class="at">decimal.mark =</span> <span class="st">&quot;,&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb287-4"><a href="descrevendo-os-dados.html#cb287-4" aria-hidden="true" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">kable_classic</span>(<span class="at">full_width =</span> T, <span class="at">html_font =</span> <span class="st">&quot;Cambria&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb287-5"><a href="descrevendo-os-dados.html#cb287-5" aria-hidden="true" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<table class=" lightable-classic" style="font-family: Cambria; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:aripaka">Table 6.3: </span>Estado nutricional pré-gestacional das parturientes, HGCS, 2008.
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;">
</th>
<th style="text-align:right;font-weight: bold;">
Frequência
</th>
<th style="text-align:right;font-weight: bold;">
Freq.Relativa
</th>
<th style="text-align:right;font-weight: bold;">
Freq.Percentual
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Baixo Peso
</td>
<td style="text-align:right;">
67
</td>
<td style="text-align:right;">
0,049
</td>
<td style="text-align:right;">
4,9
</td>
</tr>
<tr>
<td style="text-align:left;">
Peso adequado
</td>
<td style="text-align:right;">
791
</td>
<td style="text-align:right;">
0,578
</td>
<td style="text-align:right;">
57,8
</td>
</tr>
<tr>
<td style="text-align:left;">
Sobrepeso
</td>
<td style="text-align:right;">
335
</td>
<td style="text-align:right;">
0,245
</td>
<td style="text-align:right;">
24,5
</td>
</tr>
<tr>
<td style="text-align:left;">
Obesidade
</td>
<td style="text-align:right;">
175
</td>
<td style="text-align:right;">
0,128
</td>
<td style="text-align:right;">
12,8
</td>
</tr>
<tr>
<td style="text-align:left;">
Total
</td>
<td style="text-align:right;">
1368
</td>
<td style="text-align:right;">
1,000
</td>
<td style="text-align:right;">
100,0
</td>
</tr>
</tbody>
</table>
</div>
<div id="tabelas-de-contingência" class="section level3 hasAnchor" number="6.3.2">
<h3><span class="header-section-number">6.3.2</span> Tabelas de contingência<a href="descrevendo-os-dados.html#tabelas-de-contingência" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As tabelas de contingência, também chamadas tabelas cruzadas, são bastante usadas em estatísticas epidemiológicas para resumir a relação entre duas ou mais variáveis categóricas.</p>
<p>Uma tabela de contingência é um tipo especial de tabela de distribuição de frequência, onde duas variáveis são mostradas simultaneamente. Por exemplo, um pesquisador pode estar interessado em saber se o hábito de fumar na gestação aumenta o risco de o recém-nascido precisar de cuidados intensivos.<br />
Existem duas variáveis <code>fumo</code> (fumo na gestação) e <code>utiNeo</code> (necessidade de cuidados intensivos neonatais) no banco de dados <code>dadosMater.xlsx</code>. Cada uma dessas variáveis tem duas alternativas, <code>sim</code> e <code>não</code>, por isso a tabela de cruzamento é denominada tabela de contingência 2 x 2. No arquivo, estão registradas como variáveis numéricas , 1 e 2, e devem ser transformadas para fatores (1 = sim e 2 = não)<a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a>, usando a função <code>factor()</code>.</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="descrevendo-os-dados.html#cb288-1" aria-hidden="true" tabindex="-1"></a>mater<span class="sc">$</span>fumo <span class="ot">&lt;-</span> <span class="fu">factor</span> (mater<span class="sc">$</span>fumo, </span>
<span id="cb288-2"><a href="descrevendo-os-dados.html#cb288-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">ordered =</span> <span class="cn">TRUE</span>, </span>
<span id="cb288-3"><a href="descrevendo-os-dados.html#cb288-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">levels =</span> <span class="fu">c</span> (<span class="dv">1</span>,<span class="dv">2</span>), </span>
<span id="cb288-4"><a href="descrevendo-os-dados.html#cb288-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">labels =</span> <span class="fu">c</span> (<span class="st">&quot;sim&quot;</span>, <span class="st">&quot;não&quot;</span>))</span>
<span id="cb288-5"><a href="descrevendo-os-dados.html#cb288-5" aria-hidden="true" tabindex="-1"></a>mater<span class="sc">$</span>utiNeo <span class="ot">&lt;-</span> <span class="fu">factor</span> (mater<span class="sc">$</span>utiNeo, </span>
<span id="cb288-6"><a href="descrevendo-os-dados.html#cb288-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">ordered =</span> <span class="cn">TRUE</span>, </span>
<span id="cb288-7"><a href="descrevendo-os-dados.html#cb288-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">levels =</span> <span class="fu">c</span> (<span class="dv">1</span>,<span class="dv">2</span>), </span>
<span id="cb288-8"><a href="descrevendo-os-dados.html#cb288-8" aria-hidden="true" tabindex="-1"></a>                        <span class="at">labels =</span> <span class="fu">c</span> (<span class="st">&quot;sim&quot;</span>, <span class="st">&quot;não&quot;</span>))</span></code></pre></div>
<p>Basta agora, usar a função <code>with()</code> junto com a função <code>table(variável da linha, variável das colunas)</code>. Por convenção, costuma-se colocar a variável explicativa ou explanatória nas linhas (<code>fumo</code>) e o desfecho nas colunas (<code>utiNeo</code>):</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="descrevendo-os-dados.html#cb289-1" aria-hidden="true" tabindex="-1"></a>tabFumo <span class="ot">&lt;-</span> <span class="fu">with</span>(<span class="at">data =</span> mater, <span class="fu">table</span>(fumo, utiNeo))</span>
<span id="cb289-2"><a href="descrevendo-os-dados.html#cb289-2" aria-hidden="true" tabindex="-1"></a>tabFumo</span></code></pre></div>
<pre><code>##      utiNeo
## fumo  sim não
##   sim  71 230
##   não 204 863</code></pre>
<p>Para ter a soma das margens, usar a função <code>addmargins (tabela, margin = c (1,2), FUN = sum)</code> do pacote <code>stats</code>, incluído na instalação básica do R. A função adiciona a soma das linhas (1) e das colunas (2) às margens da tabela (tabFumo). Para melhorar visualmente, pode-se colocar <code>sum</code> em um objeto denominado de <code>Total</code>.</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="descrevendo-os-dados.html#cb291-1" aria-hidden="true" tabindex="-1"></a>Total <span class="ot">&lt;-</span>  sum   </span>
<span id="cb291-2"><a href="descrevendo-os-dados.html#cb291-2" aria-hidden="true" tabindex="-1"></a><span class="fu">addmargins</span> (tabFumo, <span class="at">margin =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">FUN =</span> sum)</span></code></pre></div>
<pre><code>## Margins computed over dimensions
## in the following order:
## 1: fumo
## 2: utiNeo</code></pre>
<pre><code>##      utiNeo
## fumo   sim  não  sum
##   sim   71  230  301
##   não  204  863 1067
##   sum  275 1093 1368</code></pre>
</div>
</div>
<div id="gráficos" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Gráficos<a href="descrevendo-os-dados.html#gráficos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para descrever os dados e visualizar o que está acontecendo, recomenda-se utilizar um gráfico adequado. O que é adequado depende principalmente do tipo de dados, bem como das características particulares do que se quer explorar. Além disso, um gráfico em um relatório sempre é um fator de “impacto”. Ou seja, pode ter um efeito positivo no leitor ou fazê-lo abandonar a leitura. Finalmente, um gráfico de frequência pode ser utilizado para ilustrar, explicar uma situação complexa onde palavras ou uma tabela podem ser confusos, extensos ou de outro modo insuficiente. Por outro lado, deve-se evitar usar gráficos onde poucas palavras expressam claramente o que se quer mostrar. Aconselha-se que, ao analisar os dados, é importante inspecioná-los como se fossem uma imagem, uma fotografia, ver como eles se parecem, qual o seu aspecto, e só então pensar em interpretar os aspectos vitais da estatística <span class="citation">(73)</span>.</p>
<p>O R básico fornece uma grande variedade de funções para visualizar dados, elas de uma maneira relativamente simples permitem a construção de gráficos que facilitam a interpretação tanto de variáveis categórica como contínuas. Para gráficos mais sofisticados existe um pacote denominado <code>ggplo2</code> <span class="citation">(74)</span>. Este pacote é uma ferramenta extremamente versátil. É um pouco mais complexo e exige mais tempo para dominá-lo, mas, uma vez que se aprenda o básico sobre ele, oferece uma estrutura extremamente flexível para exibir os dados . Inicialmente, serão usadas as funções do R básico e,posteriormente, será feita uma introdução ao <code>ggplot2</code>.</p>
<div id="gráfico-de-setores" class="section level3 hasAnchor" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> Gráfico de setores<a href="descrevendo-os-dados.html#gráfico-de-setores" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Também conhecido como gráfico de <em>pizza</em>. Cada segmento (fatia) do gráfico de pizza deve ser proporcional à frequência da categoria que representa. A desvantagem do gráfico de pizza é que ele só pode representar uma variável, portanto, há necessidade de um gráfico separado para cada variável que se deseja representar. Além disso, um gráfico de pizza pode perder clareza se ele é usado para representar mais do que quatro ou cinco categorias. Na maioria das vezes, em um artigo ou relatório não há necessidade de se usar este tipo de gráfico. As tabelas são muito melhores. Segundo Edward Tufte, professor emérito de estatística, <em>design</em> gráfico e economia política na Universidade de Yale, o único gráfico pior do que um gráfico de pizza são vários deles <span class="citation">(75)</span>! Ele é usado mais no mundo dos negócios. Como regra, não use gráfico de pizza!</p>
<p>Em uma consulta, entre estudantes de Medicina, foi perguntado a sua opinião em relação a este tipo de gráfico. A pergunta feita foi: “O que você sente ao ver um gráfico de pizza em um artigo científico?” As alternativas para a resposta eram quatro (ódio, irritação, indiferença, amor). O resultado do inquérito está na Tabela <a href="descrevendo-os-dados.html#tab:pizza">6.4</a>.</p>
<table class=" lightable-classic" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:pizza">Table 6.4: </span>Sentimento dos alunos de Medicina em relação ao gráfico de pizza, UCS, 2012.
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;">
Sentimento
</th>
<th style="text-align:right;font-weight: bold;">
f
</th>
<th style="text-align:right;font-weight: bold;">
fr
</th>
<th style="text-align:right;font-weight: bold;">
fp
</th>
<th style="text-align:right;font-weight: bold;">
Fp
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;width: 3.5cm; ">
Odeiam
</td>
<td style="text-align:right;width: 1.5cm; ">
6
</td>
<td style="text-align:right;width: 1.5cm; ">
0,15
</td>
<td style="text-align:right;width: 1.5cm; ">
15
</td>
<td style="text-align:right;width: 1.5cm; ">
15
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.5cm; ">
Não gostam
</td>
<td style="text-align:right;width: 1.5cm; ">
12
</td>
<td style="text-align:right;width: 1.5cm; ">
0,30
</td>
<td style="text-align:right;width: 1.5cm; ">
30
</td>
<td style="text-align:right;width: 1.5cm; ">
45
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.5cm; ">
Indiferentes
</td>
<td style="text-align:right;width: 1.5cm; ">
14
</td>
<td style="text-align:right;width: 1.5cm; ">
0,35
</td>
<td style="text-align:right;width: 1.5cm; ">
35
</td>
<td style="text-align:right;width: 1.5cm; ">
80
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.5cm; ">
Amam
</td>
<td style="text-align:right;width: 1.5cm; ">
8
</td>
<td style="text-align:right;width: 1.5cm; ">
0,20
</td>
<td style="text-align:right;width: 1.5cm; ">
20
</td>
<td style="text-align:right;width: 1.5cm; ">
100
</td>
</tr>
<tr>
<td style="text-align:left;width: 3.5cm; ">
Total
</td>
<td style="text-align:right;width: 1.5cm; ">
40
</td>
<td style="text-align:right;width: 1.5cm; ">
1,00
</td>
<td style="text-align:right;width: 1.5cm; ">
100
</td>
<td style="text-align:right;width: 1.5cm; ">
</td>
</tr>
</tbody>
</table>
<p>No R base, pacote <code>graphics</code>, existe a função <code>pie()</code>para obter um gráfico de setores simples. Esta função usa os seguintes argumentos basicos, consulte a ajuda do R para outras informações:</p>
<ul>
<li><strong>x</strong> <span class="math inline">\(\longrightarrow\)</span> vetor numérico não negativo<br />
</li>
<li><strong>labels</strong> <span class="math inline">\(\longrightarrow\)</span> caracteres que fornecem nomes para as fatias. Para rótulos vazios ou NA (após coerção para caractere), nenhum rótulo ou linha indicadora é desenhada<br />
</li>
<li><strong>radius</strong> <span class="math inline">\(\longrightarrow\)</span> A pizza é desenhada centralizada em um quadrado cujos lados variam de -1 a +1. Se os caracteres que rotulam as fatias forem longos, pode ser necessário usar um raio menor. O padrão é 0,8.<br />
</li>
<li><strong>density</strong> <span class="math inline">\(\longrightarrow\)</span> Densidade das linhas de sombreamento, em linhas por polegada. O padrão é NULL significa que nenhuma linha de sombreamento é desenhada. Valores não positivos de densidade também inibem o desenho de linhas sombreadas</li>
<li><strong>col</strong> <span class="math inline">\(\longrightarrow\)</span> Vetor de cores a ser usado no preenchimento ou sombreamento das fatias. Se estiver faltando, um conjunto de 6 cores pastel é usado</li>
</ul>
<p>Os valores da coluna de frequência absoluta (<em>f</em>) da Tabela <a href="descrevendo-os-dados.html#tab:pizza">6.4</a> serão usados como o argumento <em>x</em>. Ele informa a área (proporção de cada fatia. Os rótulos das fatias são escritos com a função concatenar <code>c()</code>. As cores também podeser estabelecidas com a função concatenar, mas para introduzir o pacote <code>RColorBrewer</code>, será usada 4 cores da sua paleta <code>RdBu</code>, mistura de vermelho e azul (Figura <a href="descrevendo-os-dados.html#fig:pie">6.3</a>).</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="descrevendo-os-dados.html#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb294-2"><a href="descrevendo-os-dados.html#cb294-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-3"><a href="descrevendo-os-dados.html#cb294-3" aria-hidden="true" tabindex="-1"></a><span class="fu">pie</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">14</span>, <span class="dv">8</span>),</span>
<span id="cb294-4"><a href="descrevendo-os-dados.html#cb294-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Odeiam&quot;</span>, <span class="st">&quot;Não gostam&quot;</span>, <span class="st">&quot;Indiferentes&quot;</span>, <span class="st">&quot;Amam&quot;</span>),</span>
<span id="cb294-5"><a href="descrevendo-os-dados.html#cb294-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">brewer.pal</span>(<span class="at">n =</span> <span class="dv">4</span>, <span class="at">name =</span> <span class="st">&quot;RdBu&quot;</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:pie"></span>
<img src="bookdownproj_files/figure-html/pie-1.png" alt="Gráfico de Pizza: Opinião dos estudantes de Medicina." width="100%" height="100%" />
<p class="caption">
Figure 6.3: Gráfico de Pizza: Opinião dos estudantes de Medicina.
</p>
</div>
<p>A função <code>pie3D()</code> permite construir um gráfico de setores em três dimensões. Para isso, há necessidade de instalar o pacote <code>plotrix</code> <span class="citation">(76)</span>. Os argumentos são praticamente os mesmos do gráfico simples. Acrescenta-se <code>radius = 0.9</code> que muda o raio da pizza e <code>explode = 0.1</code> que determina o afastamento das fatias (0, as mantém juntas). Além disso, como o gráfico exibe rótulos com textos muito grandes, usa-se o argumento <code>labelcex = 1</code> e coloca-se um título com o argumento <code>main</code> (Figura <a href="descrevendo-os-dados.html#fig:pie3d">6.4</a>).</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="descrevendo-os-dados.html#cb295-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span> (plotrix)</span>
<span id="cb295-2"><a href="descrevendo-os-dados.html#cb295-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb295-3"><a href="descrevendo-os-dados.html#cb295-3" aria-hidden="true" tabindex="-1"></a><span class="fu">pie3D</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">14</span>, <span class="dv">8</span>),</span>
<span id="cb295-4"><a href="descrevendo-os-dados.html#cb295-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Odeiam&quot;</span>, <span class="st">&quot;Não gostam&quot;</span>, <span class="st">&quot;Indiferentes&quot;</span>, <span class="st">&quot;Amam&quot;</span>),</span>
<span id="cb295-5"><a href="descrevendo-os-dados.html#cb295-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">radius =</span> <span class="fl">0.9</span>,</span>
<span id="cb295-6"><a href="descrevendo-os-dados.html#cb295-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">explode =</span> <span class="fl">0.1</span>,</span>
<span id="cb295-7"><a href="descrevendo-os-dados.html#cb295-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">brewer.pal</span>(<span class="at">n =</span> <span class="dv">4</span>, <span class="at">name =</span> <span class="st">&quot;RdBu&quot;</span>),</span>
<span id="cb295-8"><a href="descrevendo-os-dados.html#cb295-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">labelcex =</span> <span class="dv">1</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:pie3d"></span>
<img src="bookdownproj_files/figure-html/pie3d-1.png" alt="Gráfico de Pizza: Opinião dos estudantes de Medicina." width="100%" height="100%" />
<p class="caption">
Figure 6.4: Gráfico de Pizza: Opinião dos estudantes de Medicina.
</p>
</div>
</div>
<div id="gráfico-de-barras" class="section level3 hasAnchor" number="6.4.2">
<h3><span class="header-section-number">6.4.2</span> Gráfico de barras<a href="descrevendo-os-dados.html#gráfico-de-barras" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Os gráficos de barra exibem a distribuição (frequências) de uma variável categórica através de barras verticais ou horizontais, ou sobrepostas <span class="citation">(77)</span>.</p>
<p>Assim como o gráfico de setores, o gráfico de barras é utilizado para representar a frequência absoluta ou percentual de diferentes categorias. As barras são proporcionais as frequências. A forma mais simples de solicitar um gráfico de barra no R é digitar a função <code>barplot()</code> do pacote básico. Esta função é específica para desenhar gráficos de barras horizontais e verticais e usa os seguintes argumentos:</p>
<ul>
<li><strong>height</strong> <span class="math inline">\(\longrightarrow\)</span> um vetor ou matriz de valores que descreve as barras que constituem o gráfico;<br />
</li>
<li><strong>width</strong> <span class="math inline">\(\longrightarrow\)</span> especifica largura das barras, com padrão de 1, opcional;<br />
</li>
<li><strong>space</strong> <span class="math inline">\(\longrightarrow\)</span> a quantidade de espaço (como uma fração da largura média da barra) restante antes de cada barra. Pode ser fornecido como um único número ou um número por barra;<br />
</li>
<li><strong>beside</strong> <span class="math inline">\(\longrightarrow\)</span> argumento lógico para especificar se colunas devem ser mostradas lado a lado;<br />
</li>
<li><strong>col</strong> <span class="math inline">\(\longrightarrow\)</span> cores das barras componentes das barras, por padrão é usado <em>grey</em> (cinza);<br />
</li>
<li><strong>border</strong> <span class="math inline">\(\longrightarrow\)</span> cor das bordas das barras;<br />
</li>
<li><strong>…</strong> <span class="math inline">\(\longrightarrow\)</span> outros argumentos. Consulte a ajuda do R.</li>
</ul>
<p>Para a construção do gráfico de barras simples da Figura <a href="descrevendo-os-dados.html#fig:barra1">6.5</a>), foi utilizada a variável <code>idadeCateg</code>, anteriormente criada, a partir do conjunto de dados <code>dadosMater.xlsx</code>.</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="descrevendo-os-dados.html#cb296-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(mater<span class="sc">$</span>idadeCateg))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:barra1"></span>
<img src="bookdownproj_files/figure-html/barra1-1.png" alt="Gráfico de barra simples." width="80%" height="80%" />
<p class="caption">
Figure 6.5: Gráfico de barra simples.
</p>
</div>
<p>Observando a Figura <a href="descrevendo-os-dados.html#fig:barra1">6.5</a>, verifica-se que não existem rótulos nos eixos <em>x</em> e <em>y</em> e o eixo <em>y</em> tem um tamanho inferior a barra mais alta. Estes e outros problemas podem ser resolvidos modificando-se ou acrescentando outros argumentos na função <code>barplot()</code>. Existem vários argumentos e para conhece-los melhorpesquise no Help do RStudio. Em um gráfico de barra simples são suficientes as seguintes modificações que irão resultar na Figura <a href="descrevendo-os-dados.html#fig:barra2">6.6</a>:</p>
<ul>
<li>Para corrigir a amplitude do eixo <em>y</em>, existe o argumento <code>ylim = c(lim inf, lim sup)</code>. Na Tabela 4 ,observa-se que a frequência máxima é de 992, assim estende-se até 1000, bem próximo da frequência da categoria, acrescentando <code>ylim = c (0,1000)</code>, separado por vírgulas de outros argumentos.</li>
<li>Para os rótulos se utiliza os argumentos <code>ylab = (“Frequência”)</code> e xlab = (“Faixa Etária”). Também, pode ser incluído um título no gráfico com o argumento m<code>ain = “Título”</code>. Observe que os títulos estão entre aspas.</li>
<li>Para modificar o tamanho das letras dos eixos <em>x</em> e <em>y</em>, que estão pouco visíveis, existe o argumento <code>cex.lab = 1</code>, que é o padrão. Para aumentar em 30%, por exemplo, usar <code>cex.lab = 1.3</code>. Os nomes tem padrão <code>cex.names = 1,</code> para modificar pode-se usar 1.3, 1.5, etc. Se nada for modificado, o R imprime o padrão.</li>
<li>Para a cor das barras, use o argumento <code>col = (“cor”)</code>. Escolha a cor entre as 657 opções, ou deixe o padrão cinza (grey). O argumento <code>col.axis = “cor”</code> controla a cor dos valores dos eixos.</li>
<li>Para modificar a borda das barras que por padrão é preta, é possível mudar, usando o argumento <code>border = “cor”</code>. Sem borda basta colocar 0 (zero), no lugar da cor.</li>
<li>Para colocar as barras na posição horizontal, pode ser utilizado o argumento <code>horiz = TRUE</code>. Lembrar de inverter as barras. Ou seja, a variável x passa a ser y e vice-versa.</li>
<li>O argumento las = 1 faz o o texto do eixo <em>y</em> ficar horizontal</li>
<li>A função <code>box(bty = "L")</code>, colocada após, e opcional, faz os eixos se encontraren em 0.</li>
</ul>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="descrevendo-os-dados.html#cb297-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(mater<span class="sc">$</span>idadeCateg), </span>
<span id="cb297-2"><a href="descrevendo-os-dados.html#cb297-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylim =</span> <span class="fu">c</span> (<span class="dv">0</span>,<span class="dv">1000</span>), </span>
<span id="cb297-3"><a href="descrevendo-os-dados.html#cb297-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">col=</span> <span class="st">&quot;tomato&quot;</span>, </span>
<span id="cb297-4"><a href="descrevendo-os-dados.html#cb297-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, </span>
<span id="cb297-5"><a href="descrevendo-os-dados.html#cb297-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab=</span> <span class="st">&quot;Frequência absoluta&quot;</span>, </span>
<span id="cb297-6"><a href="descrevendo-os-dados.html#cb297-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">&quot;Faixa etária&quot;</span>, </span>
<span id="cb297-7"><a href="descrevendo-os-dados.html#cb297-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.lab =</span> <span class="fl">1.2</span>,</span>
<span id="cb297-8"><a href="descrevendo-os-dados.html#cb297-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb297-9"><a href="descrevendo-os-dados.html#cb297-9" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">bty =</span> <span class="st">&quot;L&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:barra2"></span>
<img src="bookdownproj_files/figure-html/barra2-1.png" alt="Gráfico de barra simples modificado." width="80%" height="80%" />
<p class="caption">
Figure 6.6: Gráfico de barra simples modificado.
</p>
</div>
<p>Para que as barras fiquem horizontais como na Figura <a href="descrevendo-os-dados.html#fig:barrah">6.7</a>, usa-se o argumento <code>horiz=TRUE</code>:</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="descrevendo-os-dados.html#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(mater<span class="sc">$</span>idadeCateg), </span>
<span id="cb298-2"><a href="descrevendo-os-dados.html#cb298-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlim =</span> <span class="fu">c</span> (<span class="dv">0</span>,<span class="dv">1000</span>), </span>
<span id="cb298-3"><a href="descrevendo-os-dados.html#cb298-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">col=</span> <span class="st">&quot;steelblue&quot;</span>, </span>
<span id="cb298-4"><a href="descrevendo-os-dados.html#cb298-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, </span>
<span id="cb298-5"><a href="descrevendo-os-dados.html#cb298-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab=</span> <span class="st">&quot;Faixa Etária&quot;</span>, </span>
<span id="cb298-6"><a href="descrevendo-os-dados.html#cb298-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">&quot;Frequência absoluta&quot;</span>, </span>
<span id="cb298-7"><a href="descrevendo-os-dados.html#cb298-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.lab =</span> <span class="fl">1.2</span>, </span>
<span id="cb298-8"><a href="descrevendo-os-dados.html#cb298-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">horiz=</span><span class="cn">TRUE</span>)</span>
<span id="cb298-9"><a href="descrevendo-os-dados.html#cb298-9" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">bty =</span> <span class="st">&quot;L&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:barrah"></span>
<img src="bookdownproj_files/figure-html/barrah-1.png" alt="Gráfico com barras horizontais." width="80%" height="80%" />
<p class="caption">
Figure 6.7: Gráfico com barras horizontais.
</p>
</div>
<p>Além disso, é possível fazer outras alterações para tornar o gráfico mais informativo . Por exemplo, pode-se colocar as frequência de cada barra no topo das mesmas (Figura <a href="descrevendo-os-dados.html#fig:barra3">6.8</a>):</p>
<ul>
<li><strong>1º Passo</strong>: Criar um gráfico de barras , colocando-o em um objeto <em>x</em>, que conterá a coordenada X do centro de cada uma das barras. Para verificar isso, basta executar o objeto <em>x</em>;</li>
<li><strong>2º Passo</strong>: colocar a tabela <code>table(mater$idadeCateg)</code> com um objeto <em>y</em> da classe matriz;</li>
<li><strong>3º Passo</strong>: usar a funçãoo <code>text()</code> para colocar os valores.</li>
</ul>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="descrevendo-os-dados.html#cb299-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">barplot</span>(<span class="fu">table</span>(mater<span class="sc">$</span>idadeCateg), </span>
<span id="cb299-2"><a href="descrevendo-os-dados.html#cb299-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">ylim =</span> <span class="fu">c</span> (<span class="dv">0</span>,<span class="dv">1000</span>), </span>
<span id="cb299-3"><a href="descrevendo-os-dados.html#cb299-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">col=</span> <span class="st">&quot;springgreen&quot;</span>, </span>
<span id="cb299-4"><a href="descrevendo-os-dados.html#cb299-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, </span>
<span id="cb299-5"><a href="descrevendo-os-dados.html#cb299-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">ylab =</span> <span class="st">&quot;Frequência absoluta&quot;</span>, </span>
<span id="cb299-6"><a href="descrevendo-os-dados.html#cb299-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">xlab =</span> <span class="st">&quot;Faixa etária&quot;</span>, </span>
<span id="cb299-7"><a href="descrevendo-os-dados.html#cb299-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">cex.lab =</span> <span class="fl">1.2</span>,</span>
<span id="cb299-8"><a href="descrevendo-os-dados.html#cb299-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb299-9"><a href="descrevendo-os-dados.html#cb299-9" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">bty =</span> <span class="st">&quot;L&quot;</span>)</span>
<span id="cb299-10"><a href="descrevendo-os-dados.html#cb299-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-11"><a href="descrevendo-os-dados.html#cb299-11" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">table</span>(mater<span class="sc">$</span>idadeCateg))</span>
<span id="cb299-12"><a href="descrevendo-os-dados.html#cb299-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-13"><a href="descrevendo-os-dados.html#cb299-13" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span> (x, y, <span class="at">labels =</span> <span class="fu">as.character</span>(y), <span class="at">adj =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">2</span>), <span class="at">col =</span> <span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:barra3"></span>
<img src="bookdownproj_files/figure-html/barra3-1.png" alt="Gráfico de barra simples com frequências no topo." width="80%" height="80%" />
<p class="caption">
Figure 6.8: Gráfico de barra simples com frequências no topo.
</p>
</div>
<p><strong>Gráfico de barras empilhadas</strong></p>
<p>Para este tipo de apresentação são utilizados, praticamente, os mesmos argumentos vistos para gerar um gráfico de barra simples. Como existem duas variáveis, há necessidade de avisar ao R como elas devem aparecer. Para isso, entra o argumento <code>beside = FALSE</code>, que informa que as barras não estarão uma ao lado da outra e sim empilhadas (Figura <a href="descrevendo-os-dados.html#fig:stacked">6.9</a>). O padrão é as barras ficarem uma ao lado da outra.</p>
<p>Acrescenta-se uma legenda com a função <code>legend()</code> na parte superior esquerda (<code>topleft</code>). O argumento <code>bty = "n"</code> informa que será removido o quadro ao redor da legenda e <code>fill = c("dimgrey", "salmon")</code> são as cores das barras.</p>
<p>As duas variáveis a serem visualizadas são o <em>hábito tabagista</em> entre as puérperas de acordo com a <em>idade</em>. No conjunto de dados dadosMater.xlsx, o hábito tabagista está registrado na variável <code>fumo</code>, vista quando se estudou tabelas de contingência. Aqui se construirá uma tabela 3 x 2, <code>tabFumo2</code>:</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="descrevendo-os-dados.html#cb300-1" aria-hidden="true" tabindex="-1"></a>tabFumo2 <span class="ot">&lt;-</span> <span class="fu">table</span>(mater<span class="sc">$</span>fumo, mater<span class="sc">$</span>idadeCateg)</span>
<span id="cb300-2"><a href="descrevendo-os-dados.html#cb300-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb300-3"><a href="descrevendo-os-dados.html#cb300-3" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(tabFumo2,</span>
<span id="cb300-4"><a href="descrevendo-os-dados.html#cb300-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">beside =</span> <span class="cn">FALSE</span>,</span>
<span id="cb300-5"><a href="descrevendo-os-dados.html#cb300-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1000</span>),</span>
<span id="cb300-6"><a href="descrevendo-os-dados.html#cb300-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab=</span><span class="st">&quot;Faixa Etária&quot;</span>, </span>
<span id="cb300-7"><a href="descrevendo-os-dados.html#cb300-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;Frequência&quot;</span>, </span>
<span id="cb300-8"><a href="descrevendo-os-dados.html#cb300-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">col =</span> <span class="fu">c</span> (<span class="st">&quot;dimgrey&quot;</span>, <span class="st">&quot;cadetblue1&quot;</span>),  </span>
<span id="cb300-9"><a href="descrevendo-os-dados.html#cb300-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.lab =</span> <span class="dv">1</span>, </span>
<span id="cb300-10"><a href="descrevendo-os-dados.html#cb300-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb300-11"><a href="descrevendo-os-dados.html#cb300-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb300-12"><a href="descrevendo-os-dados.html#cb300-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb300-13"><a href="descrevendo-os-dados.html#cb300-13" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">bty =</span> <span class="st">&quot;L&quot;</span>)</span>
<span id="cb300-14"><a href="descrevendo-os-dados.html#cb300-14" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span> (<span class="st">&quot;topleft&quot;</span>,</span>
<span id="cb300-15"><a href="descrevendo-os-dados.html#cb300-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;Fumantes&quot;</span>, <span class="st">&quot;Não Fumantes&quot;</span>), </span>
<span id="cb300-16"><a href="descrevendo-os-dados.html#cb300-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">&quot;dimgrey&quot;</span>, <span class="st">&quot;cadetblue1&quot;</span>), </span>
<span id="cb300-17"><a href="descrevendo-os-dados.html#cb300-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">bty=</span><span class="st">&quot;n&quot;</span>, </span>
<span id="cb300-18"><a href="descrevendo-os-dados.html#cb300-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex =</span> <span class="dv">1</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:stacked"></span>
<img src="bookdownproj_files/figure-html/stacked-1.png" alt="Gráfico de barras empilhadas." width="90%" height="90%" />
<p class="caption">
Figure 6.9: Gráfico de barras empilhadas.
</p>
</div>
<p><strong>Gráfico de barras lado a lado</strong></p>
<p>É igual a anterior, apenas com o argumento <code>beside = TRUE</code> (Figura <a href="descrevendo-os-dados.html#fig:side">6.10</a>).</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="descrevendo-os-dados.html#cb301-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(tabFumo2,</span>
<span id="cb301-2"><a href="descrevendo-os-dados.html#cb301-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">beside =</span> <span class="cn">TRUE</span>,</span>
<span id="cb301-3"><a href="descrevendo-os-dados.html#cb301-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1000</span>),</span>
<span id="cb301-4"><a href="descrevendo-os-dados.html#cb301-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab=</span><span class="st">&quot;Faixa Etária&quot;</span>, </span>
<span id="cb301-5"><a href="descrevendo-os-dados.html#cb301-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;Frequência&quot;</span>, </span>
<span id="cb301-6"><a href="descrevendo-os-dados.html#cb301-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">col =</span> <span class="fu">c</span> (<span class="st">&quot;dimgrey&quot;</span>, <span class="st">&quot;cadetblue1&quot;</span>),  </span>
<span id="cb301-7"><a href="descrevendo-os-dados.html#cb301-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.lab =</span> <span class="dv">1</span>, </span>
<span id="cb301-8"><a href="descrevendo-os-dados.html#cb301-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb301-9"><a href="descrevendo-os-dados.html#cb301-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb301-10"><a href="descrevendo-os-dados.html#cb301-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb301-11"><a href="descrevendo-os-dados.html#cb301-11" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">bty =</span> <span class="st">&quot;L&quot;</span>)</span>
<span id="cb301-12"><a href="descrevendo-os-dados.html#cb301-12" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span> (<span class="st">&quot;topleft&quot;</span>,</span>
<span id="cb301-13"><a href="descrevendo-os-dados.html#cb301-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;Fumantes&quot;</span>, <span class="st">&quot;Não Fumantes&quot;</span>), </span>
<span id="cb301-14"><a href="descrevendo-os-dados.html#cb301-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">&quot;dimgrey&quot;</span>, <span class="st">&quot;cadetblue1&quot;</span>), </span>
<span id="cb301-15"><a href="descrevendo-os-dados.html#cb301-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">bty=</span><span class="st">&quot;n&quot;</span>, </span>
<span id="cb301-16"><a href="descrevendo-os-dados.html#cb301-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex =</span> <span class="dv">1</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:side"></span>
<img src="bookdownproj_files/figure-html/side-1.png" alt="Gráfico de barras lado a lado" width="90%" height="90%" />
<p class="caption">
Figure 6.10: Gráfico de barras lado a lado
</p>
</div>
<p><strong>Gráfico de barras para uma variável discreta</strong></p>
<p>A variável <code>mater$para</code>, número de filhos anteriores ao atual, é uma variável numérica discreta e, para representá-la, o mais adequado é usar um gráfico de barras simples Figura <a href="descrevendo-os-dados.html#fig:discreta">6.11</a>).</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="descrevendo-os-dados.html#cb302-1" aria-hidden="true" tabindex="-1"></a>tab_filhos<span class="ot">&lt;-</span> <span class="fu">table</span> (mater<span class="sc">$</span>para) </span>
<span id="cb302-2"><a href="descrevendo-os-dados.html#cb302-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb302-3"><a href="descrevendo-os-dados.html#cb302-3" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span> (tab_filhos, </span>
<span id="cb302-4"><a href="descrevendo-os-dados.html#cb302-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">col =</span> <span class="st">&quot;tomato&quot;</span>, </span>
<span id="cb302-5"><a href="descrevendo-os-dados.html#cb302-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">xlab=</span><span class="st">&quot;Número de filhos anteriores ao atual&quot;</span>, </span>
<span id="cb302-6"><a href="descrevendo-os-dados.html#cb302-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylab =</span> <span class="st">&quot;Frequência&quot;</span>,</span>
<span id="cb302-7"><a href="descrevendo-os-dados.html#cb302-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">500</span>),</span>
<span id="cb302-8"><a href="descrevendo-os-dados.html#cb302-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.lab =</span> <span class="dv">1</span>, </span>
<span id="cb302-9"><a href="descrevendo-os-dados.html#cb302-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb302-10"><a href="descrevendo-os-dados.html#cb302-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb302-11"><a href="descrevendo-os-dados.html#cb302-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb302-12"><a href="descrevendo-os-dados.html#cb302-12" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">bty =</span> <span class="st">&quot;L&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:discreta"></span>
<img src="bookdownproj_files/figure-html/discreta-1.png" alt="Gráfico de barras para uma variável discreta" width="80%" height="80%" />
<p class="caption">
Figure 6.11: Gráfico de barras para uma variável discreta
</p>
</div>
</div>
<div id="gráfico-de-barra-de-erro" class="section level3 hasAnchor" number="6.4.3">
<h3><span class="header-section-number">6.4.3</span> Gráfico de barra de erro<a href="descrevendo-os-dados.html#gráfico-de-barra-de-erro" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>O <em>gráfico de barra de erro</em> é um tipo de gráfico barra acrescido de uma medida de dispersão: desvio padrão, intervalos de confiança ou erro padrão. As barras de erro dão uma ideia geral de quão precisa é uma medição ou, inversamente, quão longe o valor observado está do valor verdadeiro.</p>
<p>Continuando a usar o arquivo <code>dadosMater.xlsx</code>, será selecionada uma amostra de recém-nascidos a termo, definido pela OMS como o nascido de 37 semanas completas a 42 semanas incompletas (259 a 293 dias). A partir destes dados, será construido um gráfico de barra de erro dos recém-nascidos do sexo masculino e feminino.</p>
<p>Inicialmente, deve ser instalado e carregado o pacote <code>Hmisc</code> <span class="citation">(78)</span>, necessário para fornecer a função <code>errbar()</code> que irá construir o gráfico de de barra de erro.</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="descrevendo-os-dados.html#cb303-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span> (Hmisc)</span></code></pre></div>
<p>A seguir, carregar o arquivo <code>dadosMater.xlsx</code> e transformar em fator a variável sexo, usando os rótulos <code>masc</code> e <code>fem.</code></p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="descrevendo-os-dados.html#cb304-1" aria-hidden="true" tabindex="-1"></a>mater <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Arquivos/dadosMater.xlsx&quot;</span>) </span>
<span id="cb304-2"><a href="descrevendo-os-dados.html#cb304-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb304-3"><a href="descrevendo-os-dados.html#cb304-3" aria-hidden="true" tabindex="-1"></a>mater<span class="sc">$</span>sexo <span class="ot">&lt;-</span> <span class="fu">factor</span>(mater<span class="sc">$</span>sexo,</span>
<span id="cb304-4"><a href="descrevendo-os-dados.html#cb304-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;masc&#39;</span>, <span class="st">&#39;fem&#39;</span>))</span></code></pre></div>
<p>Em sequência, selecionar as variáveis necessárias ao objetivo (<code>ig</code>, <code>pesoRN</code> e <code>sexo</code>), usando a função <code>select()</code>; separar com a função <code>filter()</code> os recém-nascidos a termo (ig &gt;= 37 &amp; ig &lt; 42) e calcular, através da função <code>summarise(</code>), as medidas resumidoras, separando os grupos com a função <code>group_by(), de acordo com o sexo. Todas essas funções são pertencentes ao pacote</code>dplyr`.</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="descrevendo-os-dados.html#cb305-1" aria-hidden="true" tabindex="-1"></a>mater <span class="ot">&lt;-</span> mater <span class="sc">%&gt;%</span> <span class="fu">select</span>(ig, pesoRN, sexo) <span class="sc">%&gt;%</span> </span>
<span id="cb305-2"><a href="descrevendo-os-dados.html#cb305-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ig <span class="sc">&gt;=</span> <span class="dv">37</span> <span class="sc">&amp;</span> ig <span class="sc">&lt;</span> <span class="dv">42</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb305-3"><a href="descrevendo-os-dados.html#cb305-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sexo) <span class="sc">%&gt;%</span> </span>
<span id="cb305-4"><a href="descrevendo-os-dados.html#cb305-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb305-5"><a href="descrevendo-os-dados.html#cb305-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">media =</span> <span class="fu">mean</span>(pesoRN, <span class="at">na.rm =</span> T),</span>
<span id="cb305-6"><a href="descrevendo-os-dados.html#cb305-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">dp =</span> <span class="fu">sd</span>(pesoRN, <span class="at">na.rm =</span> T),</span>
<span id="cb305-7"><a href="descrevendo-os-dados.html#cb305-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">ep =</span> dp<span class="sc">/</span><span class="fu">sqrt</span>(n),</span>
<span id="cb305-8"><a href="descrevendo-os-dados.html#cb305-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">l_inf =</span> media <span class="sc">-</span> <span class="fl">1.96</span><span class="sc">*</span>dp,</span>
<span id="cb305-9"><a href="descrevendo-os-dados.html#cb305-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">l_sup =</span> media <span class="sc">+</span> <span class="fl">1.96</span><span class="sc">*</span>dp)</span></code></pre></div>
<p>No próximo passo, constroi-se um objeto, denominado <code>barras</code>, que irá conter as médias dos pesos dos recém-nascidos masculinos e femininos, que representam a altura das barras. Usando este objeto, constroi-se um gráfico de barras que será recebido por outro objeto, <code>bp</code>.</p>
<p>Finalmente, coloca-se os limites inferiores e superiores para cada sexo, usando os valores calculados pela função <code>summarise()</code> que junto com o objeto <code>bp</code> constituem-se de argumentos da função <code>errbar()</code> (Figura <a href="descrevendo-os-dados.html#fig:errorbar">6.12</a>). Veja maiores detalhes na ajuda do R (<code>?errbar</code>).</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="descrevendo-os-dados.html#cb306-1" aria-hidden="true" tabindex="-1"></a>barras <span class="ot">&lt;-</span> <span class="fu">c</span>(mater<span class="sc">$</span>media[<span class="dv">1</span>], mater<span class="sc">$</span>media[<span class="dv">2</span>])</span>
<span id="cb306-2"><a href="descrevendo-os-dados.html#cb306-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb306-3"><a href="descrevendo-os-dados.html#cb306-3" aria-hidden="true" tabindex="-1"></a>bp <span class="ot">&lt;-</span> <span class="fu">barplot</span>(barras, </span>
<span id="cb306-4"><a href="descrevendo-os-dados.html#cb306-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">4200</span>), </span>
<span id="cb306-5"><a href="descrevendo-os-dados.html#cb306-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">ylab =</span> <span class="st">&quot;Peso do Recém-nascido (g)&quot;</span>,</span>
<span id="cb306-6"><a href="descrevendo-os-dados.html#cb306-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">cex.lab =</span> <span class="dv">1</span>,</span>
<span id="cb306-7"><a href="descrevendo-os-dados.html#cb306-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">cex.axis =</span> <span class="fl">0.8</span>,</span>
<span id="cb306-8"><a href="descrevendo-os-dados.html#cb306-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb306-9"><a href="descrevendo-os-dados.html#cb306-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">space =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.5</span>),</span>
<span id="cb306-10"><a href="descrevendo-os-dados.html#cb306-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Meninos&quot;</span>, <span class="st">&quot;Meninas&quot;</span>), </span>
<span id="cb306-11"><a href="descrevendo-os-dados.html#cb306-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;lightblue&quot;</span>, <span class="st">&quot; pink2&quot;</span>),</span>
<span id="cb306-12"><a href="descrevendo-os-dados.html#cb306-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb306-13"><a href="descrevendo-os-dados.html#cb306-13" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">bty =</span> <span class="st">&quot;L&quot;</span>)</span>
<span id="cb306-14"><a href="descrevendo-os-dados.html#cb306-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb306-15"><a href="descrevendo-os-dados.html#cb306-15" aria-hidden="true" tabindex="-1"></a>lim_inf <span class="ot">&lt;-</span> <span class="fu">c</span>(mater<span class="sc">$</span>l_inf[<span class="dv">1</span>], mater<span class="sc">$</span>l_inf[<span class="dv">2</span>])</span>
<span id="cb306-16"><a href="descrevendo-os-dados.html#cb306-16" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(lim_inf, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 2376.18 2249.69</code></pre>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="descrevendo-os-dados.html#cb308-1" aria-hidden="true" tabindex="-1"></a>lim_sup <span class="ot">&lt;-</span> <span class="fu">c</span>(mater<span class="sc">$</span>l_sup[<span class="dv">1</span>], mater<span class="sc">$</span>l_sup[<span class="dv">2</span>])</span>
<span id="cb308-2"><a href="descrevendo-os-dados.html#cb308-2" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(lim_sup, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 4172.08 4044.09</code></pre>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="descrevendo-os-dados.html#cb310-1" aria-hidden="true" tabindex="-1"></a><span class="fu">errbar</span>(bp, barras, lim_inf, lim_sup, <span class="at">add =</span> T, <span class="at">xlab =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:errorbar"></span>
<img src="bookdownproj_files/figure-html/errorbar-1.png" alt="Gráfico de barras de erro" width="80%" height="80%" />
<p class="caption">
Figure 6.12: Gráfico de barras de erro
</p>
</div>
</div>
<div id="histograma" class="section level3 hasAnchor" number="6.4.4">
<h3><span class="header-section-number">6.4.4</span> Histograma<a href="descrevendo-os-dados.html#histograma" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>O <em>histograma</em> é uma ferramenta gráfica que fornece informações sobre o formato da distribuição e dispersão dos dados, permitindo verificar se existe ou não simetria. É usado para dados contínuos.</p>
<p>No histograma as frequências observadas são representadas por intervalos de classes de ocorrência que estão no eixo <em>x</em> e a altura das barras, representando a frequência de cada intervalo, no eixo <em>y</em>. A área de cada barra é proporcional à porcentagem de observações de cada intervalo.</p>
<p>O R base possui uma função, denominada de <code>hist()</code> que constroi o histograma e possui vários argumentos:</p>
<ul>
<li><strong>x</strong> <span class="math inline">\(\longrightarrow\)</span> um vetor numérico usado na construção do histograma<br />
</li>
<li><strong>breaks</strong> <span class="math inline">\(\longrightarrow\)</span> especifica o número de barras</li>
<li><strong>freq</strong> <span class="math inline">\(\longrightarrow\)</span> lógico; se <code>TRUE</code> (padrão), o histograma é uma representação de frequências; se <code>FALSE</code>, densidades de probabilidade, densidade de componentes, são plotados</li>
<li><strong>col</strong> <span class="math inline">\(\longrightarrow\)</span> cor a ser usada para preencher as barras. O padrão de NULL produz barras não preenchidas</li>
<li><strong>border</strong> <span class="math inline">\(\longrightarrow\)</span> cor da borda ao redor das barras. O padrão é usar a cor de primeiro plano padrão</li>
<li><strong>main, xlab, ylab</strong> <span class="math inline">\(\longrightarrow\)</span> rótulo do título, do eixo <em>x</em> e do eixo <em>y</em>. Para remover o rótulousar <code>NULL.</code></li>
<li><strong>xlim, ylim</strong> <span class="math inline">\(\longrightarrow\)</span> limites do eixo <em>x</em> e do eixo <em>y</em>.</li>
</ul>
<p><strong>Histograma Simples</strong></p>
<p>Os dados para a construção do histograma serão provenientes da variável <code>altura</code> do arquivo <code>dadosMater.xlsx</code>.</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="descrevendo-os-dados.html#cb311-1" aria-hidden="true" tabindex="-1"></a>mater <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Arquivos/dadosMater.xlsx&quot;</span>)</span></code></pre></div>
<p>Para construir o histograma básico da Figura <a href="descrevendo-os-dados.html#fig:histb">6.13</a>), executa-se o comando:</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="descrevendo-os-dados.html#cb312-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(mater<span class="sc">$</span>altura)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:histb"></span>
<img src="bookdownproj_files/figure-html/histb-1.png" alt="Histograma básico" width="80%" height="80%" />
<p class="caption">
Figure 6.13: Histograma básico
</p>
</div>
<p>Observando o histograma gerado, observam-se alguns problemas que devem ser melhorados para tornar a sua aparência mais agradável.</p>
<ul>
<li>O rótulo dos eixo <em>x</em> está com o nome da variável e do eixo <em>y</em> está em inglês;</li>
<li>O título do histograma está em inglês e repete o eixo <em>x</em>. Pode ser removido.</li>
<li>O eixo <em>y</em> tem um limite superior menor do que a barra mais alta;</li>
<li>O gráfico está na cor cinza, que conforme o interesse pode ser modificada;</li>
<li>O número de barras pode ser modificado com o argumento <code>breaks</code>. Existe uma função no R que permite calcular o número de intervalos, usando a <em>regra de Sturges</em> (<code>nclass.Sturges()</code>). Entretanto, na maioria das vezes, é o objetivo do estudo quem determina o número de barras e, também, porque nem sempre o R obedece ao argumento.</li>
</ul>
<p>É importante saber o limite inferior e superior da variável, para construir o eixo <em>x</em>:</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="descrevendo-os-dados.html#cb313-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(mater<span class="sc">$</span>altura, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 1.4</code></pre>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="descrevendo-os-dados.html#cb315-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(mater<span class="sc">$</span>altura, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 1.85</code></pre>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="descrevendo-os-dados.html#cb317-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nclass.Sturges</span>(mater<span class="sc">$</span>altura)</span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<p>Acrescentado argumentos, modifica-se o aspecto do histograma (Figura <a href="descrevendo-os-dados.html#fig:histmod">6.14</a>):</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="descrevendo-os-dados.html#cb319-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(mater<span class="sc">$</span>altura,</span>
<span id="cb319-2"><a href="descrevendo-os-dados.html#cb319-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="dv">12</span>,</span>
<span id="cb319-3"><a href="descrevendo-os-dados.html#cb319-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span> (<span class="dv">0</span>, <span class="dv">450</span>),</span>
<span id="cb319-4"><a href="descrevendo-os-dados.html#cb319-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim =</span> <span class="fu">c</span> (<span class="fl">1.4</span>, <span class="fl">1.9</span>),</span>
<span id="cb319-5"><a href="descrevendo-os-dados.html#cb319-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">main=</span> <span class="cn">NULL</span>, </span>
<span id="cb319-6"><a href="descrevendo-os-dados.html#cb319-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Frequência&quot;</span>, </span>
<span id="cb319-7"><a href="descrevendo-os-dados.html#cb319-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Altura da gestante (metros)&quot;</span>,</span>
<span id="cb319-8"><a href="descrevendo-os-dados.html#cb319-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;tomato&quot;</span>,</span>
<span id="cb319-9"><a href="descrevendo-os-dados.html#cb319-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb319-10"><a href="descrevendo-os-dados.html#cb319-10" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">bty =</span> <span class="st">&quot;L&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:histmod"></span>
<img src="bookdownproj_files/figure-html/histmod-1.png" alt="Histograma modificado" width="80%" height="80%" />
<p class="caption">
Figure 6.14: Histograma modificado
</p>
</div>
<p>Observe que o formato do histograma é igual ao anterior, mudando a cor das barras, o limite do eixo <em>y</em> e os rótulos dos eixos. O R não modificou o número de barras. Ou seja, não obedeceu à modificação do argumento breaks = 12. Ele escolheu o que ele achou mais adequado!</p>
<p><strong>Histograma com curva normal sobreposta</strong></p>
<p>Eventualmente, para melhor comparar a distribuição dos dados, usamos uma curva normal sobreposta que servirá de indicador (Figura <a href="descrevendo-os-dados.html#fig:histnormal">6.15</a>). A distribuição normal será discutida mais adiante.</p>
<p><em>1º Passo:</em><br />
Construir um histograma de densidade, que é a proporção de todas as observações que se enquadram dentro do intervalo. Na função <code>hist()</code>, modificar o argumento para <code>freq = FALSE</code>.</p>
<p><em>2º Passo:</em><br />
Adicionar uma curva normal ao histograma, usando a função <code>curve()</code>. Calcular antes a média e o desvio padrão da variável <code>mater$altura</code>.</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="descrevendo-os-dados.html#cb320-1" aria-hidden="true" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="fu">mean</span>(mater<span class="sc">$</span>altura, <span class="at">na.rm =</span><span class="cn">TRUE</span>)</span>
<span id="cb320-2"><a href="descrevendo-os-dados.html#cb320-2" aria-hidden="true" tabindex="-1"></a>dp <span class="ot">&lt;-</span> <span class="fu">sd</span>(mater<span class="sc">$</span>altura, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb320-3"><a href="descrevendo-os-dados.html#cb320-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb320-4"><a href="descrevendo-os-dados.html#cb320-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(mater<span class="sc">$</span>altura,</span>
<span id="cb320-5"><a href="descrevendo-os-dados.html#cb320-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span> (<span class="dv">0</span>, <span class="dv">6</span>),</span>
<span id="cb320-6"><a href="descrevendo-os-dados.html#cb320-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim =</span> <span class="fu">c</span> (<span class="fl">1.4</span>, <span class="fl">1.9</span>),</span>
<span id="cb320-7"><a href="descrevendo-os-dados.html#cb320-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">main=</span> <span class="cn">NULL</span>, </span>
<span id="cb320-8"><a href="descrevendo-os-dados.html#cb320-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Densidade&quot;</span>, </span>
<span id="cb320-9"><a href="descrevendo-os-dados.html#cb320-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Altura da gestante (metros)&quot;</span>,</span>
<span id="cb320-10"><a href="descrevendo-os-dados.html#cb320-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span><span class="st">&quot;steelblue&quot;</span>,</span>
<span id="cb320-11"><a href="descrevendo-os-dados.html#cb320-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">freq =</span> <span class="cn">FALSE</span>,            </span>
<span id="cb320-12"><a href="descrevendo-os-dados.html#cb320-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">border =</span> <span class="st">&quot;white&quot;</span>)</span>
<span id="cb320-13"><a href="descrevendo-os-dados.html#cb320-13" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span> (<span class="at">bty =</span> <span class="st">&quot;L&quot;</span>)</span>
<span id="cb320-14"><a href="descrevendo-os-dados.html#cb320-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb320-15"><a href="descrevendo-os-dados.html#cb320-15" aria-hidden="true" tabindex="-1"></a><span class="fu">curve</span> (<span class="fu">dnorm</span> (x, </span>
<span id="cb320-16"><a href="descrevendo-os-dados.html#cb320-16" aria-hidden="true" tabindex="-1"></a>              <span class="at">mean=</span>mu, </span>
<span id="cb320-17"><a href="descrevendo-os-dados.html#cb320-17" aria-hidden="true" tabindex="-1"></a>              <span class="at">sd=</span>dp), </span>
<span id="cb320-18"><a href="descrevendo-os-dados.html#cb320-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">col=</span><span class="st">&quot;red&quot;</span>, </span>
<span id="cb320-19"><a href="descrevendo-os-dados.html#cb320-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">lty=</span><span class="dv">1</span>,</span>
<span id="cb320-20"><a href="descrevendo-os-dados.html#cb320-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">lwd=</span><span class="dv">2</span>,</span>
<span id="cb320-21"><a href="descrevendo-os-dados.html#cb320-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">add=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:histnormal"></span>
<img src="bookdownproj_files/figure-html/histnormal-1.png" alt="Histograma com curva normal sobreposta" width="80%" height="80%" />
<p class="caption">
Figure 6.15: Histograma com curva normal sobreposta
</p>
</div>
<p><strong>Componentes do Histograma</strong></p>
<p>Ao se criar um objeto <em>h</em> da classe <code>histogram</code> (Figura <a href="descrevendo-os-dados.html#fig:histh">6.16</a>), pode-se verificar uma lista de componentes do mesmo.</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="descrevendo-os-dados.html#cb321-1" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span> <span class="fu">hist</span>(mater<span class="sc">$</span>altura,</span>
<span id="cb321-2"><a href="descrevendo-os-dados.html#cb321-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">breaks =</span> <span class="dv">8</span>,</span>
<span id="cb321-3"><a href="descrevendo-os-dados.html#cb321-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">ylim =</span> <span class="fu">c</span> (<span class="dv">0</span>, <span class="dv">450</span>),</span>
<span id="cb321-4"><a href="descrevendo-os-dados.html#cb321-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">xlim =</span> <span class="fu">c</span> (<span class="fl">1.4</span>, <span class="fl">1.9</span>),</span>
<span id="cb321-5"><a href="descrevendo-os-dados.html#cb321-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">main=</span> <span class="cn">NULL</span>, </span>
<span id="cb321-6"><a href="descrevendo-os-dados.html#cb321-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">ylab =</span> <span class="st">&quot;Frequência&quot;</span>, </span>
<span id="cb321-7"><a href="descrevendo-os-dados.html#cb321-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">xlab =</span> <span class="st">&quot;Altura da gestante (metros)&quot;</span>,</span>
<span id="cb321-8"><a href="descrevendo-os-dados.html#cb321-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">col =</span><span class="st">&quot;seagreen2&quot;</span>,</span>
<span id="cb321-9"><a href="descrevendo-os-dados.html#cb321-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">freq =</span> <span class="cn">TRUE</span>,           </span>
<span id="cb321-10"><a href="descrevendo-os-dados.html#cb321-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">border =</span> <span class="st">&quot;white&quot;</span>)</span>
<span id="cb321-11"><a href="descrevendo-os-dados.html#cb321-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">box</span> (<span class="at">bty =</span> <span class="st">&quot;L&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:histh"></span>
<img src="bookdownproj_files/figure-html/histh-1.png" alt="Histograma da altura da gestante" width="80%" height="80%" />
<p class="caption">
Figure 6.16: Histograma da altura da gestante
</p>
</div>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="descrevendo-os-dados.html#cb322-1" aria-hidden="true" tabindex="-1"></a>h</span></code></pre></div>
<pre><code>## $breaks
##  [1] 1.40 1.45 1.50 1.55 1.60 1.65 1.70 1.75 1.80 1.85
## 
## $counts
## [1]  18  87 304 406 334 151  50  16   2
## 
## $density
## [1] 0.26315789 1.27192982 4.44444444 5.93567251 4.88304094 2.20760234 0.73099415
## [8] 0.23391813 0.02923977
## 
## $mids
## [1] 1.425 1.475 1.525 1.575 1.625 1.675 1.725 1.775 1.825
## 
## $xname
## [1] &quot;mater$altura&quot;
## 
## $equidist
## [1] TRUE
## 
## attr(,&quot;class&quot;)
## [1] &quot;histogram&quot;</code></pre>
<p>Estes componentes podem ser usados para outras análises.</p>
<p><strong>Construção de um histograma usando os componentes</strong></p>
<p>Pode-se colocar os valores correspondentes às barras usando os componentes do histograma (Figura <a href="descrevendo-os-dados.html#fig:histfreq">6.17</a>).</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="descrevendo-os-dados.html#cb324-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(mater<span class="sc">$</span>altura,</span>
<span id="cb324-2"><a href="descrevendo-os-dados.html#cb324-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="dv">8</span>,</span>
<span id="cb324-3"><a href="descrevendo-os-dados.html#cb324-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span> (<span class="dv">0</span>, <span class="dv">450</span>),</span>
<span id="cb324-4"><a href="descrevendo-os-dados.html#cb324-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim =</span> <span class="fu">c</span> (<span class="fl">1.4</span>, <span class="fl">1.9</span>),</span>
<span id="cb324-5"><a href="descrevendo-os-dados.html#cb324-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">main=</span> <span class="cn">NULL</span>, </span>
<span id="cb324-6"><a href="descrevendo-os-dados.html#cb324-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Frequência&quot;</span>, </span>
<span id="cb324-7"><a href="descrevendo-os-dados.html#cb324-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Altura da gestante (metros)&quot;</span>,</span>
<span id="cb324-8"><a href="descrevendo-os-dados.html#cb324-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;salmon&quot;</span>)</span>
<span id="cb324-9"><a href="descrevendo-os-dados.html#cb324-9" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span> (<span class="at">bty =</span> <span class="st">&quot;L&quot;</span>)</span>
<span id="cb324-10"><a href="descrevendo-os-dados.html#cb324-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb324-11"><a href="descrevendo-os-dados.html#cb324-11" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span> (h<span class="sc">$</span>mids, h<span class="sc">$</span>counts, <span class="at">labels =</span> h<span class="sc">$</span>counts, <span class="at">adj=</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="sc">-</span><span class="fl">0.5</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:histfreq"></span>
<img src="bookdownproj_files/figure-html/histfreq-1.png" alt="Histograma com frequência no topo" width="80%" height="80%" />
<p class="caption">
Figure 6.17: Histograma com frequência no topo
</p>
</div>
</div>
<div id="boxplot" class="section level3 hasAnchor" number="6.4.5">
<h3><span class="header-section-number">6.4.5</span> Boxplot<a href="descrevendo-os-dados.html#boxplot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>O <em>boxplot</em> descreve a distribuição de uma variável contínua exibindo o resumo de cinco números: mínimo, 1º quartil (percentil 25), mediana (percentil 50), 3ª quartil (percentil 75) e máximo (Figura <a href="descrevendo-os-dados.html#fig:boxplot">6.18</a>). Pode também apresentar observações atípicas (<em>outliers</em>), valores fora do intervalo de ± 1,5 o intervalo interquartil, em geral, representados por (o). Valores que estão acima ou abaixo de 3 vezes o IIQ são considerados extremos, representados por (*).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:boxplot"></span>
<img src="https://i.imgur.com/dbjdKzk.png" alt="Boxplot" width="80%" />
<p class="caption">
Figure 6.18: Boxplot
</p>
</div>
<p>Continuando a usar o arquivo <code>dadosMater.xlsx</code>, será selecionada uma amostra de recém-nascidos a termo da mesma maneira como foi feito para construção do gráfico de barra de erro.</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="descrevendo-os-dados.html#cb325-1" aria-hidden="true" tabindex="-1"></a>mater <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Arquivos/dadosMater.xlsx&quot;</span>) </span>
<span id="cb325-2"><a href="descrevendo-os-dados.html#cb325-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb325-3"><a href="descrevendo-os-dados.html#cb325-3" aria-hidden="true" tabindex="-1"></a>mater<span class="sc">$</span>sexo <span class="ot">&lt;-</span> <span class="fu">factor</span>(mater<span class="sc">$</span>sexo,</span>
<span id="cb325-4"><a href="descrevendo-os-dados.html#cb325-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;masc&#39;</span>, <span class="st">&#39;fem&#39;</span>))</span></code></pre></div>
<p>O R possui uma função no pacote básico denominada <code>boxplot()</code> que constroi o gráfico da Figura <a href="descrevendo-os-dados.html#fig:bxp">6.19</a>.</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb326-1"><a href="descrevendo-os-dados.html#cb326-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span> (mater<span class="sc">$</span>pesoRN)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:bxp"></span>
<img src="bookdownproj_files/figure-html/bxp-1.png" alt="Boxplot simples" width="80%" height="80%" />
<p class="caption">
Figure 6.19: Boxplot simples
</p>
</div>
<p>Este boxplot pode ser modificado (Figura <a href="descrevendo-os-dados.html#fig:bxpmod">6.20</a>), alterando alguns argumentos como colocação de um título no gráfico, e rótulos nos eixos e mudança na cor. Os argumento <code>cex.lab</code>, <code>cex.axis</code> e <code>cex.names</code> estabelecem o tamanho fontes. Por exemplo, para aumentar em 20%, usamos 1.2.</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="descrevendo-os-dados.html#cb327-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span> (mater<span class="sc">$</span>pesoRN, </span>
<span id="cb327-2"><a href="descrevendo-os-dados.html#cb327-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">col =</span> <span class="st">&quot;lightblue2&quot;</span>, </span>
<span id="cb327-3"><a href="descrevendo-os-dados.html#cb327-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">main =</span> <span class="st">&quot;RN a termo&quot;</span>, </span>
<span id="cb327-4"><a href="descrevendo-os-dados.html#cb327-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylab =</span> <span class="st">&quot;Peso do Recém-nascido (g)&quot;</span>,</span>
<span id="cb327-5"><a href="descrevendo-os-dados.html#cb327-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">border =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb327-6"><a href="descrevendo-os-dados.html#cb327-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.lab =</span> <span class="dv">1</span>, </span>
<span id="cb327-7"><a href="descrevendo-os-dados.html#cb327-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb327-8"><a href="descrevendo-os-dados.html#cb327-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb327-9"><a href="descrevendo-os-dados.html#cb327-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">las =</span> <span class="dv">1</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:bxpmod"></span>
<img src="bookdownproj_files/figure-html/bxpmod-1.png" alt="Boxplot modificado" width="80%" height="80%" />
<p class="caption">
Figure 6.20: Boxplot modificado
</p>
</div>
<p><strong>Estatísticas do boxplot</strong></p>
<p>A função <code>boxplot.stats()</code> do pacote <code>grDevices</code> fornece as estatísticas do boxplot, facilitando a interpretação do mesmo, de modo semelhante ao visto para o histograma.</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="descrevendo-os-dados.html#cb328-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot.stats</span> (mater<span class="sc">$</span>pesoRN)</span></code></pre></div>
<pre><code>## $stats
## [1] 1600.0 2697.5 3100.0 3430.0 4485.0
## 
## $n
## [1] 1368
## 
## $conf
## [1] 3068.709 3131.291
## 
## $out
##  [1] 1035 1580 1440  750 1030 1098 1240  785  440  810  540 1075 1505 1040  830
## [16] 1270  580  920  900  814 1195  915 1280  570 1050  765 1195  930 1160 1240
## [31]  850 1200 1550 4735 4950 4535 4670 1425 4660 4795  890 1110  700  670 1360
## [46] 1120  630  955  770 1160 1232  980 1240 1590  650  630  750  980  720 1110
## [61]  920 1105  995 1170 1465 1400 1440 1245 1545 4620</code></pre>
<ul>
<li>$stats = é o resumo dos 5 números: mínimo, percentil 25, mediana, percentil 75 e máximo</li>
<li>$n = nº de obs;</li>
<li>$conf = limite inf/sup do entalhe se houver;</li>
<li>$out = são os <em>outliers</em></li>
</ul>
<p><strong>Múltiplos boxplots</strong></p>
<p>Os boxplots são muito usados na comparação de grupos. A necessidade mais comum é ordenar as categorias de acordo com o aumento da mediana, mas isto é opcional. Permite identificar rapidamente qual grupo tem o maior valor e como as categorias são classificadas (Figura <a href="descrevendo-os-dados.html#fig:bxpm">6.21</a>).</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb330-1"><a href="descrevendo-os-dados.html#cb330-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span> (mater<span class="sc">$</span>pesoRN <span class="sc">~</span> mater<span class="sc">$</span>sexo, </span>
<span id="cb330-2"><a href="descrevendo-os-dados.html#cb330-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;lightblue2&quot;</span>, <span class="st">&quot;pink&quot;</span>), </span>
<span id="cb330-3"><a href="descrevendo-os-dados.html#cb330-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylab =</span> <span class="st">&quot;Peso do Recém-nascido (g)&quot;</span>, </span>
<span id="cb330-4"><a href="descrevendo-os-dados.html#cb330-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">xlab =</span> <span class="st">&quot;Sexo&quot;</span>,</span>
<span id="cb330-5"><a href="descrevendo-os-dados.html#cb330-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1000</span>, <span class="dv">5000</span>),</span>
<span id="cb330-6"><a href="descrevendo-os-dados.html#cb330-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">border =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb330-7"><a href="descrevendo-os-dados.html#cb330-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.lab =</span> <span class="dv">1</span>, </span>
<span id="cb330-8"><a href="descrevendo-os-dados.html#cb330-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb330-9"><a href="descrevendo-os-dados.html#cb330-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb330-10"><a href="descrevendo-os-dados.html#cb330-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">las =</span> <span class="dv">1</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:bxpm"></span>
<img src="bookdownproj_files/figure-html/bxpm-1.png" alt="Múltiplos boxplots" width="80%" height="80%" />
<p class="caption">
Figure 6.21: Múltiplos boxplots
</p>
</div>
<p>Pode-se fazer um entalhe (<em>notch</em>) que podem ser interpretados como um intervalo de comparação em torno dos valores medianos (Figura <a href="descrevendo-os-dados.html#fig:bxpnotch">6.22</a>). É calculado pela fórmula :<span class="math inline">\(mediana \pm 1.57\times IIQ/\sqrt{n}\)</span>. No nosso exemplo, observe que o entalhe nos meninos está um pouco acima do das meninas..</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="descrevendo-os-dados.html#cb331-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span> (mater<span class="sc">$</span>pesoRN <span class="sc">~</span> mater<span class="sc">$</span>sexo, </span>
<span id="cb331-2"><a href="descrevendo-os-dados.html#cb331-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;lightblue2&quot;</span>, <span class="st">&quot;pink&quot;</span>), </span>
<span id="cb331-3"><a href="descrevendo-os-dados.html#cb331-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylab =</span> <span class="st">&quot;Peso do Recém-nascido (g)&quot;</span>, </span>
<span id="cb331-4"><a href="descrevendo-os-dados.html#cb331-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">xlab =</span> <span class="st">&quot;Sexo&quot;</span>,</span>
<span id="cb331-5"><a href="descrevendo-os-dados.html#cb331-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1000</span>, <span class="dv">5000</span>),</span>
<span id="cb331-6"><a href="descrevendo-os-dados.html#cb331-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">border =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb331-7"><a href="descrevendo-os-dados.html#cb331-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.lab =</span> <span class="dv">1</span>, </span>
<span id="cb331-8"><a href="descrevendo-os-dados.html#cb331-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb331-9"><a href="descrevendo-os-dados.html#cb331-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb331-10"><a href="descrevendo-os-dados.html#cb331-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb331-11"><a href="descrevendo-os-dados.html#cb331-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">notch =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:bxpnotch"></span>
<img src="bookdownproj_files/figure-html/bxpnotch-1.png" alt="Boxplots com entalhes" width="80%" height="80%" />
<p class="caption">
Figure 6.22: Boxplots com entalhes
</p>
</div>
<p><strong>Boxplots com <code>stripcharts</code></strong></p>
<p>A função <code>stripcharts()</code> permite criar um gráfico de dispersão unidimensional sobre o boxplot (Figura <a href="descrevendo-os-dados.html#fig:stripcharts">6.23</a>). Você também pode personalizar o símbolo (pontos) para criar o gráfico, a largura da linha e sua cor com os argumentos <code>pch</code>, <code>lwd</code> e <code>col</code>, respectivamente. Alguns símbolos, como <code>pch = 21 a 25</code> permitem que você modifique a cor de fundo do símbolo com o argumento <code>bg</code>. O argumento <code>vertical = TRUE</code>, coloca os pontos na vertical sobreposto ao boxplot, quando o argumento <code>add = TRUE</code>. O argumento <code>cex = 0.3</code> é o tamanho dos pontos e <code>method = "jitter"</code>, espalha os pontos.</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb332-1"><a href="descrevendo-os-dados.html#cb332-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span> (mater<span class="sc">$</span>pesoRN <span class="sc">~</span> mater<span class="sc">$</span>sexo, </span>
<span id="cb332-2"><a href="descrevendo-os-dados.html#cb332-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;lightblue2&quot;</span>, <span class="st">&quot;pink&quot;</span>), </span>
<span id="cb332-3"><a href="descrevendo-os-dados.html#cb332-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylab =</span> <span class="st">&quot;Peso do Recém-nascido (g)&quot;</span>, </span>
<span id="cb332-4"><a href="descrevendo-os-dados.html#cb332-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">xlab =</span> <span class="st">&quot;Sexo&quot;</span>,</span>
<span id="cb332-5"><a href="descrevendo-os-dados.html#cb332-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">border =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb332-6"><a href="descrevendo-os-dados.html#cb332-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.lab =</span> <span class="dv">1</span>, </span>
<span id="cb332-7"><a href="descrevendo-os-dados.html#cb332-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb332-8"><a href="descrevendo-os-dados.html#cb332-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb332-9"><a href="descrevendo-os-dados.html#cb332-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">pch =</span> <span class="dv">20</span>,</span>
<span id="cb332-10"><a href="descrevendo-os-dados.html#cb332-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex =</span> <span class="fl">0.8</span>,</span>
<span id="cb332-11"><a href="descrevendo-os-dados.html#cb332-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb332-12"><a href="descrevendo-os-dados.html#cb332-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">outline =</span> <span class="cn">TRUE</span>)</span>
<span id="cb332-13"><a href="descrevendo-os-dados.html#cb332-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb332-14"><a href="descrevendo-os-dados.html#cb332-14" aria-hidden="true" tabindex="-1"></a><span class="fu">stripchart</span>(mater<span class="sc">$</span>pesoRN <span class="sc">~</span> mater<span class="sc">$</span>sexo,</span>
<span id="cb332-15"><a href="descrevendo-os-dados.html#cb332-15" aria-hidden="true" tabindex="-1"></a>           <span class="at">method =</span> <span class="st">&quot;jitter&quot;</span>,</span>
<span id="cb332-16"><a href="descrevendo-os-dados.html#cb332-16" aria-hidden="true" tabindex="-1"></a>           <span class="at">main=</span><span class="cn">NULL</span>,</span>
<span id="cb332-17"><a href="descrevendo-os-dados.html#cb332-17" aria-hidden="true" tabindex="-1"></a>           <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>),</span>
<span id="cb332-18"><a href="descrevendo-os-dados.html#cb332-18" aria-hidden="true" tabindex="-1"></a>           <span class="at">vertical=</span><span class="cn">TRUE</span>,</span>
<span id="cb332-19"><a href="descrevendo-os-dados.html#cb332-19" aria-hidden="true" tabindex="-1"></a>           <span class="at">pch=</span><span class="dv">16</span>,</span>
<span id="cb332-20"><a href="descrevendo-os-dados.html#cb332-20" aria-hidden="true" tabindex="-1"></a>           <span class="at">cex =</span> <span class="fl">0.3</span>,</span>
<span id="cb332-21"><a href="descrevendo-os-dados.html#cb332-21" aria-hidden="true" tabindex="-1"></a>           <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:stripcharts"></span>
<img src="bookdownproj_files/figure-html/stripcharts-1.png" alt="Boxplots com dispersão unidimensional" width="80%" height="80%" />
<p class="caption">
Figure 6.23: Boxplots com dispersão unidimensional
</p>
</div>
<p><strong>Boxplots horizontais</strong></p>
<p>Para criar um boxplot horizontal (Figura <a href="descrevendo-os-dados.html#fig:bxph">6.24</a>), usamos o argumento <code>horizontal = TRUE</code> e invertemos os rotulos dos eixos <em>x</em> e <em>y</em>.</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="descrevendo-os-dados.html#cb333-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span> (mater<span class="sc">$</span>pesoRN <span class="sc">~</span> mater<span class="sc">$</span>sexo, </span>
<span id="cb333-2"><a href="descrevendo-os-dados.html#cb333-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;lightblue2&quot;</span>, <span class="st">&quot;pink2&quot;</span>), </span>
<span id="cb333-3"><a href="descrevendo-os-dados.html#cb333-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">xlab =</span> <span class="st">&quot;Peso do Recém-nascido (g)&quot;</span>, </span>
<span id="cb333-4"><a href="descrevendo-os-dados.html#cb333-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylab =</span> <span class="st">&quot;Sexo&quot;</span>,</span>
<span id="cb333-5"><a href="descrevendo-os-dados.html#cb333-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">horizontal =</span> <span class="cn">TRUE</span>,</span>
<span id="cb333-6"><a href="descrevendo-os-dados.html#cb333-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">border =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb333-7"><a href="descrevendo-os-dados.html#cb333-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.lab =</span> <span class="dv">1</span>, </span>
<span id="cb333-8"><a href="descrevendo-os-dados.html#cb333-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.axis =</span> <span class="dv">1</span>, </span>
<span id="cb333-9"><a href="descrevendo-os-dados.html#cb333-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex.names =</span> <span class="dv">1</span>,</span>
<span id="cb333-10"><a href="descrevendo-os-dados.html#cb333-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">pch =</span> <span class="dv">20</span>,</span>
<span id="cb333-11"><a href="descrevendo-os-dados.html#cb333-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">cex =</span> <span class="fl">0.8</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:bxph"></span>
<img src="bookdownproj_files/figure-html/bxph-1.png" alt="Boxplots horizontais" width="80%" height="80%" />
<p class="caption">
Figure 6.24: Boxplots horizontais
</p>
</div>
</div>
<div id="gráfico-de-dispersão" class="section level3 hasAnchor" number="6.4.6">
<h3><span class="header-section-number">6.4.6</span> Gráfico de Dispersão<a href="descrevendo-os-dados.html#gráfico-de-dispersão" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Um gráfico de dispersão (<em>Scatterplot</em>) exibe a relação entre duas variáveis numéricas. Cada ponto representa uma observação. Suas posições nos eixos <em>x</em> (horizontal) e <em>y</em> (vertical) representam os valores das duas variáveis.</p>
<p>O R Base é uma boa opção para construir um gráfico de dispersão, usando a função <code>plot()</code>. Ambas as variáveis numéricas do banco de dados devem ser especificadas nos argumentos <em>x</em> e <em>y</em>.</p>
<p>Será construído um gráfico de dispersão (Figura <a href="descrevendo-os-dados.html#fig:scatter">6.25</a>) do comprimento e o peso dos recém-nascidos a termo. Com o conjunto de dados <code>dadosMater.xlsx</code>, usado até aqui, selecionamos as variáveis <code>compRN</code>, <code>pesoRN</code>, <code>sexo</code> e <code>ig</code>, incluindo apenas os neonatos a termo (37 semanas <span class="math inline">\(\le\)</span> idade gestacional <span class="math inline">\(&lt;\)</span> 42 semanas)</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="descrevendo-os-dados.html#cb334-1" aria-hidden="true" tabindex="-1"></a>mater <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Arquivos/dadosMater.xlsx&quot;</span>) </span>
<span id="cb334-2"><a href="descrevendo-os-dados.html#cb334-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-3"><a href="descrevendo-os-dados.html#cb334-3" aria-hidden="true" tabindex="-1"></a>mater<span class="sc">$</span>sexo <span class="ot">&lt;-</span> <span class="fu">factor</span>(mater<span class="sc">$</span>sexo,</span>
<span id="cb334-4"><a href="descrevendo-os-dados.html#cb334-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;masc&#39;</span>, <span class="st">&#39;fem&#39;</span>))</span>
<span id="cb334-5"><a href="descrevendo-os-dados.html#cb334-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-6"><a href="descrevendo-os-dados.html#cb334-6" aria-hidden="true" tabindex="-1"></a>mater <span class="ot">&lt;-</span> mater <span class="sc">%&gt;%</span> <span class="fu">select</span>(ig, pesoRN, compRN, sexo) <span class="sc">%&gt;%</span> </span>
<span id="cb334-7"><a href="descrevendo-os-dados.html#cb334-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ig <span class="sc">&gt;=</span> <span class="dv">37</span> <span class="sc">&amp;</span> ig <span class="sc">&lt;</span> <span class="dv">42</span>)</span>
<span id="cb334-8"><a href="descrevendo-os-dados.html#cb334-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-9"><a href="descrevendo-os-dados.html#cb334-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span> (<span class="at">x =</span> mater<span class="sc">$</span>compRN,</span>
<span id="cb334-10"><a href="descrevendo-os-dados.html#cb334-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> mater<span class="sc">$</span>pesoRN,</span>
<span id="cb334-11"><a href="descrevendo-os-dados.html#cb334-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">&quot;Peso de Recém-nascido (g)&quot;</span>,</span>
<span id="cb334-12"><a href="descrevendo-os-dados.html#cb334-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">&quot;Comprimento do Recém-nascido (cm)&quot;</span>,</span>
<span id="cb334-13"><a href="descrevendo-os-dados.html#cb334-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.axis =</span> <span class="fl">0.8</span>,</span>
<span id="cb334-14"><a href="descrevendo-os-dados.html#cb334-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">las =</span> <span class="dv">1</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:scatter"></span>
<img src="bookdownproj_files/figure-html/scatter-1.png" alt="Gráfico de dispersão" width="80%" height="80%" />
<p class="caption">
Figure 6.25: Gráfico de dispersão
</p>
</div>
<p>Este mesmo gráfico pode ser obtido, usando uma fórmula <code>y~x</code> e acrescentando o argumento <code>bty = "L"</code> (Figura <a href="descrevendo-os-dados.html#fig:scatter1">6.26</a>). Este argumento permite personalizar a caixa ao redor do gráfico.</p>
<ul>
<li><strong>o</strong>: caixa completa (parâmetro padrão),</li>
<li><strong>n</strong>: sem caixa</li>
<li><strong>7</strong>: superior + direita</li>
<li><strong>L</strong>: inferior + esquerda</li>
<li><strong>C</strong>: superior + esquerda + inferior</li>
<li><strong>U</strong>: esquerda + inferior + direita</li>
</ul>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="descrevendo-os-dados.html#cb335-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span> (pesoRN <span class="sc">~</span> compRN,</span>
<span id="cb335-2"><a href="descrevendo-os-dados.html#cb335-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> mater,</span>
<span id="cb335-3"><a href="descrevendo-os-dados.html#cb335-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">&quot;Peso de Recém-nascido (g)&quot;</span>,</span>
<span id="cb335-4"><a href="descrevendo-os-dados.html#cb335-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">&quot;Comprimento do Recém-nascido (cm)&quot;</span>,</span>
<span id="cb335-5"><a href="descrevendo-os-dados.html#cb335-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.axis =</span> <span class="fl">0.8</span>,</span>
<span id="cb335-6"><a href="descrevendo-os-dados.html#cb335-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb335-7"><a href="descrevendo-os-dados.html#cb335-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">bty =</span> <span class="st">&quot;L&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:scatter1"></span>
<img src="bookdownproj_files/figure-html/scatter1-1.png" alt="Gráfico de dispersão" width="80%" height="80%" />
<p class="caption">
Figure 6.26: Gráfico de dispersão
</p>
</div>
<p>Como em qualquer outro gráfico, este também pode ser melhorado em seu aspecto, tornando os pontos sólidos e coloridos. O argumento <code>pch</code> estabelece o tipo de pontos (Figura <a href="descrevendo-os-dados.html#fig:pch">6.27</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:pch"></span>
<img src="https://i.imgur.com/8VWZSGk.png" alt="Argumento pch" width="65%" />
<p class="caption">
Figure 6.27: Argumento pch
</p>
</div>
<p>Além disso, como os pontos estão aglomerados, devido a quantidade, é possível tentar espalhá-los, usando a função <code>jitter()</code> na variável <code>compRN</code> (Figura <a href="descrevendo-os-dados.html#fig:jitter">6.28</a>). O argumento 10 é variável e significa o grau de espalhamento:</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="descrevendo-os-dados.html#cb336-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span> (<span class="fu">jitter</span>(mater<span class="sc">$</span>compRN,<span class="dv">10</span>),</span>
<span id="cb336-2"><a href="descrevendo-os-dados.html#cb336-2" aria-hidden="true" tabindex="-1"></a>      mater<span class="sc">$</span>pesoRN,</span>
<span id="cb336-3"><a href="descrevendo-os-dados.html#cb336-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> <span class="st">&quot;steelblue&quot;</span>,</span>
<span id="cb336-4"><a href="descrevendo-os-dados.html#cb336-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">&quot;Peso de Recém-nascido (g)&quot;</span>,</span>
<span id="cb336-5"><a href="descrevendo-os-dados.html#cb336-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">&quot;Comprimento do Recém-nascido (cm)&quot;</span>,</span>
<span id="cb336-6"><a href="descrevendo-os-dados.html#cb336-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb336-7"><a href="descrevendo-os-dados.html#cb336-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">bty =</span> <span class="st">&quot;L&quot;</span>,</span>
<span id="cb336-8"><a href="descrevendo-os-dados.html#cb336-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb336-9"><a href="descrevendo-os-dados.html#cb336-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex =</span> <span class="dv">1</span>,</span>
<span id="cb336-10"><a href="descrevendo-os-dados.html#cb336-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.lab =</span> <span class="fl">1.1</span>,</span>
<span id="cb336-11"><a href="descrevendo-os-dados.html#cb336-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.axis =</span> <span class="fl">0.8</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:jitter"></span>
<img src="bookdownproj_files/figure-html/jitter-1.png" alt="Gráfico de dispersão com *jitter*" width="80%" height="80%" />
<p class="caption">
Figure 6.28: Gráfico de dispersão com <em>jitter</em>
</p>
</div>
<p><strong>Mapeamento dos pontos de acordo com uma variável categórica</strong></p>
<p>Inicialmente, será criado um vetor para representar as cores, de acordo com o sexo (meninos = azul; meninas = vermelho). Usa-se a função <code>unclass()</code> para discriminar os sexos (Figura <a href="descrevendo-os-dados.html#fig:map">6.29</a>). Acrescenta-se uma legenda para ilustrar a separação.</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="descrevendo-os-dados.html#cb337-1" aria-hidden="true" tabindex="-1"></a>cores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;dodgerblue3&quot;</span>, <span class="st">&quot;tomato&quot;</span>)</span>
<span id="cb337-2"><a href="descrevendo-os-dados.html#cb337-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-3"><a href="descrevendo-os-dados.html#cb337-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> <span class="fu">jitter</span>(mater<span class="sc">$</span>compRN, <span class="dv">10</span>), </span>
<span id="cb337-4"><a href="descrevendo-os-dados.html#cb337-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> mater<span class="sc">$</span>pesoRN,</span>
<span id="cb337-5"><a href="descrevendo-os-dados.html#cb337-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">bg =</span> cores[<span class="fu">unclass</span>(mater<span class="sc">$</span>sexo)],</span>
<span id="cb337-6"><a href="descrevendo-os-dados.html#cb337-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab =</span> <span class="st">&quot;Peso de Recém-nascido (g)&quot;</span>,</span>
<span id="cb337-7"><a href="descrevendo-os-dados.html#cb337-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">&quot;Comprimento do Recém-nascido (cm)&quot;</span>,</span>
<span id="cb337-8"><a href="descrevendo-os-dados.html#cb337-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb337-9"><a href="descrevendo-os-dados.html#cb337-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">bty =</span> <span class="st">&quot;L&quot;</span>,</span>
<span id="cb337-10"><a href="descrevendo-os-dados.html#cb337-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex =</span> <span class="fl">1.5</span>,</span>
<span id="cb337-11"><a href="descrevendo-os-dados.html#cb337-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch=</span><span class="dv">21</span>,</span>
<span id="cb337-12"><a href="descrevendo-os-dados.html#cb337-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex.lab =</span> <span class="dv">1</span>,</span>
<span id="cb337-13"><a href="descrevendo-os-dados.html#cb337-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex.axis =</span> <span class="fl">0.8</span>)</span>
<span id="cb337-14"><a href="descrevendo-os-dados.html#cb337-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-15"><a href="descrevendo-os-dados.html#cb337-15" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span> (<span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;Meninos&quot;</span>, <span class="st">&quot;Meninas&quot;</span>), </span>
<span id="cb337-16"><a href="descrevendo-os-dados.html#cb337-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> cores, </span>
<span id="cb337-17"><a href="descrevendo-os-dados.html#cb337-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">bty=</span><span class="st">&quot;n&quot;</span>, </span>
<span id="cb337-18"><a href="descrevendo-os-dados.html#cb337-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex =</span> <span class="dv">1</span>,</span>
<span id="cb337-19"><a href="descrevendo-os-dados.html#cb337-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;topleft&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:map"></span>
<img src="bookdownproj_files/figure-html/map-1.png" alt="Mapeamento dos pontos de acordo com uma variável categórica" width="80%" height="80%" />
<p class="caption">
Figure 6.29: Mapeamento dos pontos de acordo com uma variável categórica
</p>
</div>
<p><strong>Adição da reta de ajuste</strong></p>
<p>Uma linha reta de ajuste dos dados (Figura <a href="descrevendo-os-dados.html#fig:reta">6.30</a>) pode ser acrescentada usando a função <code>abline ()</code>, associada a função <code>lm ()</code>. Um modelo típico lm (<em>linear model</em>) tem o formato <em>resposta (</em>y<em>) ~ preditor (</em>x<em>)</em>. Mais detalhes sobre o modelo de ajuste linear na regressão linear.</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="descrevendo-os-dados.html#cb338-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Construção do gráfico de dispersão</span></span>
<span id="cb338-2"><a href="descrevendo-os-dados.html#cb338-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span> (<span class="fu">jitter</span>(mater<span class="sc">$</span>compRN,<span class="dv">10</span>),</span>
<span id="cb338-3"><a href="descrevendo-os-dados.html#cb338-3" aria-hidden="true" tabindex="-1"></a>      mater<span class="sc">$</span>pesoRN,</span>
<span id="cb338-4"><a href="descrevendo-os-dados.html#cb338-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> <span class="st">&quot;gray40&quot;</span>,</span>
<span id="cb338-5"><a href="descrevendo-os-dados.html#cb338-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">bg =</span> <span class="st">&quot;darkturquoise&quot;</span>,</span>
<span id="cb338-6"><a href="descrevendo-os-dados.html#cb338-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">&quot;Peso de Recém-nascido (g)&quot;</span>,</span>
<span id="cb338-7"><a href="descrevendo-os-dados.html#cb338-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">&quot;Comprimento do Recém-nascido (cm)&quot;</span>,</span>
<span id="cb338-8"><a href="descrevendo-os-dados.html#cb338-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb338-9"><a href="descrevendo-os-dados.html#cb338-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">bty =</span> <span class="st">&quot;L&quot;</span>,</span>
<span id="cb338-10"><a href="descrevendo-os-dados.html#cb338-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">pch =</span> <span class="dv">21</span>,</span>
<span id="cb338-11"><a href="descrevendo-os-dados.html#cb338-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex =</span> <span class="fl">1.3</span>,</span>
<span id="cb338-12"><a href="descrevendo-os-dados.html#cb338-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.lab =</span> <span class="dv">1</span>,</span>
<span id="cb338-13"><a href="descrevendo-os-dados.html#cb338-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.axis =</span> <span class="fl">0.8</span>)</span>
<span id="cb338-14"><a href="descrevendo-os-dados.html#cb338-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-15"><a href="descrevendo-os-dados.html#cb338-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Criação do modelo de ajuste</span></span>
<span id="cb338-16"><a href="descrevendo-os-dados.html#cb338-16" aria-hidden="true" tabindex="-1"></a>modelo <span class="ot">&lt;-</span> <span class="fu">lm</span> (mater<span class="sc">$</span>pesoRN <span class="sc">~</span> mater<span class="sc">$</span>compRN)</span>
<span id="cb338-17"><a href="descrevendo-os-dados.html#cb338-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-18"><a href="descrevendo-os-dados.html#cb338-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Adição da reta, usando o modelo</span></span>
<span id="cb338-19"><a href="descrevendo-os-dados.html#cb338-19" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span> (modelo, </span>
<span id="cb338-20"><a href="descrevendo-os-dados.html#cb338-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">col=</span><span class="st">&quot;red&quot;</span>, </span>
<span id="cb338-21"><a href="descrevendo-os-dados.html#cb338-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">lwd=</span><span class="dv">2</span>, </span>
<span id="cb338-22"><a href="descrevendo-os-dados.html#cb338-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">lty =</span> <span class="dv">2</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:reta"></span>
<img src="bookdownproj_files/figure-html/reta-1.png" alt="Gráfico de dispersão com reta de ajuste" width="80%" height="80%" />
<p class="caption">
Figure 6.30: Gráfico de dispersão com reta de ajuste
</p>
</div>
<p>Ao executar o modelo, se obtém os parâmetros para a construção da equação da regressão linear:</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="descrevendo-os-dados.html#cb339-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(modelo)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mater$pesoRN ~ mater$compRN)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -1434.56  -218.40   -19.56   177.76  2097.87 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  -3416.451    215.821  -15.83   &lt;2e-16 ***
## mater$compRN   137.674      4.475   30.77   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 337.7 on 1083 degrees of freedom
## Multiple R-squared:  0.4664, Adjusted R-squared:  0.4659 
## F-statistic: 946.6 on 1 and 1083 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>A equação de predição da regressão linear permite que ao conhecer o valor do comprimento é possível prever o peso do recem-nascido:</p>
<p><span class="math display">\[
\hat{y} = b_{0}+ b_{1}\times x
\]</span></p>
<p>Desta forma, substituindo pelos valores contidos nas estimativas da tabela dos coeficientes do sumário do modelo, um bebê com 50 cm terá um peso de aproximadamente:</p>
<p><span class="math display">\[
\hat{y} = -3416.45 + 137.67\times 50 = 3467.05
\]</span></p>
<p>OBSERVAÇÃO: Para maiores detalhes sobre os parâmetros dos gráficos no R, consulte <a href="https://www.statmethods.net/advgraphs/parameters.html"><strong>aqui</strong></a>.</p>
</div>
</div>
<div id="introdução-ao-ggplot2" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Introdução ao <code>ggplot2</code><a href="descrevendo-os-dados.html#introdução-ao-ggplot2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>O R tem vários sistemas para fazer gráficos e, na ,maioria das vezes, eles são suficientes. Entretanto, o surgimento do <code>ggplot2</code> <span class="citation">(79)</span> trouxe a possibilidade de serem construídos gráficos mais elegantes e versáteis. Além disso, torna o processo mais rápido, baseado uma sofisticada gramática <span class="citation">(80)</span>.</p>
<p>O gráfico é construído, usando função <code>ggplot()</code>, a partir de alguns elementos básicos:</p>
<ul>
<li><strong>Dados</strong>: os dados brutos que você deseja representar graficamente.</li>
<li><strong>Geometria</strong> <code>geoms</code>: As formas geométricas que irão representar os dados.</li>
<li><strong>Estética</strong> <code>aes</code>: Estética dos objetos geométricos e estatísticos, como posição, cor, tamanho, forma e transparência</li>
<li><strong>Escala</strong> <code>scales</code>: Mapas entre os dados e as dimensões estéticas, como intervalo de dados para plotar largura ou valores de fator para cores.</li>
<li><strong>Transformações estatísticas</strong> <code>stats</code>: resumos estatísticos dos dados, como quantis, curvas ajustadas e somas.</li>
<li><strong>Sistemas de coordenadas</strong> <code>coordinates Systems</code>: A transformação usada para mapear coordenadas de dados no plano do retângulo de dados.</li>
<li><strong>Facetas</strong> <code>faceting</code>: A organização dos dados em uma grade de gráficos.</li>
<li><strong>Temas visuais</strong> <code>themes</code>: Os padrões visuais gerais de um gráfico, como plano de fundo, grades, eixos, tipo de letra padrão, tamanhos e cores.</li>
</ul>
<blockquote>
<p><font size=2> O número de elementos pode variar dependendo de como você os agrupa e da pergunta a ser respondida. </font></p>
</blockquote>
<div id="dados" class="section level3 hasAnchor" number="6.5.1">
<h3><span class="header-section-number">6.5.1</span> Dados<a href="descrevendo-os-dados.html#dados" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Antes de trabalahar com os dados, há necessidade de instalar e carregar alguns pacotes. O pacote <code>pacman()</code> <span class="citation">(81)</span> será utilizado pela sua versatilidade em buscar e carregar múltiplos pacotes. Será utilizada a função <code>p_load()</code>, deste pacote:</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="descrevendo-os-dados.html#cb341-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(pacman)){<span class="fu">install.packages</span>(<span class="st">&quot;pacman&quot;</span>)}</span></code></pre></div>
<pre><code>## Carregando pacotes exigidos: pacman</code></pre>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="descrevendo-os-dados.html#cb343-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(readxl, ggplot2, dplyr, knitr, kableExtra, ggpubr, scales, forcats)</span></code></pre></div>
<p>Com os pacotes devidamente ativos, o conjunto de dados <code>dadosMater.xlsx</code>, já bastante conhecido, é carregado:</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="descrevendo-os-dados.html#cb344-1" aria-hidden="true" tabindex="-1"></a>mater <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Arquivos/dadosMater.xlsx&quot;</span>)</span></code></pre></div>
<p>Este banco de dados é bastante extenso e contém muitas variáveis que não serão usadas. Por isso, ele será reduzido, usando a função <code>select ()</code> do pacote <code>dplyr</code>para criar um novo objeto com o nome <code>dados</code>:</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="descrevendo-os-dados.html#cb345-1" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> mater <span class="sc">%&gt;%</span> </span>
<span id="cb345-2"><a href="descrevendo-os-dados.html#cb345-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(idadeMae, anosEst, peso, renda, ig, tipoParto, </span>
<span id="cb345-3"><a href="descrevendo-os-dados.html#cb345-3" aria-hidden="true" tabindex="-1"></a>         fumo, pesoRN, compRN, sexo) <span class="sc">%&gt;%</span> </span>
<span id="cb345-4"><a href="descrevendo-os-dados.html#cb345-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ig <span class="sc">&gt;=</span> <span class="dv">37</span> <span class="sc">&amp;</span> ig <span class="sc">&lt;</span> <span class="dv">42</span>)</span></code></pre></div>
<p>Após este processo, algumas variáveis serão transformadas:</p>
<p><strong>Criação de das variáveis idadeCateg e escolaCateg</strong></p>
<p>A partir da variável <code>idadeMae</code> e usando a função <code>cut()</code> será criada a variável <code>idadeCateg</code>:</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="descrevendo-os-dados.html#cb346-1" aria-hidden="true" tabindex="-1"></a>dados<span class="sc">$</span>idadeCateg <span class="ot">&lt;-</span> <span class="fu">cut</span>(dados<span class="sc">$</span>idadeMae,</span>
<span id="cb346-2"><a href="descrevendo-os-dados.html#cb346-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">13</span>, <span class="dv">20</span>, <span class="dv">36</span>, <span class="dv">46</span>),</span>
<span id="cb346-3"><a href="descrevendo-os-dados.html#cb346-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;&lt;20a&quot;</span>, <span class="st">&quot;20-35a&quot;</span>, <span class="st">&quot;&gt;35a&quot;</span>),</span>
<span id="cb346-4"><a href="descrevendo-os-dados.html#cb346-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">include.lowest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb346-5"><a href="descrevendo-os-dados.html#cb346-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">right =</span> <span class="cn">FALSE</span>,</span>
<span id="cb346-6"><a href="descrevendo-os-dados.html#cb346-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">ordered_result =</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p>A variável <code>escolaCateg</code> será criada da mesma maneira, a partir da variável anosest. Até 9 anos de estudos completos: <em>ensino fundamental</em>; de 10 a 12 anos, o <em>ensino médio</em> e a partir de 13 anos de estudo, o ensino superior.</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="descrevendo-os-dados.html#cb347-1" aria-hidden="true" tabindex="-1"></a>dados<span class="sc">$</span>escolaCateg <span class="ot">&lt;-</span> <span class="fu">cut</span> (dados<span class="sc">$</span>anosEst,</span>
<span id="cb347-2"><a href="descrevendo-os-dados.html#cb347-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">breaks=</span> <span class="fu">c</span> (<span class="dv">0</span>,<span class="dv">10</span>,<span class="dv">13</span>,<span class="dv">18</span>),</span>
<span id="cb347-3"><a href="descrevendo-os-dados.html#cb347-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">right =</span> <span class="cn">FALSE</span>,</span>
<span id="cb347-4"><a href="descrevendo-os-dados.html#cb347-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Fundamental&quot;</span>,</span>
<span id="cb347-5"><a href="descrevendo-os-dados.html#cb347-5" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">&quot;Médio&quot;</span>,</span>
<span id="cb347-6"><a href="descrevendo-os-dados.html#cb347-6" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">&quot;Superior&quot;</span>),</span>
<span id="cb347-7"><a href="descrevendo-os-dados.html#cb347-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">include.lowest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb347-8"><a href="descrevendo-os-dados.html#cb347-8" aria-hidden="true" tabindex="-1"></a>                          <span class="at">ordered_result =</span><span class="cn">TRUE</span>) </span></code></pre></div>
<p><strong>Transformação de variáveis numéricas em fator</strong></p>
<p>As variáveis numéricas do banco que são categóricas serão modificadas para fatores:</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="descrevendo-os-dados.html#cb348-1" aria-hidden="true" tabindex="-1"></a>dados<span class="sc">$</span>fumo <span class="ot">&lt;-</span> <span class="fu">factor</span> (dados<span class="sc">$</span>fumo,</span>
<span id="cb348-2"><a href="descrevendo-os-dados.html#cb348-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb348-3"><a href="descrevendo-os-dados.html#cb348-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;sim&quot;</span>, <span class="st">&quot;não&quot;</span>))</span>
<span id="cb348-4"><a href="descrevendo-os-dados.html#cb348-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb348-5"><a href="descrevendo-os-dados.html#cb348-5" aria-hidden="true" tabindex="-1"></a>dados<span class="sc">$</span>tipoParto <span class="ot">&lt;-</span> <span class="fu">factor</span> (dados<span class="sc">$</span>tipoParto,</span>
<span id="cb348-6"><a href="descrevendo-os-dados.html#cb348-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb348-7"><a href="descrevendo-os-dados.html#cb348-7" aria-hidden="true" tabindex="-1"></a>                           <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;normal&quot;</span>, <span class="st">&quot;cesareo&quot;</span>))</span>
<span id="cb348-8"><a href="descrevendo-os-dados.html#cb348-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb348-9"><a href="descrevendo-os-dados.html#cb348-9" aria-hidden="true" tabindex="-1"></a>dados<span class="sc">$</span>sexo <span class="ot">&lt;-</span> <span class="fu">factor</span> (dados<span class="sc">$</span>sexo,</span>
<span id="cb348-10"><a href="descrevendo-os-dados.html#cb348-10" aria-hidden="true" tabindex="-1"></a>                      <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb348-11"><a href="descrevendo-os-dados.html#cb348-11" aria-hidden="true" tabindex="-1"></a>                      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;masc&quot;</span>, <span class="st">&quot;fem&quot;</span>))</span></code></pre></div>
<p>Desta forma, os dados tem a seguinte configuração:</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="descrevendo-os-dados.html#cb349-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dados)</span></code></pre></div>
<pre><code>## tibble [1,085 × 12] (S3: tbl_df/tbl/data.frame)
##  $ idadeMae   : num [1:1085] 28 31 27 28 18 28 22 28 25 14 ...
##  $ anosEst    : num [1:1085] 6 5 8 8 7 11 6 5 9 6 ...
##  $ peso       : num [1:1085] 48.5 65 60 47 65.5 72 65 74 70 56.7 ...
##  $ renda      : num [1:1085] 3.13 0.72 2.41 1.69 1.93 1.92 2.65 2.53 0.48 1.92 ...
##  $ ig         : num [1:1085] 37 37 37 38 39 39 39 39 39 39 ...
##  $ tipoParto  : Factor w/ 2 levels &quot;normal&quot;,&quot;cesareo&quot;: 1 2 2 1 1 2 2 1 1 1 ...
##  $ fumo       : Factor w/ 2 levels &quot;sim&quot;,&quot;não&quot;: 2 2 1 2 1 1 2 2 2 2 ...
##  $ pesoRN     : num [1:1085] 3285 3100 3100 2800 3270 ...
##  $ compRN     : num [1:1085] 48.5 47 47 48 49 41.5 50 48 46 50 ...
##  $ sexo       : Factor w/ 2 levels &quot;masc&quot;,&quot;fem&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ idadeCateg : Ord.factor w/ 3 levels &quot;&lt;20a&quot;&lt;&quot;20-35a&quot;&lt;..: 2 2 2 2 1 2 2 2 2 1 ...
##  $ escolaCateg: Ord.factor w/ 3 levels &quot;Fundamental&quot;&lt;..: 1 1 1 1 1 2 1 1 1 1 ...</code></pre>
<p>As variáveis <code>idadeMae</code> e <code>anosEst</code> não são mais necessárias e serão removidas:</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="descrevendo-os-dados.html#cb351-1" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span>dados <span class="sc">%&gt;%</span> </span>
<span id="cb351-2"><a href="descrevendo-os-dados.html#cb351-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>idadeMae, <span class="sc">-</span>anosEst)</span></code></pre></div>
<p>Como forma de treinamento, os dados serão exibidos de uma forma, visualmente, mais elegante e em uma apresentação mais amigável (Tabela <a href="descrevendo-os-dados.html#tab:mater">6.5</a>). A função <code>kable()</code>, do pacote <code>knitr</code>, e a função <code>kable_styling()</code> do pacote <code>kableExtra</code>, já vistas anteriormente, cumprem este papel. A função <code>kable ()</code> pode usar a função <code>head()</code> embutida. Ao executar os códigos serão exibido apenas 10 linhas do banco de dados (se não for especificado, mostra apenas 6 linhas). Isto evita uma poluição visual:</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="descrevendo-os-dados.html#cb352-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(dados, <span class="dv">10</span>),</span>
<span id="cb352-2"><a href="descrevendo-os-dados.html#cb352-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">booktabs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb352-3"><a href="descrevendo-os-dados.html#cb352-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">&quot;Dados do arquivo `dadosMater.xlsx` resumidos&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb352-4"><a href="descrevendo-os-dados.html#cb352-4" aria-hidden="true" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>,</span>
<span id="cb352-5"><a href="descrevendo-os-dados.html#cb352-5" aria-hidden="true" tabindex="-1"></a>                            <span class="at">bootstrap_options =</span> <span class="st">&quot;striped&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb352-6"><a href="descrevendo-os-dados.html#cb352-6" aria-hidden="true" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">&quot;Cambria&quot;</span>)</span></code></pre></div>
<table class="table table-striped lightable-classic" style="width: auto !important; margin-left: auto; margin-right: auto; font-family: Cambria; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:mater">Table 6.5: </span>Dados do arquivo <code>dadosMater.xlsx</code> resumidos
</caption>
<thead>
<tr>
<th style="text-align:right;">
peso
</th>
<th style="text-align:right;">
renda
</th>
<th style="text-align:right;">
ig
</th>
<th style="text-align:left;">
tipoParto
</th>
<th style="text-align:left;">
fumo
</th>
<th style="text-align:right;">
pesoRN
</th>
<th style="text-align:right;">
compRN
</th>
<th style="text-align:left;">
sexo
</th>
<th style="text-align:left;">
idadeCateg
</th>
<th style="text-align:left;">
escolaCateg
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
48.5
</td>
<td style="text-align:right;">
3.13
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:left;">
normal
</td>
<td style="text-align:left;">
não
</td>
<td style="text-align:right;">
3285
</td>
<td style="text-align:right;">
48.5
</td>
<td style="text-align:left;">
masc
</td>
<td style="text-align:left;">
20-35a
</td>
<td style="text-align:left;">
Fundamental
</td>
</tr>
<tr>
<td style="text-align:right;">
65.0
</td>
<td style="text-align:right;">
0.72
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:left;">
cesareo
</td>
<td style="text-align:left;">
não
</td>
<td style="text-align:right;">
3100
</td>
<td style="text-align:right;">
47.0
</td>
<td style="text-align:left;">
masc
</td>
<td style="text-align:left;">
20-35a
</td>
<td style="text-align:left;">
Fundamental
</td>
</tr>
<tr>
<td style="text-align:right;">
60.0
</td>
<td style="text-align:right;">
2.41
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:left;">
cesareo
</td>
<td style="text-align:left;">
sim
</td>
<td style="text-align:right;">
3100
</td>
<td style="text-align:right;">
47.0
</td>
<td style="text-align:left;">
masc
</td>
<td style="text-align:left;">
20-35a
</td>
<td style="text-align:left;">
Fundamental
</td>
</tr>
<tr>
<td style="text-align:right;">
47.0
</td>
<td style="text-align:right;">
1.69
</td>
<td style="text-align:right;">
38
</td>
<td style="text-align:left;">
normal
</td>
<td style="text-align:left;">
não
</td>
<td style="text-align:right;">
2800
</td>
<td style="text-align:right;">
48.0
</td>
<td style="text-align:left;">
masc
</td>
<td style="text-align:left;">
20-35a
</td>
<td style="text-align:left;">
Fundamental
</td>
</tr>
<tr>
<td style="text-align:right;">
65.5
</td>
<td style="text-align:right;">
1.93
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:left;">
normal
</td>
<td style="text-align:left;">
sim
</td>
<td style="text-align:right;">
3270
</td>
<td style="text-align:right;">
49.0
</td>
<td style="text-align:left;">
masc
</td>
<td style="text-align:left;">
&lt;20a
</td>
<td style="text-align:left;">
Fundamental
</td>
</tr>
<tr>
<td style="text-align:right;">
72.0
</td>
<td style="text-align:right;">
1.92
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:left;">
cesareo
</td>
<td style="text-align:left;">
sim
</td>
<td style="text-align:right;">
1440
</td>
<td style="text-align:right;">
41.5
</td>
<td style="text-align:left;">
masc
</td>
<td style="text-align:left;">
20-35a
</td>
<td style="text-align:left;">
Médio
</td>
</tr>
<tr>
<td style="text-align:right;">
65.0
</td>
<td style="text-align:right;">
2.65
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:left;">
cesareo
</td>
<td style="text-align:left;">
não
</td>
<td style="text-align:right;">
3365
</td>
<td style="text-align:right;">
50.0
</td>
<td style="text-align:left;">
masc
</td>
<td style="text-align:left;">
20-35a
</td>
<td style="text-align:left;">
Fundamental
</td>
</tr>
<tr>
<td style="text-align:right;">
74.0
</td>
<td style="text-align:right;">
2.53
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:left;">
normal
</td>
<td style="text-align:left;">
não
</td>
<td style="text-align:right;">
3650
</td>
<td style="text-align:right;">
48.0
</td>
<td style="text-align:left;">
masc
</td>
<td style="text-align:left;">
20-35a
</td>
<td style="text-align:left;">
Fundamental
</td>
</tr>
<tr>
<td style="text-align:right;">
70.0
</td>
<td style="text-align:right;">
0.48
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:left;">
normal
</td>
<td style="text-align:left;">
não
</td>
<td style="text-align:right;">
2605
</td>
<td style="text-align:right;">
46.0
</td>
<td style="text-align:left;">
masc
</td>
<td style="text-align:left;">
20-35a
</td>
<td style="text-align:left;">
Fundamental
</td>
</tr>
<tr>
<td style="text-align:right;">
56.7
</td>
<td style="text-align:right;">
1.92
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:left;">
normal
</td>
<td style="text-align:left;">
não
</td>
<td style="text-align:right;">
3200
</td>
<td style="text-align:right;">
50.0
</td>
<td style="text-align:left;">
masc
</td>
<td style="text-align:left;">
&lt;20a
</td>
<td style="text-align:left;">
Fundamental
</td>
</tr>
</tbody>
</table>
<p>O argumento <code>full_width =FALSE</code>, reduz a largura da tabela e a <code>boostrap_options =</code> admite vários opções além da <code>basic</code>, isoladas ou combinadas:</p>
<ul>
<li><em>striped</em>: adiciona listras zebradas à tabela;</li>
<li><em>hover</em>: adiciona cor de fundo cinza nas linhas da tabela;</li>
<li><em>condensed</em>: torna a tabela mais compacta;</li>
<li><em>responsive</em>: faz rolagem horizontal quando há menos de 768 px (20,32 cm)</li>
</ul>
</div>
<div id="ggplot" class="section level3 hasAnchor" number="6.5.2">
<h3><span class="header-section-number">6.5.2</span> <code>ggplot</code><a href="descrevendo-os-dados.html#ggplot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A sintaxe do <code>ggplot2</code> é diferente do R básico. De acordo com os elementos básicos, um <code>ggplot</code> padrão precisa de três informações que devem ser especificadas: os <em>dados</em>, a <em>estética</em> e a <em>geometria</em>. Essas são as camadas principais.<br />
Vamos construir um <code>ggplot</code> padrão (Figura <a href="descrevendo-os-dados.html#fig:padrao">6.31</a>) que será recebido por um objeto <code>g</code>, usando <code>data = dados</code> e a estética (<code>aes</code>) usará, no eixo <em>x</em>, a variável <code>compRN</code> e, no eixo <em>y</em>, a variável <code>pesoRN</code>.</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="descrevendo-os-dados.html#cb353-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">ggplot</span> (<span class="at">data =</span> dados, <span class="fu">aes</span> (<span class="at">x =</span> compRN, <span class="at">y =</span> pesoRN))</span>
<span id="cb353-2"><a href="descrevendo-os-dados.html#cb353-2" aria-hidden="true" tabindex="-1"></a>g</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:padrao"></span>
<img src="bookdownproj_files/figure-html/padrao-1.png" alt="Gráfico ggplot padrão" width="80%" height="80%" />
<p class="caption">
Figure 6.31: Gráfico ggplot padrão
</p>
</div>
<p>A este gráfico básico “vazio” adiciona-se uma camada que especifique o tipo de gemometria desejada (Figura <a href="descrevendo-os-dados.html#fig:layer1">6.32</a>). Será utilizada a <code>geom_point()</code> que retorna um gráfico de dispersão.</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="descrevendo-os-dados.html#cb354-1" aria-hidden="true" tabindex="-1"></a>g <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:layer1"></span>
<img src="bookdownproj_files/figure-html/layer1-1.png" alt="Gráfico de dipersão" width="80%" height="80%" />
<p class="caption">
Figure 6.32: Gráfico de dipersão
</p>
</div>
<p>A estética (<code>aes</code>) pode ser definida tanto na camada <code>ggplot</code> como na <code>geom</code>. Especificando no <code>ggplot</code>, esta <code>aes</code> será usada em todos os geoms usados. Usando no <code>geom</code>, servirá apenas para ele. No exemplo. é indiferente o local de uso da <code>aes</code>, o resultado será o mesmo, pois temos apenas um <code>geom</code>.</p>
</div>
<div id="tipos-de-geoms" class="section level3 hasAnchor" number="6.5.3">
<h3><span class="header-section-number">6.5.3</span> Tipos de <code>geoms</code><a href="descrevendo-os-dados.html#tipos-de-geoms" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Encontra-se uma grande possibilidade de geometrias, de acordo com o tipo de gráfico que será plotado. Elas podem ser visualizadas <a href="https://ggplot2.tidyverse.org/reference/"><strong>aqui</strong></a>. Por exemplo:</p>
<p><strong>Histograma</strong></p>
<p>Para a construção de um histograma, usaremos a variável <code>pesoRN</code> e o <code>geom_histogram()</code>. Aqui, há necessidade apenas do eixo <em>x</em>, pois existe uma única variável onde se observa a sua distribuição (Figura <a href="descrevendo-os-dados.html#fig:gghist">6.33</a>):</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="descrevendo-os-dados.html#cb355-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span></span>
<span id="cb355-2"><a href="descrevendo-os-dados.html#cb355-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> pesoRN))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:gghist"></span>
<img src="bookdownproj_files/figure-html/gghist-1.png" alt="Histograma no 'ggplot2'" width="80%" height="80%" />
<p class="caption">
Figure 6.33: Histograma no ‘ggplot2’
</p>
</div>
<p><strong>Gráfico de barras</strong></p>
<p>Sera construído um gráfico de barras (Figura <a href="descrevendo-os-dados.html#fig:ggbar">6.34</a>) da variável <code>idadeCateg</code>, usando o <code>geom_bar()</code>.</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="descrevendo-os-dados.html#cb356-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span></span>
<span id="cb356-2"><a href="descrevendo-os-dados.html#cb356-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> idadeCateg, <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count))))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ggbar"></span>
<img src="bookdownproj_files/figure-html/ggbar-1.png" alt="Gráfico de barras no 'ggplot2'" width="80%" height="80%" />
<p class="caption">
Figure 6.34: Gráfico de barras no ‘ggplot2’
</p>
</div>
<p><strong>Boxplot</strong></p>
<p>Com o <code>geom_boxplot()</code>, serão construídos boxplots (Figura <a href="descrevendo-os-dados.html#fig:ggbxp">6.35</a>) comparando os pesos dos neonatos por sexo..</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="descrevendo-os-dados.html#cb357-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span></span>
<span id="cb357-2"><a href="descrevendo-os-dados.html#cb357-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sexo, <span class="at">y =</span> pesoRN))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ggbxp"></span>
<img src="bookdownproj_files/figure-html/ggbxp-1.png" alt="Boxplot no 'ggplot2'" width="80%" height="80%" />
<p class="caption">
Figure 6.35: Boxplot no ‘ggplot2’
</p>
</div>
<p><strong>Gráfico de linhas</strong></p>
<p>Para obter os dados clique <a href="https://github.com/petronioliveira/Arquivos/blob/main/dadosObitos.xlsx"><strong>aqui</strong></a> e baixar para o seu diretório de trabalho o arquivo <code>dadosObitos.xlsx</code>. Este conjunto de dados é constituído pelos óbitos por COVID-19 no Rio Grande do Sul, 2020-2022.</p>
<p>Crie o objeto <code>obitos</code> para receber o banco de dados, a partir do diretório de trabalho.</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="descrevendo-os-dados.html#cb358-1" aria-hidden="true" tabindex="-1"></a>obitos <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Arquivos/dadosObitos.xlsx&quot;</span>)</span>
<span id="cb358-2"><a href="descrevendo-os-dados.html#cb358-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(obitos)</span></code></pre></div>
<pre><code>## tibble [25 × 2] (S3: tbl_df/tbl/data.frame)
##  $ data  : POSIXct[1:25], format: &quot;2020-03-01&quot; &quot;2020-04-01&quot; ...
##  $ obitos: num [1:25] 4 60 182 440 1391 ...</code></pre>
<p>Para a construção do gráfico de linha (Figura @ref{fig:ggline)), será usado o <code>geom_line()</code>.</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="descrevendo-os-dados.html#cb360-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> obitos) <span class="sc">+</span></span>
<span id="cb360-2"><a href="descrevendo-os-dados.html#cb360-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> data, <span class="at">y =</span> obitos))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ggline"></span>
<img src="bookdownproj_files/figure-html/ggline-1.png" alt="Gráfico de linha no 'ggplot2'" width="80%" height="80%" />
<p class="caption">
Figure 6.36: Gráfico de linha no ‘ggplot2’
</p>
</div>
</div>
<div id="modificando-argumentos-do-geom" class="section level3 hasAnchor" number="6.5.4">
<h3><span class="header-section-number">6.5.4</span> Modificando argumentos do <code>geom</code><a href="descrevendo-os-dados.html#modificando-argumentos-do-geom" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Agora, serão modificados alguns argumentos no <code>geom</code>. Cada tipo de <code>geom</code> possibilita alterações específicas.</p>
<p>Inicialmente, serão realizadas modificações no gráfico de dispersão, construído acima com o <code>geom_point</code>, modificando a cor, de acordo com o sexo do recém-nascido (Figura <a href="descrevendo-os-dados.html#fig:point">6.37</a>):</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="descrevendo-os-dados.html#cb361-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span></span>
<span id="cb361-2"><a href="descrevendo-os-dados.html#cb361-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> compRN, <span class="at">y =</span> pesoRN, </span>
<span id="cb361-3"><a href="descrevendo-os-dados.html#cb361-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color =</span> sexo))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:point"></span>
<img src="bookdownproj_files/figure-html/point-1.png" alt="Gráfico de dispersão modificado com cores de acordo com o sexo" width="80%" height="80%" />
<p class="caption">
Figure 6.37: Gráfico de dispersão modificado com cores de acordo com o sexo
</p>
</div>
<p>Como o argumento cor foi colocado dentro da <code>aes</code>, ele será definido por uma variável, no caso <code>sexo</code>. Neste caso, cada um dos sexos serão representados por pontos coloridos diferentes. A escolha da cor foi automática pelo <code>ggplot2</code> entregando duas cores conforme o padrão da sua paleta.</p>
<p>O tamanho dos pontos pode ser alterado com o argumento <code>size</code> (Figura <a href="descrevendo-os-dados.html#fig:point2">6.38</a>).</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="descrevendo-os-dados.html#cb362-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span></span>
<span id="cb362-2"><a href="descrevendo-os-dados.html#cb362-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> compRN, <span class="at">y =</span> pesoRN, </span>
<span id="cb362-3"><a href="descrevendo-os-dados.html#cb362-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color =</span> sexo,</span>
<span id="cb362-4"><a href="descrevendo-os-dados.html#cb362-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">size =</span> sexo))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:point2"></span>
<img src="bookdownproj_files/figure-html/point2-1.png" alt="Gráfico de dispersão com cores e tamanhos diferentes dos pontos, de acordo com o sexo" width="80%" height="80%" />
<p class="caption">
Figure 6.38: Gráfico de dispersão com cores e tamanhos diferentes dos pontos, de acordo com o sexo
</p>
</div>
<p>Ficou meio bagunçado, pois os pontos se sobrepõem e dificulta a visualização e inclusive o R libera um aviso informando que isto não é recomendado.</p>
<p>O formato pode ser modificado com o argumento <code>shape</code>(Figura <a href="descrevendo-os-dados.html#fig:point3">6.39</a>):</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="descrevendo-os-dados.html#cb363-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span></span>
<span id="cb363-2"><a href="descrevendo-os-dados.html#cb363-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> compRN, <span class="at">y =</span> pesoRN, </span>
<span id="cb363-3"><a href="descrevendo-os-dados.html#cb363-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color =</span> sexo,</span>
<span id="cb363-4"><a href="descrevendo-os-dados.html#cb363-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">shape =</span> sexo,</span>
<span id="cb363-5"><a href="descrevendo-os-dados.html#cb363-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">size =</span> sexo))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:point3"></span>
<img src="bookdownproj_files/figure-html/point3-1.png" alt="Gráfico de dispersão com formatos dos pontos diferentes, de acordo sexo" width="80%" height="80%" />
<p class="caption">
Figure 6.39: Gráfico de dispersão com formatos dos pontos diferentes, de acordo sexo
</p>
</div>
<p>Agora, ficou muito pior! Não teria, logicamente, muito sentido modificar tudo ao mesmo tempo, com a mesma variável. Foi realizado, aqui, apenas para mostrar a possibilidade do <code>ggplot2</code>.</p>
<p>Estes argumentos foram modificados dentro da estética (<code>aes</code>), usando o nome da variável. Entretanto, também é possível colocar os argumentos fora da <code>aes</code>. Nesta situação (Figura <a href="descrevendo-os-dados.html#fig:point4">6.40</a>), colocando a cor fora da <code>aes</code>, há necessidade de escolher uma determinada cor para os pontos.</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="descrevendo-os-dados.html#cb364-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span></span>
<span id="cb364-2"><a href="descrevendo-os-dados.html#cb364-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> compRN, </span>
<span id="cb364-3"><a href="descrevendo-os-dados.html#cb364-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> pesoRN,</span>
<span id="cb364-4"><a href="descrevendo-os-dados.html#cb364-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">shape =</span> sexo),</span>
<span id="cb364-5"><a href="descrevendo-os-dados.html#cb364-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">&quot;steelblue&quot;</span>,</span>
<span id="cb364-6"><a href="descrevendo-os-dados.html#cb364-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:point4"></span>
<img src="bookdownproj_files/figure-html/point4-1.png" alt="Gráfico de dispersão com alteração do formato" width="80%" height="80%" />
<p class="caption">
Figure 6.40: Gráfico de dispersão com alteração do formato
</p>
</div>
<p>O formato (<code>shape</code>) pode ser colocado fora do <code>aes</code> (Figura <a href="descrevendo-os-dados.html#fig:point6">6.41</a>) e <a href="http://www.sthda.com/english/wiki/ggplot2-point-shapes"><strong>aqui</strong></a> se encontram vários formatos que podem ser usados no <code>ggplot2</code>També é possível observar os diferentes formatos (<code>shape</code>), usando o seguinte comando, encontrado no pacote <code>ggpubr</code>:</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="descrevendo-os-dados.html#cb365-1" aria-hidden="true" tabindex="-1"></a>ggpubr<span class="sc">::</span><span class="fu">show_point_shapes</span>()</span></code></pre></div>
<pre><code>## Scale for y is already present.
## Adding another scale for y, which will replace the existing scale.</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-149-1.png" width="672" /></p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="descrevendo-os-dados.html#cb367-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span></span>
<span id="cb367-2"><a href="descrevendo-os-dados.html#cb367-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> compRN, </span>
<span id="cb367-3"><a href="descrevendo-os-dados.html#cb367-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> pesoRN),</span>
<span id="cb367-4"><a href="descrevendo-os-dados.html#cb367-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">&quot;tomato&quot;</span>,</span>
<span id="cb367-5"><a href="descrevendo-os-dados.html#cb367-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">2</span>,</span>
<span id="cb367-6"><a href="descrevendo-os-dados.html#cb367-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">shape =</span> <span class="dv">25</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:point6"></span>
<img src="bookdownproj_files/figure-html/point6-1.png" alt="Gráfico de dispersão por sexo com alteração do argumento `color` e `shape`" width="80%" height="80%" />
<p class="caption">
Figure 6.41: Gráfico de dispersão por sexo com alteração do argumento <code>color</code> e <code>shape</code>
</p>
</div>
</div>
<div id="reta-de-ajuste-em-um-gráfico-de-dispersão" class="section level3 hasAnchor" number="6.5.5">
<h3><span class="header-section-number">6.5.5</span> Reta de ajuste em um gráfico de dispersão<a href="descrevendo-os-dados.html#reta-de-ajuste-em-um-gráfico-de-dispersão" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Acrescenta-se uma nova camada , chamada <code>geom_smoot</code>, além da <code>geom_point</code>. Os argumentos são o <code>method = "lm"</code>que irá ajustar uma reta aos pontos. Também é possível colocar um intervalo de mais ou menos um erro padrão para a reta com o argumento<code>se = TRUE</code>. No exemplo (Figura <a href="descrevendo-os-dados.html#fig:point7">6.42</a>), foi usado <code>se = FALSE</code>. Além disso, foi solicitado que cor da reta seja preta (<code>color = "black"</code>), reduzido o seu tamanho (<code>size = 0.5</code>) e estabelecido que a reta seja tracejada (<code>linetype = "dashed"</code>) <a href="#fn10" class="footnote-ref" id="fnref10"><sup>10</sup></a>:</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="descrevendo-os-dados.html#cb368-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados, <span class="fu">aes</span>(<span class="at">x =</span> compRN, <span class="at">y =</span> pesoRN)) <span class="sc">+</span> </span>
<span id="cb368-2"><a href="descrevendo-os-dados.html#cb368-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;tomato&quot;</span>, </span>
<span id="cb368-3"><a href="descrevendo-os-dados.html#cb368-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb368-4"><a href="descrevendo-os-dados.html#cb368-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, </span>
<span id="cb368-5"><a href="descrevendo-os-dados.html#cb368-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>, </span>
<span id="cb368-6"><a href="descrevendo-os-dados.html#cb368-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, </span>
<span id="cb368-7"><a href="descrevendo-os-dados.html#cb368-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">linewidth =</span> <span class="fl">0.5</span>,</span>
<span id="cb368-8"><a href="descrevendo-os-dados.html#cb368-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:point7"></span>
<img src="bookdownproj_files/figure-html/point7-1.png" alt="Gráfico de dispersão com reta de ajuste" width="80%" height="80%" />
<p class="caption">
Figure 6.42: Gráfico de dispersão com reta de ajuste
</p>
</div>
<p>Quando se usa mais de um <code>geom</code>, é importante a ordem em que eles são escritos, pois, como cada um deles é uma camada, elas se sobrepõem e podem se confundir.</p>
</div>
<div id="filtrando-dados-para-o-gráfico" class="section level3 hasAnchor" number="6.5.6">
<h3><span class="header-section-number">6.5.6</span> Filtrando dados para o gráfico<a href="descrevendo-os-dados.html#filtrando-dados-para-o-gráfico" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Faz-se isso, usando a função <code>filter()</code> do pacote <code>dplyr</code>. Será construído um gráficoigual ao anterior, filtrando apenas o sexo masculino (Figura <a href="descrevendo-os-dados.html#fig:point8">6.43</a>):</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="descrevendo-os-dados.html#cb370-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span> <span class="fu">filter</span> (sexo <span class="sc">==</span> <span class="st">&quot;masc&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb370-2"><a href="descrevendo-os-dados.html#cb370-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> compRN, <span class="at">y =</span> pesoRN)) <span class="sc">+</span> </span>
<span id="cb370-3"><a href="descrevendo-os-dados.html#cb370-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;steelblue&quot;</span>, </span>
<span id="cb370-4"><a href="descrevendo-os-dados.html#cb370-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb370-5"><a href="descrevendo-os-dados.html#cb370-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, </span>
<span id="cb370-6"><a href="descrevendo-os-dados.html#cb370-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>, </span>
<span id="cb370-7"><a href="descrevendo-os-dados.html#cb370-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, </span>
<span id="cb370-8"><a href="descrevendo-os-dados.html#cb370-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb370-9"><a href="descrevendo-os-dados.html#cb370-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
## ℹ Please use `linewidth` instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:point8"></span>
<img src="bookdownproj_files/figure-html/point8-1.png" alt="Gráfico de dispersão com reta de ajuste para o sexo masculino" width="80%" height="80%" />
<p class="caption">
Figure 6.43: Gráfico de dispersão com reta de ajuste para o sexo masculino
</p>
</div>
</div>
<div id="resumo-dos-dados-usando-o-geom" class="section level3 hasAnchor" number="6.5.7">
<h3><span class="header-section-number">6.5.7</span> Resumo dos dados usando o geom<a href="descrevendo-os-dados.html#resumo-dos-dados-usando-o-geom" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Inicialmente, serão usado os argumentos <code>stat = "summary"</code> e <code>fun = "mean"</code> dentro do <code>geom_point()</code> (Figura <a href="descrevendo-os-dados.html#fig:point9">6.44</a>):</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="descrevendo-os-dados.html#cb373-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados, <span class="fu">aes</span>(<span class="at">x =</span> sexo, <span class="at">y =</span> pesoRN, <span class="at">color =</span> sexo)) <span class="sc">+</span></span>
<span id="cb373-2"><a href="descrevendo-os-dados.html#cb373-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">stat =</span> <span class="st">&quot;summary&quot;</span>,</span>
<span id="cb373-3"><a href="descrevendo-os-dados.html#cb373-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">fun =</span> <span class="st">&quot;mean&quot;</span>,</span>
<span id="cb373-4"><a href="descrevendo-os-dados.html#cb373-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb373-5"><a href="descrevendo-os-dados.html#cb373-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:point9"></span>
<img src="bookdownproj_files/figure-html/point9-1.png" alt="Gráfico resumo, mostrando as médias por sexo" width="80%" height="80%" />
<p class="caption">
Figure 6.44: Gráfico resumo, mostrando as médias por sexo
</p>
</div>
<p>O argumento <code>show.legend = FALSE</code> foi acrescentado para evitar o aparecimento da legenda, indicando quem é <code>masc</code> ou <code>fem</code>, pois o eixo <code>x</code> já mostra.</p>
<p>Pode-se chegar ao mesmo resultado, usando a função <code>stat_summary()</code> para acrescentar estatísticas de resumo.</p>
</div>
<div id="incluindo-barras-de-erro" class="section level3 hasAnchor" number="6.5.8">
<h3><span class="header-section-number">6.5.8</span> Incluindo barras de erro<a href="descrevendo-os-dados.html#incluindo-barras-de-erro" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Aqui, usamos uma camada <code>geom_error bar()</code>, com os argumentos <code>stat = summary</code> e <code>fun.data = "mean_se"</code>. Este último argumento fornece a média e o erro padrão e o <code>width = 0.1</code>, o tamanho da barra horizontal, gerando o gráfico da Figura <a href="descrevendo-os-dados.html#fig:erro">6.45</a>:</p>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb374-1"><a href="descrevendo-os-dados.html#cb374-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados, <span class="fu">aes</span>(<span class="at">x =</span> sexo, <span class="at">y =</span> pesoRN, <span class="at">color =</span> sexo)) <span class="sc">+</span></span>
<span id="cb374-2"><a href="descrevendo-os-dados.html#cb374-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">stat =</span> <span class="st">&quot;summary&quot;</span>,</span>
<span id="cb374-3"><a href="descrevendo-os-dados.html#cb374-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">fun =</span> <span class="st">&quot;mean&quot;</span>,</span>
<span id="cb374-4"><a href="descrevendo-os-dados.html#cb374-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb374-5"><a href="descrevendo-os-dados.html#cb374-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb374-6"><a href="descrevendo-os-dados.html#cb374-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="at">stat =</span> <span class="st">&quot;summary&quot;</span>, </span>
<span id="cb374-7"><a href="descrevendo-os-dados.html#cb374-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">fun.data =</span> <span class="st">&quot;mean_se&quot;</span>,</span>
<span id="cb374-8"><a href="descrevendo-os-dados.html#cb374-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">width =</span> <span class="fl">0.1</span>,</span>
<span id="cb374-9"><a href="descrevendo-os-dados.html#cb374-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:erro"></span>
<img src="bookdownproj_files/figure-html/erro-1.png" alt="Gráfico de barra de erro no `ggplot2`" width="80%" height="80%" />
<p class="caption">
Figure 6.45: Gráfico de barra de erro no <code>ggplot2</code>
</p>
</div>
<p>Usando o pacote <code>ggpubr</code> consegue-se criar um gráfico semelhante (Figura <a href="descrevendo-os-dados.html#fig:erro1">6.46</a>) ao anterior (média <span class="math inline">\(\pm\)</span> se), mas com o intervalo de confiança (média <span class="math inline">\(\pm\)</span> <span class="math inline">\(1.96 \times se\)</span>).</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="descrevendo-os-dados.html#cb375-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados, <span class="fu">aes</span>(<span class="at">x =</span> sexo, <span class="at">y =</span> pesoRN, <span class="at">color =</span> sexo)) <span class="sc">+</span></span>
<span id="cb375-2"><a href="descrevendo-os-dados.html#cb375-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">stat =</span> <span class="st">&quot;summary&quot;</span>,</span>
<span id="cb375-3"><a href="descrevendo-os-dados.html#cb375-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">fun =</span> <span class="st">&quot;mean&quot;</span>,</span>
<span id="cb375-4"><a href="descrevendo-os-dados.html#cb375-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb375-5"><a href="descrevendo-os-dados.html#cb375-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb375-6"><a href="descrevendo-os-dados.html#cb375-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="at">stat =</span> <span class="st">&quot;summary&quot;</span>, </span>
<span id="cb375-7"><a href="descrevendo-os-dados.html#cb375-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">fun.data =</span> <span class="st">&quot;mean_ci&quot;</span>,</span>
<span id="cb375-8"><a href="descrevendo-os-dados.html#cb375-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">width =</span> <span class="fl">0.1</span>,</span>
<span id="cb375-9"><a href="descrevendo-os-dados.html#cb375-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:erro1"></span>
<img src="bookdownproj_files/figure-html/erro1-1.png" alt="Gráfico de barra de erro no `ggpubr`" width="80%" height="80%" />
<p class="caption">
Figure 6.46: Gráfico de barra de erro no <code>ggpubr</code>
</p>
</div>
</div>
<div id="incluindo-mais-de-um-grupo-no-gráfico" class="section level3 hasAnchor" number="6.5.9">
<h3><span class="header-section-number">6.5.9</span> Incluindo mais de um grupo no gráfico<a href="descrevendo-os-dados.html#incluindo-mais-de-um-grupo-no-gráfico" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Agora, será construído o mesmo gráfico do peso dos recém nascidos por sexo, levando em consideração o tabagismo materno (Figura <a href="descrevendo-os-dados.html#fig:erro2">6.47</a>). Em primeiro lugar, filtra-se pelo tabagismo, presente ou ausente. Depois seguindo a mesma programação anterior, separando as cores pelo tabagismo (<code>fumo</code>). Coloca-se também o argumento <code>position = position_dodge (0.4)</code> para que não haja sobreposição das barras no gráfico e exibe-se a legenda (<code>show.legend = TRUE</code>):</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb376-1"><a href="descrevendo-os-dados.html#cb376-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span> <span class="fu">filter</span>(fumo <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;sim&quot;</span>, <span class="st">&quot;não&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb376-2"><a href="descrevendo-os-dados.html#cb376-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sexo, <span class="at">y =</span> pesoRN, <span class="at">color =</span> fumo)) <span class="sc">+</span></span>
<span id="cb376-3"><a href="descrevendo-os-dados.html#cb376-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">stat =</span> <span class="st">&quot;summary&quot;</span>,</span>
<span id="cb376-4"><a href="descrevendo-os-dados.html#cb376-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">fun =</span> <span class="st">&quot;mean&quot;</span>,</span>
<span id="cb376-5"><a href="descrevendo-os-dados.html#cb376-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.4</span>),</span>
<span id="cb376-6"><a href="descrevendo-os-dados.html#cb376-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb376-7"><a href="descrevendo-os-dados.html#cb376-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb376-8"><a href="descrevendo-os-dados.html#cb376-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="at">stat =</span> <span class="st">&quot;summary&quot;</span>, </span>
<span id="cb376-9"><a href="descrevendo-os-dados.html#cb376-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">fun.data =</span> <span class="st">&quot;mean_ci&quot;</span>,</span>
<span id="cb376-10"><a href="descrevendo-os-dados.html#cb376-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">width =</span> <span class="fl">0.1</span>,</span>
<span id="cb376-11"><a href="descrevendo-os-dados.html#cb376-11" aria-hidden="true" tabindex="-1"></a>                <span class="at">show.legend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb376-12"><a href="descrevendo-os-dados.html#cb376-12" aria-hidden="true" tabindex="-1"></a>                <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.4</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:erro2"></span>
<img src="bookdownproj_files/figure-html/erro2-1.png" alt="Gráfico do peso do neonato de acordo com sexo e tabagismo materno" width="80%" height="80%" />
<p class="caption">
Figure 6.47: Gráfico do peso do neonato de acordo com sexo e tabagismo materno
</p>
</div>
</div>
<div id="modificando-o-tema" class="section level3 hasAnchor" number="6.5.10">
<h3><span class="header-section-number">6.5.10</span> Modificando o tema<a href="descrevendo-os-dados.html#modificando-o-tema" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>O tema padrão do <code>ggplot2</code> é uma aparência acinzentada que pode ser modificada pela definição de outro tema integrado, como o <code>theme_bw()</code> (Figura <a href="descrevendo-os-dados.html#fig:tema">6.48</a>) que é uma variação de <code>theme_grey()</code>, padrão, que usa um fundo branco e linhas finas de grade cinza. Outro tema interessante é o <code>theme_classic()</code> que é um tema de aparência clássica, com linhas dos eixos <em>x</em> e <em>y</em> e sem linhas de grade, já usado no gráfico anterior. Para ver outras possibilidades clique <a href="https://ggplot2-book.org/polishing.html"><strong>aqui</strong></a>.</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="descrevendo-os-dados.html#cb377-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span></span>
<span id="cb377-2"><a href="descrevendo-os-dados.html#cb377-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sexo, </span>
<span id="cb377-3"><a href="descrevendo-os-dados.html#cb377-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">y =</span> pesoRN)) <span class="sc">+</span></span>
<span id="cb377-4"><a href="descrevendo-os-dados.html#cb377-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:tema"></span>
<img src="bookdownproj_files/figure-html/tema-1.png" alt="Boxplots do peso do neonato de acordo com sexo" width="80%" height="80%" />
<p class="caption">
Figure 6.48: Boxplots do peso do neonato de acordo com sexo
</p>
</div>
<p>Ou, adicionando cores aos boxplots e removendo a legenda, em uma nova camada, com o argumento<code>legend.position="none"</code> da função <code>theme ()</code> (Figura <a href="descrevendo-os-dados.html#fig:tema1">6.49</a>):</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="descrevendo-os-dados.html#cb378-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span></span>
<span id="cb378-2"><a href="descrevendo-os-dados.html#cb378-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sexo, </span>
<span id="cb378-3"><a href="descrevendo-os-dados.html#cb378-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">y =</span> pesoRN, </span>
<span id="cb378-4"><a href="descrevendo-os-dados.html#cb378-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> sexo)) <span class="sc">+</span></span>
<span id="cb378-5"><a href="descrevendo-os-dados.html#cb378-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb378-6"><a href="descrevendo-os-dados.html#cb378-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>) </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:tema1"></span>
<img src="bookdownproj_files/figure-html/tema1-1.png" alt="Boxplots com outro tema e sem legenda" width="80%" height="80%" />
<p class="caption">
Figure 6.49: Boxplots com outro tema e sem legenda
</p>
</div>
</div>
<div id="trabalhando-com-os-eixos" class="section level3 hasAnchor" number="6.5.11">
<h3><span class="header-section-number">6.5.11</span> Trabalhando com os eixos<a href="descrevendo-os-dados.html#trabalhando-com-os-eixos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Rótulo dos eixos</strong></p>
<p>Para adicionar ou modificar os rótulos dos eixos, adiciona-se <code>labs()</code>, escrevendo em cada rótulo (<em>x</em> e <em>y</em>) os seus respectivos rótulos (Figura <a href="descrevendo-os-dados.html#fig:eixo">6.50</a>):</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="descrevendo-os-dados.html#cb379-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span></span>
<span id="cb379-2"><a href="descrevendo-os-dados.html#cb379-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sexo, </span>
<span id="cb379-3"><a href="descrevendo-os-dados.html#cb379-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">y =</span> pesoRN,</span>
<span id="cb379-4"><a href="descrevendo-os-dados.html#cb379-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> sexo)) <span class="sc">+</span></span>
<span id="cb379-5"><a href="descrevendo-os-dados.html#cb379-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span> (<span class="at">x =</span> <span class="st">&quot;Sexo do recém-nascido&quot;</span>, </span>
<span id="cb379-6"><a href="descrevendo-os-dados.html#cb379-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">&quot;Peso do recém-nascido (g)&quot;</span>) <span class="sc">+</span></span>
<span id="cb379-7"><a href="descrevendo-os-dados.html#cb379-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb379-8"><a href="descrevendo-os-dados.html#cb379-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>) </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:eixo"></span>
<img src="bookdownproj_files/figure-html/eixo-1.png" alt="Boxplots com rótulos dos eixos modificados" width="80%" height="80%" />
<p class="caption">
Figure 6.50: Boxplots com rótulos dos eixos modificados
</p>
</div>
<p><strong>Modificando o espaço entre o eixo e os rótulos do eixo</strong></p>
<p>A função <code>theme()</code> é um comando essencial para modificar elementos específicos do tema (textos e títulos, caixas, símbolos, planos de fundo,etc.). É bastante usado!</p>
<p>Por enquanto, serão modificados elementos de texto (Figura <a href="descrevendo-os-dados.html#fig:texto">6.51</a>). É possível alterar as propriedades de todos ou alguns específicamente (aqui os títulos dos eixos), substituindo o <code>element_text ()</code> padrão com <code>theme ()</code>:</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb380-1"><a href="descrevendo-os-dados.html#cb380-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span></span>
<span id="cb380-2"><a href="descrevendo-os-dados.html#cb380-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sexo, </span>
<span id="cb380-3"><a href="descrevendo-os-dados.html#cb380-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">y =</span> pesoRN,</span>
<span id="cb380-4"><a href="descrevendo-os-dados.html#cb380-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> sexo)) <span class="sc">+</span></span>
<span id="cb380-5"><a href="descrevendo-os-dados.html#cb380-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span> (<span class="at">x =</span> <span class="st">&quot;Sexo do recém-nascido&quot;</span>, </span>
<span id="cb380-6"><a href="descrevendo-os-dados.html#cb380-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">&quot;Peso do recém-nascido (g)&quot;</span>) <span class="sc">+</span></span>
<span id="cb380-7"><a href="descrevendo-os-dados.html#cb380-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">15</span>),</span>
<span id="cb380-8"><a href="descrevendo-os-dados.html#cb380-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="dv">2</span>, <span class="at">size =</span> <span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb380-9"><a href="descrevendo-os-dados.html#cb380-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb380-10"><a href="descrevendo-os-dados.html#cb380-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>) </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:texto"></span>
<img src="bookdownproj_files/figure-html/texto-1.png" alt="Boxplots com elementos dos textos modificados" width="80%" height="80%" />
<p class="caption">
Figure 6.51: Boxplots com elementos dos textos modificados
</p>
</div>
<p>O argumento <code>vjust</code> se refere ao alinhamento vertical, que geralmente varia entre 0 e 1, mas pode-se especificar valores fora desse intervalo.
Pode-se, também, alterar a distância especificando a margem de ambos os elementos de texto (Figura <a href="descrevendo-os-dados.html#fig:margem">6.52</a>):</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="descrevendo-os-dados.html#cb381-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span></span>
<span id="cb381-2"><a href="descrevendo-os-dados.html#cb381-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sexo, </span>
<span id="cb381-3"><a href="descrevendo-os-dados.html#cb381-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">y =</span> pesoRN,</span>
<span id="cb381-4"><a href="descrevendo-os-dados.html#cb381-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> sexo)) <span class="sc">+</span></span>
<span id="cb381-5"><a href="descrevendo-os-dados.html#cb381-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span> (<span class="at">x =</span> <span class="st">&quot;Sexo do recém-nascido&quot;</span>, </span>
<span id="cb381-6"><a href="descrevendo-os-dados.html#cb381-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">&quot;Peso do recém-nascido (g)&quot;</span>) <span class="sc">+</span></span>
<span id="cb381-7"><a href="descrevendo-os-dados.html#cb381-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">margin =</span> <span class="fu">margin</span> (<span class="at">t =</span> <span class="dv">10</span>), <span class="at">size =</span> <span class="dv">15</span>),</span>
<span id="cb381-8"><a href="descrevendo-os-dados.html#cb381-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">margin =</span> <span class="fu">margin</span> (<span class="at">r =</span> <span class="dv">10</span>), <span class="at">size =</span> <span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb381-9"><a href="descrevendo-os-dados.html#cb381-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb381-10"><a href="descrevendo-os-dados.html#cb381-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:margem"></span>
<img src="bookdownproj_files/figure-html/margem-1.png" alt="Boxplots com outras modificações" width="80%" height="80%" />
<p class="caption">
Figure 6.52: Boxplots com outras modificações
</p>
</div>
<p>Os rótulos <em>t</em> e <em>r</em> dentro da função <code>margin()</code> referem-se ao topo e à direita, respectivamente. É possível especificar as quatro margens como margem (<em>t</em>, <em>r</em>, <em>b</em>, <em>l</em>). Observe que, agora, há necessidade de alterar a margem direita para modificar o espaço no eixo <em>y</em>, não a margem inferior.</p>
<p><strong>Acrescentando um título</strong></p>
<p>Pode-se adicionar um título através da função <code>ggtitle()</code> (Figura <a href="descrevendo-os-dados.html#fig:titulo">6.53</a>):</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb382-1"><a href="descrevendo-os-dados.html#cb382-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> obitos) <span class="sc">+</span></span>
<span id="cb382-2"><a href="descrevendo-os-dados.html#cb382-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> data, </span>
<span id="cb382-3"><a href="descrevendo-os-dados.html#cb382-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> obitos)) <span class="sc">+</span></span>
<span id="cb382-4"><a href="descrevendo-os-dados.html#cb382-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Data (ano/mês)&quot;</span>, </span>
<span id="cb382-5"><a href="descrevendo-os-dados.html#cb382-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Nº de mortes&quot;</span>) <span class="sc">+</span></span>
<span id="cb382-6"><a href="descrevendo-os-dados.html#cb382-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span> (<span class="st">&quot;Mortes por COVID-19 - SES/RS, 2020-22&quot;</span>) <span class="sc">+</span></span>
<span id="cb382-7"><a href="descrevendo-os-dados.html#cb382-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:titulo"></span>
<img src="bookdownproj_files/figure-html/titulo-1.png" alt="Boxplots com elementos dos textos modificados" width="80%" height="80%" />
<p class="caption">
Figure 6.53: Boxplots com elementos dos textos modificados
</p>
</div>
<p>Uma outra maneira de colocar título, subtítulo e fonte no gráfico é (Figura <a href="descrevendo-os-dados.html#fig:subtitulo">6.54</a>):</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="descrevendo-os-dados.html#cb383-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> obitos) <span class="sc">+</span></span>
<span id="cb383-2"><a href="descrevendo-os-dados.html#cb383-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> data, </span>
<span id="cb383-3"><a href="descrevendo-os-dados.html#cb383-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> obitos)) <span class="sc">+</span></span>
<span id="cb383-4"><a href="descrevendo-os-dados.html#cb383-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Data (ano/mês)&quot;</span>, </span>
<span id="cb383-5"><a href="descrevendo-os-dados.html#cb383-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Nº de mortes&quot;</span>,</span>
<span id="cb383-6"><a href="descrevendo-os-dados.html#cb383-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Mortes por COVID-19&quot;</span>,</span>
<span id="cb383-7"><a href="descrevendo-os-dados.html#cb383-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;RS - 2020-2022&quot;</span>,</span>
<span id="cb383-8"><a href="descrevendo-os-dados.html#cb383-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Fonte: SES&quot;</span>) <span class="sc">+</span></span>
<span id="cb383-9"><a href="descrevendo-os-dados.html#cb383-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:subtitulo"></span>
<img src="bookdownproj_files/figure-html/subtitulo-1.png" alt="Boxplots com elementos dos textos modificados" width="80%" height="80%" />
<p class="caption">
Figure 6.54: Boxplots com elementos dos textos modificados
</p>
</div>
<p>Outro exemplo, modificando o tamanho, estilo e tipo de fonte (Figura <a href="descrevendo-os-dados.html#fig:fonte">6.55</a>). Isto é feito, adicionando a camada <code>theme()</code> com argumentos <code>plot.title</code>, <code>plot.subtitle</code>, etc. Para maiores detalhes consulte <a href="https://tidyverse.github.io/ggplot2-docs/reference/theme.html"><strong>aqui</strong></a>.</p>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb384-1"><a href="descrevendo-os-dados.html#cb384-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados, <span class="fu">aes</span>(<span class="at">x =</span> sexo, <span class="at">y =</span> pesoRN, <span class="at">color =</span> sexo)) <span class="sc">+</span></span>
<span id="cb384-2"><a href="descrevendo-os-dados.html#cb384-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">stat =</span> <span class="st">&quot;summary&quot;</span>,</span>
<span id="cb384-3"><a href="descrevendo-os-dados.html#cb384-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">fun =</span> <span class="st">&quot;mean&quot;</span>,</span>
<span id="cb384-4"><a href="descrevendo-os-dados.html#cb384-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb384-5"><a href="descrevendo-os-dados.html#cb384-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb384-6"><a href="descrevendo-os-dados.html#cb384-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="at">stat =</span> <span class="st">&quot;summary&quot;</span>, </span>
<span id="cb384-7"><a href="descrevendo-os-dados.html#cb384-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">fun.data =</span> <span class="st">&quot;mean_ci&quot;</span>,</span>
<span id="cb384-8"><a href="descrevendo-os-dados.html#cb384-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">width =</span> <span class="fl">0.1</span>,</span>
<span id="cb384-9"><a href="descrevendo-os-dados.html#cb384-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb384-10"><a href="descrevendo-os-dados.html#cb384-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Sexo do recém-nascido&quot;</span>, </span>
<span id="cb384-11"><a href="descrevendo-os-dados.html#cb384-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Peso do recém-nascido (g)&quot;</span>,</span>
<span id="cb384-12"><a href="descrevendo-os-dados.html#cb384-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Peso do RN por sexo&quot;</span>,</span>
<span id="cb384-13"><a href="descrevendo-os-dados.html#cb384-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Maternidade do HGCS&quot;</span>,</span>
<span id="cb384-14"><a href="descrevendo-os-dados.html#cb384-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Fonte: Autor&quot;</span>) <span class="sc">+</span></span>
<span id="cb384-15"><a href="descrevendo-os-dados.html#cb384-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb384-16"><a href="descrevendo-os-dados.html#cb384-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span> (<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>, </span>
<span id="cb384-17"><a href="descrevendo-os-dados.html#cb384-17" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, </span>
<span id="cb384-18"><a href="descrevendo-os-dados.html#cb384-18" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">color =</span> <span class="st">&quot;navy&quot;</span>),</span>
<span id="cb384-19"><a href="descrevendo-os-dados.html#cb384-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>, </span>
<span id="cb384-20"><a href="descrevendo-os-dados.html#cb384-20" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, </span>
<span id="cb384-21"><a href="descrevendo-os-dados.html#cb384-21" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">color =</span> <span class="st">&quot;steelblue&quot;</span>)) </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fonte"></span>
<img src="bookdownproj_files/figure-html/fonte-1.png" alt="Boxplots com elementos dos textos modificados" width="80%" height="80%" />
<p class="caption">
Figure 6.55: Boxplots com elementos dos textos modificados
</p>
</div>
<p><strong>Modificando os limites dos eixos</strong></p>
<p>O sistema de coordenadas cartesianas é o tipo de sistema de coordenadas mais familiar e comum. Definir limites no sistema de coordenadas ampliará o gráfico (como se você estivesse olhando para ele com uma lupa) e não alterará os dados subjacentes, como definir limites em uma escala. Para realizar este trabalho, vamos usar a função <code>coord_cartesian ()</code> ou <code>scale_y_continuous ()</code> ou <code>scale_x_continuous ()</code>.</p>
<p>Será usado aqui o gráfico já construído acima (Figura <a href="descrevendo-os-dados.html#fig:point7">6.42</a>) com pequenas alteraçõese vamos armazená-lo em um objeto, denominado <code>gd</code> (gráfico de dipersão). Isto facilita a repetição do gráfico em outros códigos, pois basta escrever <code>gd</code> e executar (Figura <a href="descrevendo-os-dados.html#fig:gd">6.56</a>).</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="descrevendo-os-dados.html#cb385-1" aria-hidden="true" tabindex="-1"></a>gd <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> dados, <span class="fu">aes</span>(<span class="at">x =</span> compRN, <span class="at">y =</span> pesoRN)) <span class="sc">+</span> </span>
<span id="cb385-2"><a href="descrevendo-os-dados.html#cb385-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;tomato&quot;</span>, </span>
<span id="cb385-3"><a href="descrevendo-os-dados.html#cb385-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb385-4"><a href="descrevendo-os-dados.html#cb385-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, </span>
<span id="cb385-5"><a href="descrevendo-os-dados.html#cb385-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>, </span>
<span id="cb385-6"><a href="descrevendo-os-dados.html#cb385-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, </span>
<span id="cb385-7"><a href="descrevendo-os-dados.html#cb385-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">size =</span> <span class="fl">0.8</span>,</span>
<span id="cb385-8"><a href="descrevendo-os-dados.html#cb385-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="sc">+</span></span>
<span id="cb385-9"><a href="descrevendo-os-dados.html#cb385-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Comprimento do RN (cm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Peso do RN (g)&quot;</span>,</span>
<span id="cb385-10"><a href="descrevendo-os-dados.html#cb385-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Gráfico de Dispersão&quot;</span>,</span>
<span id="cb385-11"><a href="descrevendo-os-dados.html#cb385-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Fonte: Autor&quot;</span>) <span class="sc">+</span></span>
<span id="cb385-12"><a href="descrevendo-os-dados.html#cb385-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb385-13"><a href="descrevendo-os-dados.html#cb385-13" aria-hidden="true" tabindex="-1"></a>gd</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:gd"></span>
<img src="bookdownproj_files/figure-html/gd-1.png" alt="Gráfico de dispersão" width="80%" height="80%" />
<p class="caption">
Figure 6.56: Gráfico de dispersão
</p>
</div>
<ol style="list-style-type: decimal">
<li><em>Função <code>coord_cartesian()</code></em>
<ul>
<li><strong>xlim, ylim</strong> <span class="math inline">\(\longrightarrow\)</span> limites dos eixos <code>x</code> e <code>y</code></li>
<li><strong>expand</strong> <span class="math inline">\(\longrightarrow\)</span> Se <code>TRUE</code>, o padrão, adiciona um pequeno fator de expansão aos limites para garantir que dados e eixos não se sobreponham. Se <code>FALSE</code>, os limites são tirados exatamente dos dados ou <code>xlim</code>/<code>ylim</code> (Figura <a href="descrevendo-os-dados.html#fig:zoom">6.57</a>).</li>
</ul></li>
</ol>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="descrevendo-os-dados.html#cb386-1" aria-hidden="true" tabindex="-1"></a>gd <span class="sc">+</span> <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">3500</span>, <span class="dv">4000</span>),</span>
<span id="cb386-2"><a href="descrevendo-os-dados.html#cb386-2" aria-hidden="true" tabindex="-1"></a>                     <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">45</span>, <span class="dv">55</span>),</span>
<span id="cb386-3"><a href="descrevendo-os-dados.html#cb386-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:zoom"></span>
<img src="bookdownproj_files/figure-html/zoom-1.png" alt="Gráfico de dispersão expandido" width="80%" height="80%" />
<p class="caption">
Figure 6.57: Gráfico de dispersão expandido
</p>
</div>
<blockquote>
<p>Observe que é como se fizesse um zoom no gráfico nos limites estabelecidos. Há um corte um pouco acima dos limites. No eixo <code>y</code>, um pouco acima de 4000 e um pouco abaixo de 3500 e, no eixo <code>x</code>, um pouco à esquerda de 45 e um pouco à direita de 55. Isto aconteceu, porque colocamos <code>expand = TRUE</code>. Para extrair esta margem, colocar <code>expand = FALSE</code>:</p>
</blockquote>
<ol start="2" style="list-style-type: decimal">
<li><em>Usando escalas de posição contínuas</em>
<ul>
<li>Pode-se usar a função <code>scale_y_continous()</code> e <code>scale_x_continuous()</code> para fazer algo parecido com a <code>coord_cartesian()</code> (Figura <a href="descrevendo-os-dados.html#fig:zoom1">6.58</a>):</li>
</ul></li>
</ol>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="descrevendo-os-dados.html#cb387-1" aria-hidden="true" tabindex="-1"></a>gd <span class="sc">+</span> <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">45</span>, <span class="dv">55</span>)) <span class="sc">+</span></span>
<span id="cb387-2"><a href="descrevendo-os-dados.html#cb387-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span> (<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">3500</span>, <span class="dv">4000</span>))</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:zoom1"></span>
<img src="bookdownproj_files/figure-html/zoom1-1.png" alt="Gráfico de dispersão expandido" width="80%" height="80%" />
<p class="caption">
Figure 6.58: Gráfico de dispersão expandido
</p>
</div>
<blockquote>
<p>A função removeu os casos que estão fora dos limites estabelecidos. No caso, a mensagem do R mostra que foram removidos 1132 casos. O gráfico foi construido sem estes casos e, no gráfico anterior, houve apenas uma aproximação (um zoom) dentro dos limites. Portanto, houve um impacto importante no gráfico.<br />
Se os dados não forem em escala contínua, é possível escolher outra escala, por esxemplo <code>scale_y_discrete ()</code>.</p>
</blockquote>
<p><strong>Modificando a expansão</strong></p>
<p>Mostrou-se que é possível interfir na expansão da margem com o argumento <code>expand = TRUE</code> ou <code>FALSE</code> que pode ser usado também com a função <code>scale_y_continuous()</code>. Agora, será visto um exemplo de um gráfico de barras das faixas etárias das gestantes (Figura <a href="descrevendo-os-dados.html#fig:axis">6.59</a>):</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="descrevendo-os-dados.html#cb389-1" aria-hidden="true" tabindex="-1"></a>gb <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span></span>
<span id="cb389-2"><a href="descrevendo-os-dados.html#cb389-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> idadeCateg, <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count)), </span>
<span id="cb389-3"><a href="descrevendo-os-dados.html#cb389-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">fill =</span> idadeCateg),</span>
<span id="cb389-4"><a href="descrevendo-os-dados.html#cb389-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb389-5"><a href="descrevendo-os-dados.html#cb389-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Frequência&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Faixa Etária da Parturiente&quot;</span>)</span>
<span id="cb389-6"><a href="descrevendo-os-dados.html#cb389-6" aria-hidden="true" tabindex="-1"></a>gb</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:axis"></span>
<img src="bookdownproj_files/figure-html/axis-1.png" alt="Gráfico de barras" width="80%" height="80%" />
<p class="caption">
Figure 6.59: Gráfico de barras
</p>
</div>
<p>Observe que abaixo do 0 (zero) existe uma expansão (Figura <a href="descrevendo-os-dados.html#fig:axis1">6.60</a>). Para que as barras tenham início exatamente no 0, pode-se empregar a função <code>scale_y_continuous()</code> com o argumento <code>expand = expansion (add = c(0,50))</code>, significando que não se expande nada abaixo do 0 e se adiciona 50 unidades para cima, criando uma margem superior.</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb390-1"><a href="descrevendo-os-dados.html#cb390-1" aria-hidden="true" tabindex="-1"></a>gb <span class="sc">+</span> <span class="fu">scale_y_continuous</span> (<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">add =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.05</span>)))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:axis1"></span>
<img src="bookdownproj_files/figure-html/axis1-1.png" alt="Gráfico de barras com expansão" width="80%" height="80%" />
<p class="caption">
Figure 6.60: Gráfico de barras com expansão
</p>
</div>
<p>Isto também poderia ser feito com <code>mult</code> no lugar do <code>add</code> (Figura <a href="descrevendo-os-dados.html#fig:axis2">6.61</a>), representando o multiplicador que se coloca acima e abaixo:</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="descrevendo-os-dados.html#cb391-1" aria-hidden="true" tabindex="-1"></a>gb <span class="sc">+</span> <span class="fu">scale_y_continuous</span> (<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.05</span>)))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:axis2"></span>
<img src="bookdownproj_files/figure-html/axis2-1.png" alt="Gráfico de barras, igual a anterior" width="80%" height="80%" />
<p class="caption">
Figure 6.61: Gráfico de barras, igual a anterior
</p>
</div>
<p><strong>Usando a proporção ou percentagem nos eixos</strong></p>
<p>Para usar a proporção no eixo <em>y</em> do gráfico anterior, devemos modificar a estética deste eixo, usando <code>y = after_stat(count/sum(count))</code>(Figura <a href="descrevendo-os-dados.html#fig:prop">6.62</a>).</p>
<div class="sourceCode" id="cb392"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb392-1"><a href="descrevendo-os-dados.html#cb392-1" aria-hidden="true" tabindex="-1"></a>gbp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span> </span>
<span id="cb392-2"><a href="descrevendo-os-dados.html#cb392-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> idadeCateg, <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count)), </span>
<span id="cb392-3"><a href="descrevendo-os-dados.html#cb392-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> idadeCateg),</span>
<span id="cb392-4"><a href="descrevendo-os-dados.html#cb392-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb392-5"><a href="descrevendo-os-dados.html#cb392-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Frequência&quot;</span>, </span>
<span id="cb392-6"><a href="descrevendo-os-dados.html#cb392-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Faixa Etária da Parturiente&quot;</span>,</span>
<span id="cb392-7"><a href="descrevendo-os-dados.html#cb392-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Fonte: Autor&quot;</span>)</span>
<span id="cb392-8"><a href="descrevendo-os-dados.html#cb392-8" aria-hidden="true" tabindex="-1"></a>gbp</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:prop"></span>
<img src="bookdownproj_files/figure-html/prop-1.png" alt="Gráfico de barras com proporções no eixo y" width="80%" height="80%" />
<p class="caption">
Figure 6.62: Gráfico de barras com proporções no eixo y
</p>
</div>
<p>Para ter a percentagem (Figura <a href="descrevendo-os-dados.html#fig:percent">6.63</a>), empregar a função <code>percent_format()</code> do pacote <code>scales</code> <span class="citation">(82)</span>:</p>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="descrevendo-os-dados.html#cb393-1" aria-hidden="true" tabindex="-1"></a>gbp <span class="sc">+</span> <span class="fu">scale_y_continuous</span> (<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.05</span>)),</span>
<span id="cb393-2"><a href="descrevendo-os-dados.html#cb393-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">labels =</span> <span class="fu">percent_format</span> (<span class="at">accuracy =</span> <span class="fl">0.1</span>,</span>
<span id="cb393-3"><a href="descrevendo-os-dados.html#cb393-3" aria-hidden="true" tabindex="-1"></a>                                                   <span class="at">decimal.mark =</span> <span class="st">&quot;,&quot;</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:percent"></span>
<img src="bookdownproj_files/figure-html/percent-1.png" alt="Gráfico de barras com percentagens no eixo y" width="80%" height="80%" />
<p class="caption">
Figure 6.63: Gráfico de barras com percentagens no eixo y
</p>
</div>
<p><strong>Mudando o nome e a ordem dos rótulos do eixo <em>x</em></strong></p>
<p>No gráfico acima, temos a faixa etária dividida em <code>&lt;20a</code>, <code>20-35a</code> e <code>&gt;35a</code>. Pode haver interesse em mudar para <code>adolescentes</code>, <code>adultas jovens</code> e <code>gestante idosa</code> (Figura <a href="descrevendo-os-dados.html#fig:label">6.64</a>). Para fazer isso, sem mudar o banco de dados, simplemente modifica-se os rótulos no argumento <code>labels</code> da função <code>scale_x_discrete()</code>:</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb394-1"><a href="descrevendo-os-dados.html#cb394-1" aria-hidden="true" tabindex="-1"></a>gbp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span> </span>
<span id="cb394-2"><a href="descrevendo-os-dados.html#cb394-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> idadeCateg, <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count)), </span>
<span id="cb394-3"><a href="descrevendo-os-dados.html#cb394-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> idadeCateg),</span>
<span id="cb394-4"><a href="descrevendo-os-dados.html#cb394-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb394-5"><a href="descrevendo-os-dados.html#cb394-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Frequência&quot;</span>, </span>
<span id="cb394-6"><a href="descrevendo-os-dados.html#cb394-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Faixa Etária da Parturiente&quot;</span>,</span>
<span id="cb394-7"><a href="descrevendo-os-dados.html#cb394-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Fonte: Autor&quot;</span>) <span class="sc">+</span></span>
<span id="cb394-8"><a href="descrevendo-os-dados.html#cb394-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span> (<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.05</span>)),</span>
<span id="cb394-9"><a href="descrevendo-os-dados.html#cb394-9" aria-hidden="true" tabindex="-1"></a>                          <span class="at">labels =</span> <span class="fu">percent_format</span> (<span class="at">accuracy =</span> <span class="fl">0.1</span>,</span>
<span id="cb394-10"><a href="descrevendo-os-dados.html#cb394-10" aria-hidden="true" tabindex="-1"></a>                                                   <span class="at">decimal.mark =</span> <span class="st">&quot;,&quot;</span>)) <span class="sc">+</span></span>
<span id="cb394-11"><a href="descrevendo-os-dados.html#cb394-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span> (<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Adolescente&quot;</span>, <span class="st">&quot;Adulta jovem&quot;</span>, <span class="st">&quot;Gestante idosa&quot;</span>))</span>
<span id="cb394-12"><a href="descrevendo-os-dados.html#cb394-12" aria-hidden="true" tabindex="-1"></a>gbp</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:label"></span>
<img src="bookdownproj_files/figure-html/label-1.png" alt="Gráfico de barras com eixo x modificado" width="80%" height="80%" />
<p class="caption">
Figure 6.64: Gráfico de barras com eixo x modificado
</p>
</div>
<p>É viável, também, mudar esta ordem no eixo <code>x</code>, da maior frequência para a menor (Figura <a href="descrevendo-os-dados.html#fig:ordem">6.65</a>):</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="descrevendo-os-dados.html#cb395-1" aria-hidden="true" tabindex="-1"></a>gbp <span class="sc">+</span> <span class="fu">scale_x_discrete</span> (<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">&quot;20-35a&quot;</span>, <span class="st">&quot;&lt;20a&quot;</span>, <span class="st">&quot;&gt;35a&quot;</span>),</span>
<span id="cb395-2"><a href="descrevendo-os-dados.html#cb395-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Adulta jovem&quot;</span>, <span class="st">&quot;Adolescente&quot;</span>, <span class="st">&quot;Gestante idosa&quot;</span>))</span></code></pre></div>
<pre><code>## Scale for x is already present.
## Adding another scale for x, which will replace the existing scale.</code></pre>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ordem"></span>
<img src="bookdownproj_files/figure-html/ordem-1.png" alt="Gráfico de barras com eixo x modificado" width="80%" height="80%" />
<p class="caption">
Figure 6.65: Gráfico de barras com eixo x modificado
</p>
</div>
<p>Pode-se conseguir o mesmo resultado anterior com o a função <code>fct_infreq()</code> do pacote <code>forcats</code>, colocada na estética do <code>geom_bar()</code>.</p>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="descrevendo-os-dados.html#cb397-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span> </span>
<span id="cb397-2"><a href="descrevendo-os-dados.html#cb397-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_infreq</span> (idadeCateg), <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count)), </span>
<span id="cb397-3"><a href="descrevendo-os-dados.html#cb397-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> idadeCateg),</span>
<span id="cb397-4"><a href="descrevendo-os-dados.html#cb397-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb397-5"><a href="descrevendo-os-dados.html#cb397-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Frequência&quot;</span>, </span>
<span id="cb397-6"><a href="descrevendo-os-dados.html#cb397-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Faixa Etária da Parturiente&quot;</span>,</span>
<span id="cb397-7"><a href="descrevendo-os-dados.html#cb397-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Fonte: Autor&quot;</span>) <span class="sc">+</span></span>
<span id="cb397-8"><a href="descrevendo-os-dados.html#cb397-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span> (<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.05</span>)),</span>
<span id="cb397-9"><a href="descrevendo-os-dados.html#cb397-9" aria-hidden="true" tabindex="-1"></a>                          <span class="at">labels =</span> <span class="fu">percent_format</span> (<span class="at">accuracy =</span> <span class="fl">0.1</span>,</span>
<span id="cb397-10"><a href="descrevendo-os-dados.html#cb397-10" aria-hidden="true" tabindex="-1"></a>                                                   <span class="at">decimal.mark =</span> <span class="st">&quot;,&quot;</span>)) <span class="sc">+</span></span>
<span id="cb397-11"><a href="descrevendo-os-dados.html#cb397-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span> (<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Adulta jovem&quot;</span>, <span class="st">&quot;Adolescente&quot;</span>, <span class="st">&quot;Gestante idosa&quot;</span>))</span></code></pre></div>
<p><strong>Moficando os intervalos dos valores do eixo</strong></p>
<p>O gráfico de linha de mortes por COVID no RS, 2020-2022, visto anteriormente (Figura <a href="descrevendo-os-dados.html#fig:ggline">6.36</a>), será atribuído a um objeto <code>gl</code>:</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="descrevendo-os-dados.html#cb398-1" aria-hidden="true" tabindex="-1"></a>gl <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> obitos) <span class="sc">+</span></span>
<span id="cb398-2"><a href="descrevendo-os-dados.html#cb398-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> data, <span class="at">y =</span> obitos)) <span class="sc">+</span></span>
<span id="cb398-3"><a href="descrevendo-os-dados.html#cb398-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Ano (mês)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Nº de mortes&quot;</span>) <span class="sc">+</span></span>
<span id="cb398-4"><a href="descrevendo-os-dados.html#cb398-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb398-5"><a href="descrevendo-os-dados.html#cb398-5" aria-hidden="true" tabindex="-1"></a>gl</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:linha"></span>
<img src="bookdownproj_files/figure-html/linha-1.png" alt="Mortes por COVID-19, 2020-2022, RS." width="80%" height="80%" />
<p class="caption">
Figure 6.66: Mortes por COVID-19, 2020-2022, RS.
</p>
</div>
<p>Observe (Figura <a href="descrevendo-os-dados.html#fig:linha">6.66</a>) que, no eixo <em>y</em>, os óbitos estão registrados a cada 2000 e, no eixo <em>x</em>, foram marcadas apenas 4 datas. Podemos modificar isso adicionando duas camadas, usando as funções <code>scale_y_continuous()</code> e <code>scale_x_datetime()</code>:</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="descrevendo-os-dados.html#cb399-1" aria-hidden="true" tabindex="-1"></a>gl <span class="sc">+</span> <span class="fu">scale_y_continuous</span>(<span class="at">n.breaks =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb399-2"><a href="descrevendo-os-dados.html#cb399-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_datetime</span>(<span class="at">date_breaks =</span> <span class="st">&quot;4 month&quot;</span>,</span>
<span id="cb399-3"><a href="descrevendo-os-dados.html#cb399-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">date_labels =</span> <span class="st">&quot;%Y (%b)&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:linha1"></span>
<img src="bookdownproj_files/figure-html/linha1-1.png" alt="Mortes por COVID-19, 2020-2022, RS." width="80%" height="80%" />
<p class="caption">
Figure 6.67: Mortes por COVID-19, 2020-2022, RS.
</p>
</div>
<p>O aspecto do gráfico mudou um pouco (Figura <a href="descrevendo-os-dados.html#fig:linha1">6.67</a>). Agora, existem marcações no eixo <em>y</em> a cada 1000 mortes e o registro do tempo aparece a cada 4 meses, conforme estabelecido no argumento <code>date_breaks = "4 month"</code> e o formato foi modificado com o argumento <code>date_labels = "%Y %b"</code>. Neste, <code>%Y</code> significa o ano e <code>%b</code> significa o mês abreviado (Jan-Dec). Para ver como customizar as datas, veja <a href="https://www.r-bloggers.com/2018/06/customizing-time-and-date-scales-in-ggplot2/"><strong>aqui</strong></a></p>
</div>
<div id="modificação-das-cores" class="section level3 hasAnchor" number="6.5.12">
<h3><span class="header-section-number">6.5.12</span> Modificação das cores<a href="descrevendo-os-dados.html#modificação-das-cores" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Voltando a usar um gráfico de barra, já visto anteriormente (Figura <a href="descrevendo-os-dados.html#fig:label">6.64</a>), da distribuição da idade da gestante por faixa etária, onde <code>ggplot2</code> escolheu as cores porque foi colocado o argumento <code>fill = idadeCateg</code>.</p>
<p>Essas cores não foram escolhidas pelo autor e é possível mudá-las, usando uma paleta própria. por exemplo, adicionando uma camada com a função <code>scale_fill_manual()</code> (Figura <a href="descrevendo-os-dados.html#fig:cor">6.68</a>):</p>
<div class="sourceCode" id="cb400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb400-1"><a href="descrevendo-os-dados.html#cb400-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span> </span>
<span id="cb400-2"><a href="descrevendo-os-dados.html#cb400-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> idadeCateg, <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count)), </span>
<span id="cb400-3"><a href="descrevendo-os-dados.html#cb400-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> idadeCateg),</span>
<span id="cb400-4"><a href="descrevendo-os-dados.html#cb400-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb400-5"><a href="descrevendo-os-dados.html#cb400-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Frequência&quot;</span>, </span>
<span id="cb400-6"><a href="descrevendo-os-dados.html#cb400-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Faixa Etária da Parturiente&quot;</span>,</span>
<span id="cb400-7"><a href="descrevendo-os-dados.html#cb400-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Fonte: Autor&quot;</span>) <span class="sc">+</span></span>
<span id="cb400-8"><a href="descrevendo-os-dados.html#cb400-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span> (<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.05</span>)),</span>
<span id="cb400-9"><a href="descrevendo-os-dados.html#cb400-9" aria-hidden="true" tabindex="-1"></a>                          <span class="at">labels =</span> <span class="fu">percent_format</span> (<span class="at">accuracy =</span> <span class="fl">0.1</span>,</span>
<span id="cb400-10"><a href="descrevendo-os-dados.html#cb400-10" aria-hidden="true" tabindex="-1"></a>                                                   <span class="at">decimal.mark =</span> <span class="st">&quot;,&quot;</span>)) <span class="sc">+</span></span>
<span id="cb400-11"><a href="descrevendo-os-dados.html#cb400-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span> (<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Adolescente&quot;</span>, <span class="st">&quot;Adulta jovem&quot;</span>, <span class="st">&quot;Gestante idosa&quot;</span>)) <span class="sc">+</span></span>
<span id="cb400-12"><a href="descrevendo-os-dados.html#cb400-12" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;steelblue&quot;</span>, <span class="st">&quot;navy&quot;</span>, <span class="st">&quot;lightblue&quot;</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:cor"></span>
<img src="bookdownproj_files/figure-html/cor-1.png" alt="Frequência da faixa etária das parturientes da Maternidade do HCCS, 2008." width="80%" height="80%" />
<p class="caption">
Figure 6.68: Frequência da faixa etária das parturientes da Maternidade do HCCS, 2008.
</p>
</div>
<p>As cores podem ser escolhidas <a href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf"><strong>aqui</strong></a>.<br />
Além de escrever o nome das cores aceitas pelo ggplot2, é possível usar o sistema hexadecimal que utiliza números e letras. Ver <a href="https://coolors.co/"><strong>aqui</strong></a> o gerador de paletas. Copiar o código e colocar antes o símbolo <code>#</code>.</p>
<p>É possível, também, usar uma paleta de pacotes do R, como o pacote <a href="https://www.r-graph-gallery.com/38-rcolorbrewers-palettes.html"><code>RColorBrewer</code></a>(Figura <a href="descrevendo-os-dados.html#fig:cor1">6.69</a>).</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="descrevendo-os-dados.html#cb401-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span> </span>
<span id="cb401-2"><a href="descrevendo-os-dados.html#cb401-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> idadeCateg, <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count)), </span>
<span id="cb401-3"><a href="descrevendo-os-dados.html#cb401-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> idadeCateg),</span>
<span id="cb401-4"><a href="descrevendo-os-dados.html#cb401-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb401-5"><a href="descrevendo-os-dados.html#cb401-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Frequência&quot;</span>, </span>
<span id="cb401-6"><a href="descrevendo-os-dados.html#cb401-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Faixa Etária da Parturiente&quot;</span>,</span>
<span id="cb401-7"><a href="descrevendo-os-dados.html#cb401-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Fonte: Autor&quot;</span>) <span class="sc">+</span></span>
<span id="cb401-8"><a href="descrevendo-os-dados.html#cb401-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span> (<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.05</span>)),</span>
<span id="cb401-9"><a href="descrevendo-os-dados.html#cb401-9" aria-hidden="true" tabindex="-1"></a>                          <span class="at">labels =</span> <span class="fu">percent_format</span> (<span class="at">accuracy =</span> <span class="fl">0.1</span>,</span>
<span id="cb401-10"><a href="descrevendo-os-dados.html#cb401-10" aria-hidden="true" tabindex="-1"></a>                                                   <span class="at">decimal.mark =</span> <span class="st">&quot;,&quot;</span>)) <span class="sc">+</span></span>
<span id="cb401-11"><a href="descrevendo-os-dados.html#cb401-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span> (<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Adolescente&quot;</span>, <span class="st">&quot;Adulta jovem&quot;</span>, <span class="st">&quot;Gestante idosa&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb401-12"><a href="descrevendo-os-dados.html#cb401-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Dark2&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:cor1"></span>
<img src="bookdownproj_files/figure-html/cor1-1.png" alt="Frequência da faixa etária das parturientes da Maternidade do HCCS, 2008." width="80%" height="80%" />
<p class="caption">
Figure 6.69: Frequência da faixa etária das parturientes da Maternidade do HCCS, 2008.
</p>
</div>
<p>Usando o pacote <a href="https://cran.r-project.org/web/packages/ggsci/ggsci.pdf"><code>ggsci</code></a>, pode-se escolher o padrão de algumas revistas médicas como a JAMA, Lancet, etc (Figura <a href="descrevendo-os-dados.html#fig:cor2">6.70</a>).Para maiores detalhes acesse <a href="https://cran.r-project.org/web/packages/ggsci/vignettes/ggsci.html"><strong>aqui</strong></a></p>
<div class="sourceCode" id="cb402"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb402-1"><a href="descrevendo-os-dados.html#cb402-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(ggsci)</span>
<span id="cb402-2"><a href="descrevendo-os-dados.html#cb402-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb402-3"><a href="descrevendo-os-dados.html#cb402-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dados) <span class="sc">+</span> </span>
<span id="cb402-4"><a href="descrevendo-os-dados.html#cb402-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> idadeCateg, <span class="at">y =</span> <span class="fu">after_stat</span>(count<span class="sc">/</span><span class="fu">sum</span>(count)), </span>
<span id="cb402-5"><a href="descrevendo-os-dados.html#cb402-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> idadeCateg),</span>
<span id="cb402-6"><a href="descrevendo-os-dados.html#cb402-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb402-7"><a href="descrevendo-os-dados.html#cb402-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Frequência&quot;</span>, </span>
<span id="cb402-8"><a href="descrevendo-os-dados.html#cb402-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Faixa Etária da Parturiente&quot;</span>,</span>
<span id="cb402-9"><a href="descrevendo-os-dados.html#cb402-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Fonte: Autor&quot;</span>) <span class="sc">+</span></span>
<span id="cb402-10"><a href="descrevendo-os-dados.html#cb402-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span> (<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.05</span>)),</span>
<span id="cb402-11"><a href="descrevendo-os-dados.html#cb402-11" aria-hidden="true" tabindex="-1"></a>                          <span class="at">labels =</span> <span class="fu">percent_format</span> (<span class="at">accuracy =</span> <span class="fl">0.1</span>,</span>
<span id="cb402-12"><a href="descrevendo-os-dados.html#cb402-12" aria-hidden="true" tabindex="-1"></a>                                                   <span class="at">decimal.mark =</span> <span class="st">&quot;,&quot;</span>)) <span class="sc">+</span></span>
<span id="cb402-13"><a href="descrevendo-os-dados.html#cb402-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span> (<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Adolescente&quot;</span>, <span class="st">&quot;Adulta jovem&quot;</span>, <span class="st">&quot;Gestante idosa&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb402-14"><a href="descrevendo-os-dados.html#cb402-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_lancet</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:cor2"></span>
<img src="bookdownproj_files/figure-html/cor2-1.png" alt="Frequência da faixa etária das parturientes da Maternidade do HCCS, 2008." width="80%" height="80%" />
<p class="caption">
Figure 6.70: Frequência da faixa etária das parturientes da Maternidade do HCCS, 2008.
</p>
</div>
</div>
<div id="exemplo-final-gráfico-de-barra-de-erro-com-colunas" class="section level3 hasAnchor" number="6.5.13">
<h3><span class="header-section-number">6.5.13</span> Exemplo final: Gráfico de barra de erro com colunas<a href="descrevendo-os-dados.html#exemplo-final-gráfico-de-barra-de-erro-com-colunas" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Será construído um gráfico de barras de erro para visualizar a influência do sexo e do tabagismo materno no peso do recém-nascido (Figura <a href="descrevendo-os-dados.html#fig:final">6.71</a>. Será incluído a representação das colunas (barras) e as barras de erro com intervalo de confiança de 95%, calculado usando <em>média</em> <span class="math inline">\(\pm\)</span> <em>margem de erro</em>, onde margem de erro = 1.96 <span class="math inline">\(\times\)</span> <em>erro padrão</em>. Estes conceitos serão discutidos em outros capítulos.</p>
<p>Em primeiro lugar, faz-se um resumo dos dados que serão usados no gráfico:</p>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb403-1"><a href="descrevendo-os-dados.html#cb403-1" aria-hidden="true" tabindex="-1"></a>resumo <span class="ot">&lt;-</span> dados <span class="sc">%&gt;%</span> </span>
<span id="cb403-2"><a href="descrevendo-os-dados.html#cb403-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sexo, fumo) <span class="sc">%&gt;%</span> </span>
<span id="cb403-3"><a href="descrevendo-os-dados.html#cb403-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb403-4"><a href="descrevendo-os-dados.html#cb403-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">media =</span> <span class="fu">mean</span>(pesoRN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb403-5"><a href="descrevendo-os-dados.html#cb403-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">dp =</span> <span class="fu">sd</span>(pesoRN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb403-6"><a href="descrevendo-os-dados.html#cb403-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">me =</span> <span class="fl">1.96</span> <span class="sc">*</span> dp<span class="sc">/</span><span class="fu">sqrt</span>(n))</span>
<span id="cb403-7"><a href="descrevendo-os-dados.html#cb403-7" aria-hidden="true" tabindex="-1"></a>resumo</span></code></pre></div>
<pre><code>## # A tibble: 4 × 6
## # Groups:   sexo [2]
##   sexo  fumo      n media    dp    me
##   &lt;fct&gt; &lt;fct&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 masc  sim     122 3162.  464.  82.4
## 2 masc  não     470 3303.  453.  40.9
## 3 fem   sim     110 2998.  503.  94.1
## 4 fem   não     383 3190.  435.  43.6</code></pre>
<p>Onde, <code>dp = desvio padrão</code> e <code>me = margem de erro</code>. O objeto <code>resumo</code> pertence a classe <code>data.frame</code> e será empregado na construção do gráfico:</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="descrevendo-os-dados.html#cb405-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(resumo, </span>
<span id="cb405-2"><a href="descrevendo-os-dados.html#cb405-2" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">x=</span>sexo, <span class="at">y=</span>media, <span class="at">fill=</span>fumo)) <span class="sc">+</span> </span>
<span id="cb405-3"><a href="descrevendo-os-dados.html#cb405-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, </span>
<span id="cb405-4"><a href="descrevendo-os-dados.html#cb405-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">position=</span><span class="fu">position_dodge</span>()) <span class="sc">+</span></span>
<span id="cb405-5"><a href="descrevendo-os-dados.html#cb405-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>media<span class="sc">-</span>me, <span class="at">ymax=</span>media<span class="sc">+</span>me), <span class="at">width=</span>.<span class="dv">2</span>,</span>
<span id="cb405-6"><a href="descrevendo-os-dados.html#cb405-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">position=</span><span class="fu">position_dodge</span>(.<span class="dv">9</span>)) <span class="sc">+</span></span>
<span id="cb405-7"><a href="descrevendo-os-dados.html#cb405-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Sexo&quot;</span>, </span>
<span id="cb405-8"><a href="descrevendo-os-dados.html#cb405-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Peso do RN (g)&quot;</span>,</span>
<span id="cb405-9"><a href="descrevendo-os-dados.html#cb405-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">&quot;Tabagismo&quot;</span>,</span>
<span id="cb405-10"><a href="descrevendo-os-dados.html#cb405-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;RN = Recém-nascido&quot;</span>)<span class="sc">+</span></span>
<span id="cb405-11"><a href="descrevendo-os-dados.html#cb405-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span> </span>
<span id="cb405-12"><a href="descrevendo-os-dados.html#cb405-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;gray80&#39;</span>,<span class="st">&#39;darkslategray1&#39;</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:final"></span>
<img src="bookdownproj_files/figure-html/final-1.png" alt="Influência do sexo e tabagismo materno no peso ao nascer." width="80%" height="80%" />
<p class="caption">
Figure 6.71: Influência do sexo e tabagismo materno no peso ao nascer.
</p>
</div>
<p>Observe que o rótulo da legenda foi determinado com <code>fill = "Tabagismo"</code>, porque a cor das barras foi estabelecida na estética do <code>ggplot</code> com o mesmo argumento.</p>
<p><br>
<br></p>
<p>OBS.: Clique em <a href="https://www.maths.usyd.edu.au/u/UG/SM/STAT3022/r/current/Misc/data-visualization-2.1.pdf"><strong>ggplot2::cheat sheet</strong></a> para obter a planilha de dicas do <code>ggplot2</code>.</p>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="9">
<li id="fn9"><p>Poderiam ser transformados em fatores sem trocar os rótulos e manter os números 1 e 2, como se fossem palavras. O autor prefere usar nomes.<a href="descrevendo-os-dados.html#fnref9" class="footnote-back">↩︎</a></p></li>
<li id="fn10"><p>Para outras opções do tipo de linha, pode-se usar a função <code>show_lines_types()</code> do pacote <code>ggpubr</code><a href="descrevendo-os-dados.html#fnref10" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="manipulando-os-dados-no-r-studio.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="introdução-à-teoria-das-probabilidades.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/petronioliveira/bookR/edit/main/06-descrevendoDados.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/petronioliveira/bookR/blob/main/06-descrevendoDados.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
